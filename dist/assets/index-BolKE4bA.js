var ov=t=>{throw TypeError(t)};var _p=(t,e,n)=>e.has(t)||ov("Cannot "+n);var $=(t,e,n)=>(_p(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?ov("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ye=(t,e,n,r)=>(_p(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ct=(t,e,n)=>(_p(t,e,"access private method"),n);var cc=(t,e,n,r)=>({set _(i){ye(t,e,i,n)},get _(){return $(t,e,r)}});function DT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p4={exports:{}},qd={},m4={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),FT=Symbol.for("react.portal"),LT=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),UT=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),VT=Symbol.for("react.context"),OT=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),zT=Symbol.for("react.memo"),HT=Symbol.for("react.lazy"),lv=Symbol.iterator;function WT(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var g4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y4=Object.assign,v4={};function _l(t,e,n){this.props=t,this.context=e,this.refs=v4,this.updater=n||g4}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C4(){}C4.prototype=_l.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=v4,this.updater=n||g4}var Hg=zg.prototype=new C4;Hg.constructor=zg;y4(Hg,_l.prototype);Hg.isPureReactComponent=!0;var av=Array.isArray,S4=Object.prototype.hasOwnProperty,Wg={current:null},_4={key:!0,ref:!0,__self:!0,__source:!0};function x4(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)S4.call(e,r)&&!_4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ou,type:t,key:o,ref:s,props:i,_owner:Wg.current}}function qT(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function $T(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uv=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$T(""+t.key):e.toString(36)}function Wc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ou:case FT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xp(s,0):r,av(i)?(n="",t!=null&&(n=t.replace(uv,"$&/")+"/"),Wc(i,e,n,"",function(h){return h})):i!=null&&(qg(i)&&(i=qT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(uv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",av(t))for(var a=0;a<t.length;a++){o=t[a];var f=r+xp(o,a);s+=Wc(o,e,n,f,i)}else if(f=WT(t),typeof f=="function")for(t=f.call(t),a=0;!(o=t.next()).done;)o=o.value,f=r+xp(o,a++),s+=Wc(o,e,n,f,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},qc={transition:null},YT={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Wg};function T4(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=_l;Ae.Fragment=LT;Ae.Profiler=UT;Ae.PureComponent=zg;Ae.StrictMode=bT;Ae.Suspense=BT;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT;Ae.act=T4;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y4({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(f in e)S4.call(e,f)&&!_4.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&a!==void 0?a[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:ou,type:t.type,key:i,ref:o,props:r,_owner:s}};Ae.createContext=function(t){return t={$$typeof:VT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GT,_context:t},t.Consumer=t};Ae.createElement=x4;Ae.createFactory=function(t){var e=x4.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:OT,render:t}};Ae.isValidElement=qg;Ae.lazy=function(t){return{$$typeof:HT,_payload:{_status:-1,_result:t},_init:KT}};Ae.memo=function(t,e){return{$$typeof:zT,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};Ae.unstable_act=T4;Ae.useCallback=function(t,e){return an.current.useCallback(t,e)};Ae.useContext=function(t){return an.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return an.current.useEffect(t,e)};Ae.useId=function(){return an.current.useId()};Ae.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return an.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ae.useRef=function(t){return an.current.useRef(t)};Ae.useState=function(t){return an.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return an.current.useTransition()};Ae.version="18.3.1";m4.exports=Ae;var V=m4.exports;const $e=Wd(V),w4=DT({__proto__:null,default:$e},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=V,QT=Symbol.for("react.element"),XT=Symbol.for("react.fragment"),ZT=Object.prototype.hasOwnProperty,jT=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function E4(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ZT.call(e,r)&&!ew.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QT,type:t,key:o,ref:s,props:i,_owner:jT.current}}qd.Fragment=XT;qd.jsx=E4;qd.jsxs=E4;p4.exports=qd;var A=p4.exports,k4={exports:{}},Mn={},P4={exports:{}},M4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,ee){var Y=B.length;B.push(ee);e:for(;0<Y;){var re=Y-1>>>1,ne=B[re];if(0<i(ne,ee))B[re]=ee,B[Y]=ne,Y=re;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],Y=B.pop();if(Y!==ee){B[0]=Y;e:for(var re=0,ne=B.length,ge=ne>>>1;re<ge;){var Te=2*(re+1)-1,Qe=B[Te],ze=Te+1,U=B[ze];if(0>i(Qe,Y))ze<ne&&0>i(U,Qe)?(B[re]=U,B[ze]=Y,re=ze):(B[re]=Qe,B[Te]=Y,re=Te);else if(ze<ne&&0>i(U,Y))B[re]=U,B[ze]=Y,re=ze;else break e}}return ee}function i(B,ee){var Y=B.sortIndex-ee.sortIndex;return Y!==0?Y:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var f=[],h=[],p=1,g=null,y=3,_=!1,x=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=B)r(h),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(h)}}function k(B){if(T=!1,C(B),!x)if(n(f)!==null)x=!0,fe(I);else{var ee=n(h);ee!==null&&pe(k,ee.startTime-B)}}function I(B,ee){x=!1,T&&(T=!1,w(R),R=-1),_=!0;var Y=y;try{for(C(ee),g=n(f);g!==null&&(!(g.expirationTime>ee)||B&&!z());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var ne=re(g.expirationTime<=ee);ee=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(f)&&r(f),C(ee)}else r(f);g=n(f)}if(g!==null)var ge=!0;else{var Te=n(h);Te!==null&&pe(k,Te.startTime-ee),ge=!1}return ge}finally{g=null,y=Y,_=!1}}var N=!1,F=null,R=-1,b=5,L=-1;function z(){return!(t.unstable_now()-L<b)}function W(){if(F!==null){var B=t.unstable_now();L=B;var ee=!0;try{ee=F(!0,B)}finally{ee?X():(N=!1,F=null)}}else N=!1}var X;if(typeof E=="function")X=function(){E(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=W,X=function(){J.postMessage(null)}}else X=function(){M(W,0)};function fe(B){F=B,N||(N=!0,X())}function pe(B,ee){R=M(function(){B(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,fe(I))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var Y=y;y=ee;try{return B()}finally{y=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=y;y=B;try{return ee()}finally{y=Y}},t.unstable_scheduleCallback=function(B,ee,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Y+ne,B={id:p++,callback:ee,priorityLevel:B,startTime:Y,expirationTime:ne,sortIndex:-1},Y>re?(B.sortIndex=Y,e(h,B),n(f)===null&&B===n(h)&&(T?(w(R),R=-1):T=!0,pe(k,Y-re))):(B.sortIndex=ne,e(f,B),x||_||(x=!0,fe(I))),B},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(B){var ee=y;return function(){var Y=y;y=ee;try{return B.apply(this,arguments)}finally{y=Y}}}})(M4);P4.exports=M4;var xa=P4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=V,Pn=xa;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I4=new Set,Da={};function Qo(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(Da[t]=e,t=0;t<e.length;t++)I4.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cv={},dv={};function rw(t){return Cm.call(dv,t)?!0:Cm.call(cv,t)?!1:nw.test(t)?dv[t]=!0:(cv[t]=!0,!1)}function iw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ow(t,e,n,r){if(e===null||typeof e>"u"||iw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($g,Kg);qt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($g,Kg);qt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($g,Kg);qt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yg(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ow(e,n,i,r)&&(n=null),r||i===null?rw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),A4=Symbol.for("react.provider"),R4=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),N4=Symbol.for("react.offscreen"),fv=Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Tp;function ya(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var wp=!1;function Ep(t,e){if(!t||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=s&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ya(t):""}function sw(t){switch(t.tag){case 5:return ya(t.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Ds:return"Portal";case Sm:return"Profiler";case Jg:return"StrictMode";case _m:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R4:return(t.displayName||"Context")+".Consumer";case A4:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:Tm(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return Tm(t(e))}catch{}}return null}function lw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function no(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aw(t){var e=D4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=aw(t))}function F4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=no(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L4(t,e){e=e.checked,e!=null&&Yg(t,"checked",e,!1)}function Em(t,e){L4(t,e);var n=no(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?km(t,e.type,n):e.hasOwnProperty("defaultValue")&&km(t,e.type,no(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function km(t,e,n){(e!=="number"||cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var va=Array.isArray;function $s(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+no(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(va(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:no(n)}}function b4(t,e){var n=no(e.value),r=no(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,G4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(t){uw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ta[e]=Ta[t]})});function V4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ta.hasOwnProperty(t)&&Ta[t]?(""+e).trim():e+"px"}function O4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cw=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(t,e){if(e){if(cw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nm=null,Ks=null,Ys=null;function yv(t){if(t=au(t)){if(typeof Nm!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Qd(e),Nm(t.stateNode,t.type,e))}}function B4(t){Ks?Ys?Ys.push(t):Ys=[t]:Ks=t}function z4(){if(Ks){var t=Ks,e=Ys;if(Ys=Ks=null,yv(t),e)for(t=0;t<e.length;t++)yv(e[t])}}function H4(t,e){return t(e)}function W4(){}var kp=!1;function q4(t,e,n){if(kp)return t(e,n);kp=!0;try{return H4(t,e,n)}finally{kp=!1,(Ks!==null||Ys!==null)&&(W4(),z4())}}function La(t,e){var n=t.stateNode;if(n===null)return null;var r=Qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Dm=!1;if(ii)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Dm=!1}function dw(t,e,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var wa=!1,dd=null,fd=!1,Fm=null,fw={onError:function(t){wa=!0,dd=t}};function hw(t,e,n,r,i,o,s,a,f){wa=!1,dd=null,dw.apply(fw,arguments)}function pw(t,e,n,r,i,o,s,a,f){if(hw.apply(this,arguments),wa){if(wa){var h=dd;wa=!1,dd=null}else throw Error(j(198));fd||(fd=!0,Fm=h)}}function Xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vv(t){if(Xo(t)!==t)throw Error(j(188))}function mw(t){var e=t.alternate;if(!e){if(e=Xo(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vv(i),t;if(o===r)return vv(i),e;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function K4(t){return t=mw(t),t!==null?Y4(t):null}function Y4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y4(t);if(e!==null)return e;t=t.sibling}return null}var J4=Pn.unstable_scheduleCallback,Cv=Pn.unstable_cancelCallback,gw=Pn.unstable_shouldYield,yw=Pn.unstable_requestPaint,St=Pn.unstable_now,vw=Pn.unstable_getCurrentPriorityLevel,jg=Pn.unstable_ImmediatePriority,Q4=Pn.unstable_UserBlockingPriority,hd=Pn.unstable_NormalPriority,Cw=Pn.unstable_LowPriority,X4=Pn.unstable_IdlePriority,$d=null,Nr=null;function Sw(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot($d,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Tw,_w=Math.log,xw=Math.LN2;function Tw(t){return t>>>=0,t===0?32:31-(_w(t)/xw|0)|0}var mc=64,gc=4194304;function Ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ca(a):(o&=s,o!==0&&(r=Ca(o)))}else s=n&~i,s!==0?r=Ca(s):o!==0&&(r=Ca(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function ww(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ew(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ur(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=ww(a,e)):f<=e&&(t.expiredLanes|=a),o&=~a}}function Lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z4(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function Pp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function kw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function e0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function j4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e3,t0,t3,n3,r3,bm=!1,yc=[],Ki=null,Yi=null,Ji=null,ba=new Map,Ua=new Map,Li=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(e.pointerId)}}function sa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=au(e),e!==null&&t0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mw(t,e,n,r,i){switch(e){case"focusin":return Ki=sa(Ki,t,e,n,r,i),!0;case"dragenter":return Yi=sa(Yi,t,e,n,r,i),!0;case"mouseover":return Ji=sa(Ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ba.set(o,sa(ba.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ua.set(o,sa(Ua.get(o)||null,t,e,n,r,i)),!0}return!1}function i3(t){var e=No(t.target);if(e!==null){var n=Xo(e);if(n!==null){if(e=n.tag,e===13){if(e=$4(n),e!==null){t.blockedOn=e,r3(t.priority,function(){t3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rm=r,n.target.dispatchEvent(r),Rm=null}else return e=au(n),e!==null&&t0(e),t.blockedOn=n,!1;e.shift()}return!0}function _v(t,e,n){$c(t)&&n.delete(e)}function Iw(){bm=!1,Ki!==null&&$c(Ki)&&(Ki=null),Yi!==null&&$c(Yi)&&(Yi=null),Ji!==null&&$c(Ji)&&(Ji=null),ba.forEach(_v),Ua.forEach(_v)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,bm||(bm=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,Iw)))}function Ga(t){function e(i){return la(i,t)}if(0<yc.length){la(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&la(Ki,t),Yi!==null&&la(Yi,t),Ji!==null&&la(Ji,t),ba.forEach(e),Ua.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)i3(n),n.blockedOn===null&&Li.shift()}var Js=ai.ReactCurrentBatchConfig,md=!0;function Aw(t,e,n,r){var i=Be,o=Js.transition;Js.transition=null;try{Be=1,n0(t,e,n,r)}finally{Be=i,Js.transition=o}}function Rw(t,e,n,r){var i=Be,o=Js.transition;Js.transition=null;try{Be=4,n0(t,e,n,r)}finally{Be=i,Js.transition=o}}function n0(t,e,n,r){if(md){var i=Um(t,e,n,r);if(i===null)Up(t,e,r,gd,n),Sv(t,r);else if(Mw(i,t,e,n,r))r.stopPropagation();else if(Sv(t,r),e&4&&-1<Pw.indexOf(t)){for(;i!==null;){var o=au(i);if(o!==null&&e3(o),o=Um(t,e,n,r),o===null&&Up(t,e,r,gd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Up(t,e,r,null,n)}}var gd=null;function Um(t,e,n,r){if(gd=null,t=Zg(r),t=No(t),t!==null)if(e=Xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gd=t,null}function o3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vw()){case jg:return 1;case Q4:return 4;case hd:case Cw:return 16;case X4:return 536870912;default:return 16}default:return 16}}var Wi=null,r0=null,Kc=null;function s3(){if(Kc)return Kc;var t,e=r0,n=e.length,r,i="value"in Wi?Wi.value:Wi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function xv(){return!1}function In(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vc:xv,this.isPropagationStopped=xv,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i0=In(xl),lu=dt({},xl,{view:0,detail:0}),Nw=In(lu),Mp,Ip,aa,Kd=dt({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Mp=t.screenX-aa.screenX,Ip=t.screenY-aa.screenY):Ip=Mp=0,aa=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:Ip}}),Tv=In(Kd),Dw=dt({},Kd,{dataTransfer:0}),Fw=In(Dw),Lw=dt({},lu,{relatedTarget:0}),Ap=In(Lw),bw=dt({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),Uw=In(bw),Gw=dt({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vw=In(Gw),Ow=dt({},xl,{data:0}),wv=In(Ow),Bw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ww(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hw[t])?!!e[t]:!1}function o0(){return Ww}var qw=dt({},lu,{key:function(t){if(t.key){var e=Bw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$w=In(qw),Kw=dt({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=In(Kw),Yw=dt({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),Jw=In(Yw),Qw=dt({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xw=In(Qw),Zw=dt({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jw=In(Zw),e8=[9,13,27,32],s0=ii&&"CompositionEvent"in window,Ea=null;ii&&"documentMode"in document&&(Ea=document.documentMode);var t8=ii&&"TextEvent"in window&&!Ea,l3=ii&&(!s0||Ea&&8<Ea&&11>=Ea),kv=" ",Pv=!1;function a3(t,e){switch(t){case"keyup":return e8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function n8(t,e){switch(t){case"compositionend":return u3(e);case"keypress":return e.which!==32?null:(Pv=!0,kv);case"textInput":return t=e.data,t===kv&&Pv?null:t;default:return null}}function r8(t,e){if(Ls)return t==="compositionend"||!s0&&a3(t,e)?(t=s3(),Kc=r0=Wi=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l3&&e.locale!=="ko"?null:e.data;default:return null}}var i8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i8[t.type]:e==="textarea"}function c3(t,e,n,r){B4(r),e=yd(e,"onChange"),0<e.length&&(n=new i0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Va=null;function o8(t){_3(t,0)}function Yd(t){var e=Gs(t);if(F4(e))return t}function s8(t,e){if(t==="change")return e}var d3=!1;if(ii){var Rp;if(ii){var Np="oninput"in document;if(!Np){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),Np=typeof Iv.oninput=="function"}Rp=Np}else Rp=!1;d3=Rp&&(!document.documentMode||9<document.documentMode)}function Av(){ka&&(ka.detachEvent("onpropertychange",f3),Va=ka=null)}function f3(t){if(t.propertyName==="value"&&Yd(Va)){var e=[];c3(e,Va,t,Zg(t)),q4(o8,e)}}function l8(t,e,n){t==="focusin"?(Av(),ka=e,Va=n,ka.attachEvent("onpropertychange",f3)):t==="focusout"&&Av()}function a8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(Va)}function u8(t,e){if(t==="click")return Yd(e)}function c8(t,e){if(t==="input"||t==="change")return Yd(e)}function d8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:d8;function Oa(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function Rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nv(t,e){var n=Rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rv(n)}}function h3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p3(){for(var t=window,e=cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cd(t.document)}return e}function l0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f8(t){var e=p3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h3(n.ownerDocument.documentElement,n)){if(r!==null&&l0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Nv(n,o);var s=Nv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h8=ii&&"documentMode"in document&&11>=document.documentMode,bs=null,Gm=null,Pa=null,Vm=!1;function Dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vm||bs==null||bs!==cd(r)||(r=bs,"selectionStart"in r&&l0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pa&&Oa(Pa,r)||(Pa=r,r=yd(Gm,"onSelect"),0<r.length&&(e=new i0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function Cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Us={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},Dp={},m3={};ii&&(m3=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Jd(t){if(Dp[t])return Dp[t];if(!Us[t])return t;var e=Us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m3)return Dp[t]=e[n];return t}var g3=Jd("animationend"),y3=Jd("animationiteration"),v3=Jd("animationstart"),C3=Jd("transitionend"),S3=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){S3.set(t,e),Qo(e,[t])}for(var Fp=0;Fp<Fv.length;Fp++){var Lp=Fv[Fp],p8=Lp.toLowerCase(),m8=Lp[0].toUpperCase()+Lp.slice(1);so(p8,"on"+m8)}so(g3,"onAnimationEnd");so(y3,"onAnimationIteration");so(v3,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(C3,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pw(r,e,void 0,t),t.currentTarget=null}function _3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;Lv(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;Lv(i,a,h),o=f}}}if(fd)throw t=Fm,fd=!1,Fm=null,t}function et(t,e){var n=e[Wm];n===void 0&&(n=e[Wm]=new Set);var r=t+"__bubble";n.has(r)||(x3(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),x3(n,t,r,e)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[Sc]){t[Sc]=!0,I4.forEach(function(n){n!=="selectionchange"&&(g8.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sc]||(e[Sc]=!0,bp("selectionchange",!1,e))}}function x3(t,e,n,r){switch(o3(e)){case 1:var i=Aw;break;case 4:i=Rw;break;default:i=n0}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Up(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=No(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}q4(function(){var h=o,p=Zg(n),g=[];e:{var y=S3.get(t);if(y!==void 0){var _=i0,x=t;switch(t){case"keypress":if(Yc(n)===0)break e;case"keydown":case"keyup":_=$w;break;case"focusin":x="focus",_=Ap;break;case"focusout":x="blur",_=Ap;break;case"beforeblur":case"afterblur":_=Ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Jw;break;case g3:case y3:case v3:_=Uw;break;case C3:_=Xw;break;case"scroll":_=Nw;break;case"wheel":_=jw;break;case"copy":case"cut":case"paste":_=Vw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ev}var T=(e&4)!==0,M=!T&&t==="scroll",w=T?y!==null?y+"Capture":null:y;T=[];for(var E=h,C;E!==null;){C=E;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,w!==null&&(k=La(E,w),k!=null&&T.push(za(E,k,C)))),M)break;E=E.return}0<T.length&&(y=new _(y,x,null,n,p),g.push({event:y,listeners:T}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Rm&&(x=n.relatedTarget||n.fromElement)&&(No(x)||x[oi]))break e;if((_||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?No(x):null,x!==null&&(M=Xo(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=h),_!==x)){if(T=Tv,k="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=Ev,k="onPointerLeave",w="onPointerEnter",E="pointer"),M=_==null?y:Gs(_),C=x==null?y:Gs(x),y=new T(k,E+"leave",_,n,p),y.target=M,y.relatedTarget=C,k=null,No(p)===h&&(T=new T(w,E+"enter",x,n,p),T.target=C,T.relatedTarget=M,k=T),M=k,_&&x)t:{for(T=_,w=x,E=0,C=T;C;C=ws(C))E++;for(C=0,k=w;k;k=ws(k))C++;for(;0<E-C;)T=ws(T),E--;for(;0<C-E;)w=ws(w),C--;for(;E--;){if(T===w||w!==null&&T===w.alternate)break t;T=ws(T),w=ws(w)}T=null}else T=null;_!==null&&bv(g,y,_,T,!1),x!==null&&M!==null&&bv(g,M,x,T,!0)}}e:{if(y=h?Gs(h):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var I=s8;else if(Mv(y))if(d3)I=c8;else{I=a8;var N=l8}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=u8);if(I&&(I=I(t,h))){c3(g,I,n,p);break e}N&&N(t,y,h),t==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&km(y,"number",y.value)}switch(N=h?Gs(h):window,t){case"focusin":(Mv(N)||N.contentEditable==="true")&&(bs=N,Gm=h,Pa=null);break;case"focusout":Pa=Gm=bs=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,Dv(g,n,p);break;case"selectionchange":if(h8)break;case"keydown":case"keyup":Dv(g,n,p)}var F;if(s0)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ls?a3(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(l3&&n.locale!=="ko"&&(Ls||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ls&&(F=s3()):(Wi=p,r0="value"in Wi?Wi.value:Wi.textContent,Ls=!0)),N=yd(h,R),0<N.length&&(R=new wv(R,t,null,n,p),g.push({event:R,listeners:N}),F?R.data=F:(F=u3(n),F!==null&&(R.data=F)))),(F=t8?n8(t,n):r8(t,n))&&(h=yd(h,"onBeforeInput"),0<h.length&&(p=new wv("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=F))}_3(g,e)})}function za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=La(t,n),o!=null&&r.unshift(za(t,o,i)),o=La(t,e),o!=null&&r.push(za(t,o,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=La(n,o),f!=null&&s.unshift(za(n,f,a))):i||(f=La(n,o),f!=null&&s.push(za(n,f,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var y8=/\r\n?/g,v8=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(y8,`
`).replace(v8,"")}function _c(t,e,n){if(e=Uv(e),Uv(t)!==e&&n)throw Error(j(425))}function vd(){}var Om=null,Bm=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,C8=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,S8=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(_8)}:Hm;function _8(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ga(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Tl,Ha="__reactProps$"+Tl,oi="__reactContainer$"+Tl,Wm="__reactEvents$"+Tl,x8="__reactListeners$"+Tl,T8="__reactHandles$"+Tl;function No(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vv(t);t!==null;){if(n=t[Ir])return n;t=Vv(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[Ir]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Qd(t){return t[Ha]||null}var qm=[],Vs=-1;function lo(t){return{current:t}}function nt(t){0>Vs||(t.current=qm[Vs],qm[Vs]=null,Vs--)}function Je(t,e){Vs++,qm[Vs]=t.current,t.current=e}var ro={},tn=lo(ro),Cn=lo(!1),zo=ro;function fl(t,e){var n=t.type.contextTypes;if(!n)return ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Cd(){nt(Cn),nt(tn)}function Ov(t,e,n){if(tn.current!==ro)throw Error(j(168));Je(tn,e),Je(Cn,n)}function T3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,lw(t)||"Unknown",i));return dt({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ro,zo=tn.current,Je(tn,t),Je(Cn,Cn.current),!0}function Bv(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=T3(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,nt(Cn),nt(tn),Je(tn,t)):nt(Cn),Je(Cn,n)}var Jr=null,Xd=!1,Vp=!1;function w3(t){Jr===null?Jr=[t]:Jr.push(t)}function w8(t){Xd=!0,w3(t)}function ao(){if(!Vp&&Jr!==null){Vp=!0;var t=0,e=Be;try{var n=Jr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Xd=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(t+1)),J4(jg,ao),i}finally{Be=e,Vp=!1}}return null}var Os=[],Bs=0,_d=null,xd=0,Bn=[],zn=0,Ho=null,jr=1,ei="";function Io(t,e){Os[Bs++]=xd,Os[Bs++]=_d,_d=t,xd=e}function E3(t,e,n){Bn[zn++]=jr,Bn[zn++]=ei,Bn[zn++]=Ho,Ho=t;var r=jr;t=ei;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jr=1<<32-ur(e)+i|n<<i|r,ei=o+t}else jr=1<<o|n<<i|r,ei=t}function a0(t){t.return!==null&&(Io(t,1),E3(t,1,0))}function u0(t){for(;t===_d;)_d=Os[--Bs],Os[Bs]=null,xd=Os[--Bs],Os[Bs]=null;for(;t===Ho;)Ho=Bn[--zn],Bn[zn]=null,ei=Bn[--zn],Bn[zn]=null,jr=Bn[--zn],Bn[zn]=null}var kn=null,En=null,ot=!1,ar=null;function k3(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,En=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:jr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,En=null,!0):!1;default:return!1}}function $m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Km(t){if(ot){var e=En;if(e){var n=e;if(!zv(t,e)){if($m(t))throw Error(j(418));e=Qi(n.nextSibling);var r=kn;e&&zv(t,e)?k3(r,n):(t.flags=t.flags&-4097|2,ot=!1,kn=t)}}else{if($m(t))throw Error(j(418));t.flags=t.flags&-4097|2,ot=!1,kn=t}}}function Hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function xc(t){if(t!==kn)return!1;if(!ot)return Hv(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=En)){if($m(t))throw P3(),Error(j(418));for(;e;)k3(t,e),e=Qi(e.nextSibling)}if(Hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=kn?Qi(t.stateNode.nextSibling):null;return!0}function P3(){for(var t=En;t;)t=Qi(t.nextSibling)}function hl(){En=kn=null,ot=!1}function c0(t){ar===null?ar=[t]:ar.push(t)}var E8=ai.ReactCurrentBatchConfig;function ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wv(t){var e=t._init;return e(t._payload)}function M3(t){function e(w,E){if(t){var C=w.deletions;C===null?(w.deletions=[E],w.flags|=16):C.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=eo(w,E),w.index=0,w.sibling=null,w}function o(w,E,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<E?(w.flags|=2,E):C):(w.flags|=2,E)):(w.flags|=1048576,E)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,C,k){return E===null||E.tag!==6?(E=$p(C,w.mode,k),E.return=w,E):(E=i(E,C),E.return=w,E)}function f(w,E,C,k){var I=C.type;return I===Fs?p(w,E,C.props.children,k,C.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Di&&Wv(I)===E.type)?(k=i(E,C.props),k.ref=ua(w,E,C),k.return=w,k):(k=td(C.type,C.key,C.props,null,w.mode,k),k.ref=ua(w,E,C),k.return=w,k)}function h(w,E,C,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Kp(C,w.mode,k),E.return=w,E):(E=i(E,C.children||[]),E.return=w,E)}function p(w,E,C,k,I){return E===null||E.tag!==7?(E=Bo(C,w.mode,k,I),E.return=w,E):(E=i(E,C),E.return=w,E)}function g(w,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=$p(""+E,w.mode,C),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:return C=td(E.type,E.key,E.props,null,w.mode,C),C.ref=ua(w,null,E),C.return=w,C;case Ds:return E=Kp(E,w.mode,C),E.return=w,E;case Di:var k=E._init;return g(w,k(E._payload),C)}if(va(E)||ia(E))return E=Bo(E,w.mode,C,null),E.return=w,E;Tc(w,E)}return null}function y(w,E,C,k){var I=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return I!==null?null:a(w,E,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:return C.key===I?f(w,E,C,k):null;case Ds:return C.key===I?h(w,E,C,k):null;case Di:return I=C._init,y(w,E,I(C._payload),k)}if(va(C)||ia(C))return I!==null?null:p(w,E,C,k,null);Tc(w,C)}return null}function _(w,E,C,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(C)||null,a(E,w,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fc:return w=w.get(k.key===null?C:k.key)||null,f(E,w,k,I);case Ds:return w=w.get(k.key===null?C:k.key)||null,h(E,w,k,I);case Di:var N=k._init;return _(w,E,C,N(k._payload),I)}if(va(k)||ia(k))return w=w.get(C)||null,p(E,w,k,I,null);Tc(E,k)}return null}function x(w,E,C,k){for(var I=null,N=null,F=E,R=E=0,b=null;F!==null&&R<C.length;R++){F.index>R?(b=F,F=null):b=F.sibling;var L=y(w,F,C[R],k);if(L===null){F===null&&(F=b);break}t&&F&&L.alternate===null&&e(w,F),E=o(L,E,R),N===null?I=L:N.sibling=L,N=L,F=b}if(R===C.length)return n(w,F),ot&&Io(w,R),I;if(F===null){for(;R<C.length;R++)F=g(w,C[R],k),F!==null&&(E=o(F,E,R),N===null?I=F:N.sibling=F,N=F);return ot&&Io(w,R),I}for(F=r(w,F);R<C.length;R++)b=_(F,w,R,C[R],k),b!==null&&(t&&b.alternate!==null&&F.delete(b.key===null?R:b.key),E=o(b,E,R),N===null?I=b:N.sibling=b,N=b);return t&&F.forEach(function(z){return e(w,z)}),ot&&Io(w,R),I}function T(w,E,C,k){var I=ia(C);if(typeof I!="function")throw Error(j(150));if(C=I.call(C),C==null)throw Error(j(151));for(var N=I=null,F=E,R=E=0,b=null,L=C.next();F!==null&&!L.done;R++,L=C.next()){F.index>R?(b=F,F=null):b=F.sibling;var z=y(w,F,L.value,k);if(z===null){F===null&&(F=b);break}t&&F&&z.alternate===null&&e(w,F),E=o(z,E,R),N===null?I=z:N.sibling=z,N=z,F=b}if(L.done)return n(w,F),ot&&Io(w,R),I;if(F===null){for(;!L.done;R++,L=C.next())L=g(w,L.value,k),L!==null&&(E=o(L,E,R),N===null?I=L:N.sibling=L,N=L);return ot&&Io(w,R),I}for(F=r(w,F);!L.done;R++,L=C.next())L=_(F,w,R,L.value,k),L!==null&&(t&&L.alternate!==null&&F.delete(L.key===null?R:L.key),E=o(L,E,R),N===null?I=L:N.sibling=L,N=L);return t&&F.forEach(function(W){return e(w,W)}),ot&&Io(w,R),I}function M(w,E,C,k){if(typeof C=="object"&&C!==null&&C.type===Fs&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:e:{for(var I=C.key,N=E;N!==null;){if(N.key===I){if(I=C.type,I===Fs){if(N.tag===7){n(w,N.sibling),E=i(N,C.props.children),E.return=w,w=E;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Di&&Wv(I)===N.type){n(w,N.sibling),E=i(N,C.props),E.ref=ua(w,N,C),E.return=w,w=E;break e}n(w,N);break}else e(w,N);N=N.sibling}C.type===Fs?(E=Bo(C.props.children,w.mode,k,C.key),E.return=w,w=E):(k=td(C.type,C.key,C.props,null,w.mode,k),k.ref=ua(w,E,C),k.return=w,w=k)}return s(w);case Ds:e:{for(N=C.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(w,E.sibling),E=i(E,C.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Kp(C,w.mode,k),E.return=w,w=E}return s(w);case Di:return N=C._init,M(w,E,N(C._payload),k)}if(va(C))return x(w,E,C,k);if(ia(C))return T(w,E,C,k);Tc(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,C),E.return=w,w=E):(n(w,E),E=$p(C,w.mode,k),E.return=w,w=E),s(w)):n(w,E)}return M}var pl=M3(!0),I3=M3(!1),Td=lo(null),wd=null,zs=null,d0=null;function f0(){d0=zs=wd=null}function h0(t){var e=Td.current;nt(Td),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){wd=t,d0=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(d0!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(wd===null)throw Error(j(308));zs=t,wd.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var Do=null;function p0(t){Do===null?Do=[t]:Do.push(t)}function A3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,p0(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function m0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,p0(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function Jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e0(t,n)}}function qv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ed(t,e,n,r){var i=t.updateQueue;Fi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=h:a.next=h,p.lastBaseUpdate=f))}if(o!==null){var g=i.baseState;s=0,p=h=f=null,a=o;do{var y=a.lane,_=a.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,T=a;switch(y=e,_=n,T.tag){case 1:if(x=T.payload,typeof x=="function"){g=x.call(_,g,y);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=T.payload,y=typeof x=="function"?x.call(_,g,y):x,y==null)break e;g=dt({},g,y);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(h=p=_,f=g):p=p.next=_,s|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(f=g),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qo|=s,t.lanes=s,t.memoizedState=g}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var uu={},Dr=lo(uu),Wa=lo(uu),qa=lo(uu);function Fo(t){if(t===uu)throw Error(j(174));return t}function g0(t,e){switch(Je(qa,e),Je(Wa,t),Je(Dr,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}nt(Dr),Je(Dr,e)}function ml(){nt(Dr),nt(Wa),nt(qa)}function N3(t){Fo(qa.current);var e=Fo(Dr.current),n=Mm(e,t.type);e!==n&&(Je(Wa,t),Je(Dr,n))}function y0(t){Wa.current===t&&(nt(Dr),nt(Wa))}var ut=lo(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function v0(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var Qc=ai.ReactCurrentDispatcher,Bp=ai.ReactCurrentBatchConfig,Wo=0,ct=null,Mt=null,Gt=null,Pd=!1,Ma=!1,$a=0,k8=0;function Xt(){throw Error(j(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function S0(t,e,n,r,i,o){if(Wo=o,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=t===null||t.memoizedState===null?A8:R8,t=n(r,i),Ma){o=0;do{if(Ma=!1,$a=0,25<=o)throw Error(j(301));o+=1,Gt=Mt=null,e.updateQueue=null,Qc.current=N8,t=n(r,i)}while(Ma)}if(Qc.current=Md,e=Mt!==null&&Mt.next!==null,Wo=0,Gt=Mt=ct=null,Pd=!1,e)throw Error(j(300));return t}function _0(){var t=$a!==0;return $a=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ct.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Yn(){if(Mt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Gt===null?ct.memoizedState:Gt.next;if(e!==null)Gt=e,Mt=t;else{if(t===null)throw Error(j(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Gt===null?ct.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Ka(t,e){return typeof e=="function"?e(t):e}function zp(t){var e=Yn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var p=h.lane;if((Wo&p)===p)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=g,s=r):f=f.next=g,ct.lanes|=p,qo|=p}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,fr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ct.lanes|=o,qo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hp(t){var e=Yn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);fr(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function D3(){}function F3(t,e){var n=ct,r=Yn(),i=e(),o=!fr(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,x0(U3.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Ya(9,b3.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(j(349));Wo&30||L3(n,e,i)}return i}function L3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b3(t,e,n,r){e.value=n,e.getSnapshot=r,G3(e)&&V3(t)}function U3(t,e,n){return n(function(){G3(e)&&V3(t)})}function G3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function V3(t){var e=si(t,1);e!==null&&cr(e,t,1,-1)}function Kv(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e.queue=t,t=t.dispatch=I8.bind(null,ct,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function O3(){return Yn().memoizedState}function Xc(t,e,n,r){var i=Er();ct.flags|=t,i.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function Zd(t,e,n,r){var i=Yn();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var s=Mt.memoizedState;if(o=s.destroy,r!==null&&C0(r,s.deps)){i.memoizedState=Ya(e,n,o,r);return}}ct.flags|=t,i.memoizedState=Ya(1|e,n,o,r)}function Yv(t,e){return Xc(8390656,8,t,e)}function x0(t,e){return Zd(2048,8,t,e)}function B3(t,e){return Zd(4,2,t,e)}function z3(t,e){return Zd(4,4,t,e)}function H3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W3(t,e,n){return n=n!=null?n.concat([t]):null,Zd(4,4,H3.bind(null,e,t),n)}function T0(){}function q3(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $3(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K3(t,e,n){return Wo&21?(fr(n,e)||(n=Z4(),ct.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function P8(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Bp.transition;Bp.transition={};try{t(!1),e()}finally{Be=n,Bp.transition=r}}function Y3(){return Yn().memoizedState}function M8(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J3(t))Q3(e,n);else if(n=A3(t,e,n,r),n!==null){var i=ln();cr(n,t,r,i),X3(n,e,r)}}function I8(t,e,n){var r=ji(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J3(t))Q3(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,fr(a,s)){var f=e.interleaved;f===null?(i.next=i,p0(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=A3(t,e,i,r),n!==null&&(i=ln(),cr(n,t,r,i),X3(n,e,r))}}function J3(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Q3(t,e){Ma=Pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,e0(t,n)}}var Md={readContext:Kn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},A8={readContext:Kn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:Yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,H3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M8.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:Kv,useDebugValue:T0,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=Kv(!1),e=t[0];return t=P8.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=Er();if(ot){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Vt===null)throw Error(j(349));Wo&30||L3(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yv(U3.bind(null,r,o,t),[t]),r.flags|=2048,Ya(9,b3.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Er(),e=Vt.identifierPrefix;if(ot){var n=ei,r=jr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R8={readContext:Kn,useCallback:q3,useContext:Kn,useEffect:x0,useImperativeHandle:W3,useInsertionEffect:B3,useLayoutEffect:z3,useMemo:$3,useReducer:zp,useRef:O3,useState:function(){return zp(Ka)},useDebugValue:T0,useDeferredValue:function(t){var e=Yn();return K3(e,Mt.memoizedState,t)},useTransition:function(){var t=zp(Ka)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:F3,useId:Y3,unstable_isNewReconciler:!1},N8={readContext:Kn,useCallback:q3,useContext:Kn,useEffect:x0,useImperativeHandle:W3,useInsertionEffect:B3,useLayoutEffect:z3,useMemo:$3,useReducer:Hp,useRef:O3,useState:function(){return Hp(Ka)},useDebugValue:T0,useDeferredValue:function(t){var e=Yn();return Mt===null?e.memoizedState=t:K3(e,Mt.memoizedState,t)},useTransition:function(){var t=Hp(Ka)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:F3,useId:Y3,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jd={isMounted:function(t){return(t=t._reactInternals)?Xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ji(t),o=ti(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xi(t,o,i),e!==null&&(cr(e,t,i,r),Jc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=ji(t),o=ti(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xi(t,o,i),e!==null&&(cr(e,t,i,r),Jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=ji(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(cr(e,t,r,n),Jc(e,t,r))}};function Jv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Oa(n,r)||!Oa(i,o):!0}function Z3(t,e,n){var r=!1,i=ro,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=Sn(e)?zo:tn.current,r=e.contextTypes,o=(r=r!=null)?fl(t,i):ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},m0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=Sn(e)?zo:tn.current,i.context=fl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jd.enqueueReplaceState(i,i.state,null),Ed(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gl(t,e){try{var n="",r=e;do n+=sw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function j3(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,lg=r),Xm(t,e)},n}function e_(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xm(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K8.bind(null,t,e,n),e.then(t,t))}function Zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var F8=ai.ReactCurrentOwner,vn=!1;function sn(t,e,n,r){e.child=t===null?I3(e,null,n,r):pl(e,t.child,n,r)}function e2(t,e,n,r,i){n=n.render;var o=e.ref;return Qs(e,i),r=S0(t,e,n,r,o,i),n=_0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ot&&n&&a0(e),e.flags|=1,sn(t,e,r,i),e.child)}function t2(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!R0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,t_(t,e,o,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(s,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function t_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Oa(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,li(t,e,i)}return Zm(t,e,n,r,i)}function n_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ws,wn),wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Ws,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(Ws,wn),wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(Ws,wn),wn|=r;return sn(t,e,i,n),e.child}function r_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zm(t,e,n,r,i){var o=Sn(n)?zo:tn.current;return o=fl(e,o),Qs(e,i),n=S0(t,e,n,r,o,i),r=_0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ot&&r&&a0(e),e.flags|=1,sn(t,e,n,i),e.child)}function n2(t,e,n,r,i){if(Sn(n)){var o=!0;Sd(e)}else o=!1;if(Qs(e,i),e.stateNode===null)Zc(t,e),Z3(e,n,r),Qm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Kn(h):(h=Sn(n)?zo:tn.current,h=fl(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&Qv(e,s,r,h),Fi=!1;var y=e.memoizedState;s.state=y,Ed(e,r,s,i),f=e.memoizedState,a!==r||y!==f||Cn.current||Fi?(typeof p=="function"&&(Jm(e,n,p,r),f=e.memoizedState),(a=Fi||Jv(e,n,a,r,y,f,h))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,R3(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:ir(e.type,a),s.props=h,g=e.pendingProps,y=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Kn(f):(f=Sn(n)?zo:tn.current,f=fl(e,f));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||y!==f)&&Qv(e,s,r,f),Fi=!1,y=e.memoizedState,s.state=y,Ed(e,r,s,i);var x=e.memoizedState;a!==g||y!==x||Cn.current||Fi?(typeof _=="function"&&(Jm(e,n,_,r),x=e.memoizedState),(h=Fi||Jv(e,n,h,r,y,x,f)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return jm(t,e,n,r,o,i)}function jm(t,e,n,r,i,o){r_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Bv(e,n,!1),li(t,e,o);r=e.stateNode,F8.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=pl(e,t.child,null,o),e.child=pl(e,null,a,o)):sn(t,e,a,o),e.memoizedState=r.state,i&&Bv(e,n,!0),e.child}function i_(t){var e=t.stateNode;e.pendingContext?Ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ov(t,e.context,!1),g0(t,e.containerInfo)}function r2(t,e,n,r,i){return hl(),c0(i),e.flags|=256,sn(t,e,n,r),e.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function o_(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ut,i&1),t===null)return Km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=nf(s,r,0,null),t=Bo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=tg(n),e.memoizedState=eg,t):w0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L8(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=eo(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=eo(a,o):(o=Bo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?tg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=eg,r}return o=t.child,t=o.sibling,r=eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function w0(t,e){return e=nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wc(t,e,n,r){return r!==null&&c0(r),pl(e,t.child,null,n),t=w0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wp(Error(j(422))),wc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=nf({mode:"visible",children:r.children},i,0,null),o=Bo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pl(e,t.child,null,s),e.child.memoizedState=tg(s),e.memoizedState=eg,o);if(!(e.mode&1))return wc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(j(419)),r=Wp(o,r,void 0),wc(t,e,s,r)}if(a=(s&t.childLanes)!==0,vn||a){if(r=Vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,si(t,i),cr(r,t,i,-1))}return A0(),r=Wp(Error(j(421))),wc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y8.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,En=Qi(i.nextSibling),kn=e,ot=!0,ar=null,t!==null&&(Bn[zn++]=jr,Bn[zn++]=ei,Bn[zn++]=Ho,jr=t.id,ei=t.overflow,Ho=e),e=w0(e,r.children),e.flags|=4096,e)}function i2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function qp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function s_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i2(t,n,e);else if(t.tag===19)i2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qp(e,!0,n,null,o);break;case"together":qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function b8(t,e,n){switch(e.tag){case 3:i_(e),hl();break;case 5:N3(e);break;case 1:Sn(e.type)&&Sd(e);break;case 4:g0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?o_(t,e,n):(Je(ut,ut.current&1),t=li(t,e,n),t!==null?t.sibling:null);Je(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,n_(t,e,n)}return li(t,e,n)}var l_,ng,a_,u_;l_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ng=function(){};a_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fo(Dr.current);var o=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=Pm(t,i),r=Pm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vd)}Im(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Da.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Da.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&et("scroll",t),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};u_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ca(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U8(t,e,n){var r=e.pendingProps;switch(u0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Sn(e.type)&&Cd(),Zt(e),null;case 3:return r=e.stateNode,ml(),nt(Cn),nt(tn),v0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(cg(ar),ar=null))),ng(t,e),Zt(e),null;case 5:y0(e);var i=Fo(qa.current);if(n=e.type,t!==null&&e.stateNode!=null)a_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Zt(e),null}if(t=Fo(Dr.current),xc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ir]=e,r[Ha]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Sa.length;i++)et(Sa[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":hv(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":mv(r,o),et("invalid",r)}Im(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",""+a]):Da.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&et("scroll",r)}switch(n){case"input":hc(r),pv(r,o,!0);break;case"textarea":hc(r),gv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ir]=e,t[Ha]=r,l_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Am(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sa.length;i++)et(Sa[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":hv(t,r),i=wm(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),et("invalid",t);break;case"textarea":mv(t,r),i=Pm(t,r),et("invalid",t);break;default:i=r}Im(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?O4(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&G4(t,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Fa(t,f):typeof f=="number"&&Fa(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?f!=null&&o==="onScroll"&&et("scroll",t):f!=null&&Yg(t,o,f,s))}switch(n){case"input":hc(t),pv(t,r,!1);break;case"textarea":hc(t),gv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+no(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$s(t,!!r.multiple,o,!1):r.defaultValue!=null&&$s(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)u_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Fo(qa.current),Fo(Dr.current),xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:_c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Zt(e),null;case 13:if(nt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&En!==null&&e.mode&1&&!(e.flags&128))P3(),hl(),e.flags|=98560,o=!1;else if(o=xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Ir]=e}else hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else ar!==null&&(cg(ar),ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?At===0&&(At=3):A0())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return ml(),ng(t,e),t===null&&Ba(e.stateNode.containerInfo),Zt(e),null;case 10:return h0(e.type._context),Zt(e),null;case 17:return Sn(e.type)&&Cd(),Zt(e),null;case 19:if(nt(ut),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ca(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=kd(t),s!==null){for(e.flags|=128,ca(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>yl&&(e.flags|=128,r=!0,ca(o,!1),e.lanes=4194304)}else{if(!r)if(t=kd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ca(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ot)return Zt(e),null}else 2*St()-o.renderingStartTime>yl&&n!==1073741824&&(e.flags|=128,r=!0,ca(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=ut.current,Je(ut,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return I0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function G8(t,e){switch(u0(e),e.tag){case 1:return Sn(e.type)&&Cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ml(),nt(Cn),nt(tn),v0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return y0(e),null;case 13:if(nt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ut),null;case 4:return ml(),null;case 10:return h0(e.type._context),null;case 22:case 23:return I0(),null;case 24:return null;default:return null}}var Ec=!1,jt=!1,V8=typeof WeakSet=="function"?WeakSet:Set,le=null;function Hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function rg(t,e,n){try{n()}catch(r){pt(t,e,r)}}var o2=!1;function O8(t,e){if(Om=md,t=p3(),l0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,p=0,g=t,y=null;t:for(;;){for(var _;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(f=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(_=g.firstChild)!==null;)y=g,g=_;for(;;){if(g===t)break t;if(y===n&&++h===i&&(a=s),y===o&&++p===r&&(f=s),(_=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=_}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bm={focusedElem:t,selectionRange:n},md=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var T=x.memoizedProps,M=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:ir(e.type,T),M);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){pt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=o2,o2=!1,x}function Ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&rg(e,n,o)}i=i.next}while(i!==r)}}function ef(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c_(t){var e=t.alternate;e!==null&&(t.alternate=null,c_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Ha],delete e[Wm],delete e[x8],delete e[T8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d_(t){return t.tag===5||t.tag===3||t.tag===4}function s2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vd));else if(r!==4&&(t=t.child,t!==null))for(og(t,e,n),t=t.sibling;t!==null;)og(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var zt=null,lr=!1;function Pi(t,e,n){for(n=n.child;n!==null;)f_(t,e,n),n=n.sibling}function f_(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:jt||Hs(n,e);case 6:var r=zt,i=lr;zt=null,Pi(t,e,n),zt=r,lr=i,zt!==null&&(lr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(lr?(t=zt,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Ga(t)):Gp(zt,n.stateNode));break;case 4:r=zt,i=lr,zt=n.stateNode.containerInfo,lr=!0,Pi(t,e,n),zt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rg(n,e,s),i=i.next}while(i!==r)}Pi(t,e,n);break;case 1:if(!jt&&(Hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Pi(t,e,n);break;case 21:Pi(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Pi(t,e,n),jt=r):Pi(t,e,n);break;default:Pi(t,e,n)}}function l2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V8),e.forEach(function(r){var i=J8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,lr=!1;break e;case 3:zt=a.stateNode.containerInfo,lr=!0;break e;case 4:zt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(zt===null)throw Error(j(160));f_(o,s,i),zt=null,lr=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){pt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h_(e,t),e=e.sibling}function h_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),wr(t),r&4){try{Ia(3,t,t.return),ef(3,t)}catch(T){pt(t,t.return,T)}try{Ia(5,t,t.return)}catch(T){pt(t,t.return,T)}}break;case 1:nr(e,t),wr(t),r&512&&n!==null&&Hs(n,n.return);break;case 5:if(nr(e,t),wr(t),r&512&&n!==null&&Hs(n,n.return),t.flags&32){var i=t.stateNode;try{Fa(i,"")}catch(T){pt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&L4(i,o),Am(a,s);var h=Am(a,o);for(s=0;s<f.length;s+=2){var p=f[s],g=f[s+1];p==="style"?O4(i,g):p==="dangerouslySetInnerHTML"?G4(i,g):p==="children"?Fa(i,g):Yg(i,p,g,h)}switch(a){case"input":Em(i,o);break;case"textarea":b4(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?$s(i,!!o.multiple,_,!1):y!==!!o.multiple&&(o.defaultValue!=null?$s(i,!!o.multiple,o.defaultValue,!0):$s(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ha]=o}catch(T){pt(t,t.return,T)}}break;case 6:if(nr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){pt(t,t.return,T)}}break;case 3:if(nr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(e.containerInfo)}catch(T){pt(t,t.return,T)}break;case 4:nr(e,t),wr(t);break;case 13:nr(e,t),wr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(P0=St())),r&4&&l2(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(h=jt)||p,nr(e,t),jt=h):nr(e,t),wr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(le=t,p=t.child;p!==null;){for(g=le=p;le!==null;){switch(y=le,_=y.child,y.tag){case 0:case 11:case 14:case 15:Ia(4,y,y.return);break;case 1:Hs(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(T){pt(r,n,T)}}break;case 5:Hs(y,y.return);break;case 22:if(y.memoizedState!==null){u2(g);continue}}_!==null?(_.return=y,le=_):u2(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,f=g.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=V4("display",s))}catch(T){pt(t,t.return,T)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(T){pt(t,t.return,T)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:nr(e,t),wr(t),r&4&&l2(t);break;case 21:break;default:nr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d_(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var o=s2(t);sg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=s2(t);og(t,a,s);break;default:throw Error(j(161))}}catch(f){pt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B8(t,e,n){le=t,p_(t)}function p_(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ec;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||jt;a=Ec;var h=jt;if(Ec=s,(jt=f)&&!h)for(le=i;le!==null;)s=le,f=s.child,s.tag===22&&s.memoizedState!==null?c2(i):f!==null?(f.return=s,le=f):c2(i);for(;o!==null;)le=o,p_(o),o=o.sibling;le=i,Ec=a,jt=h}a2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):a2(t)}}function a2(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||ef(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$v(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Ga(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}jt||e.flags&512&&ig(e)}catch(y){pt(e,e.return,y)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function u2(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function c2(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ef(4,e)}catch(f){pt(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){pt(e,i,f)}}var o=e.return;try{ig(e)}catch(f){pt(e,o,f)}break;case 5:var s=e.return;try{ig(e)}catch(f){pt(e,s,f)}}}catch(f){pt(e,e.return,f)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var z8=Math.ceil,Id=ai.ReactCurrentDispatcher,E0=ai.ReactCurrentOwner,Wn=ai.ReactCurrentBatchConfig,Fe=0,Vt=null,Tt=null,Wt=0,wn=0,Ws=lo(0),At=0,Ja=null,qo=0,tf=0,k0=0,Aa=null,yn=null,P0=0,yl=1/0,Yr=null,Ad=!1,lg=null,Zi=null,kc=!1,qi=null,Rd=0,Ra=0,ag=null,jc=-1,ed=0;function ln(){return Fe&6?St():jc!==-1?jc:jc=St()}function ji(t){return t.mode&1?Fe&2&&Wt!==0?Wt&-Wt:E8.transition!==null?(ed===0&&(ed=Z4()),ed):(t=Be,t!==0||(t=window.event,t=t===void 0?16:o3(t.type)),t):1}function cr(t,e,n,r){if(50<Ra)throw Ra=0,ag=null,Error(j(185));su(t,n,r),(!(Fe&2)||t!==Vt)&&(t===Vt&&(!(Fe&2)&&(tf|=n),At===4&&bi(t,Wt)),_n(t,r),n===1&&Fe===0&&!(e.mode&1)&&(yl=St()+500,Xd&&ao()))}function _n(t,e){var n=t.callbackNode;Ew(t,e);var r=pd(t,t===Vt?Wt:0);if(r===0)n!==null&&Cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cv(n),e===1)t.tag===0?w8(d2.bind(null,t)):w3(d2.bind(null,t)),S8(function(){!(Fe&6)&&ao()}),n=null;else{switch(j4(r)){case 1:n=jg;break;case 4:n=Q4;break;case 16:n=hd;break;case 536870912:n=X4;break;default:n=hd}n=x_(n,m_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m_(t,e){if(jc=-1,ed=0,Fe&6)throw Error(j(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=pd(t,t===Vt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nd(t,r);else{e=r;var i=Fe;Fe|=2;var o=y_();(Vt!==t||Wt!==e)&&(Yr=null,yl=St()+500,Oo(t,e));do try{q8();break}catch(a){g_(t,a)}while(!0);f0(),Id.current=o,Fe=i,Tt!==null?e=0:(Vt=null,Wt=0,e=At)}if(e!==0){if(e===2&&(i=Lm(t),i!==0&&(r=i,e=ug(t,i))),e===1)throw n=Ja,Oo(t,0),bi(t,r),_n(t,St()),n;if(e===6)bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!H8(i)&&(e=Nd(t,r),e===2&&(o=Lm(t),o!==0&&(r=o,e=ug(t,o))),e===1))throw n=Ja,Oo(t,0),bi(t,r),_n(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Ao(t,yn,Yr);break;case 3:if(bi(t,r),(r&130023424)===r&&(e=P0+500-St(),10<e)){if(pd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(Ao.bind(null,t,yn,Yr),e);break}Ao(t,yn,Yr);break;case 4:if(bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ur(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z8(r/1960))-r,10<r){t.timeoutHandle=Hm(Ao.bind(null,t,yn,Yr),r);break}Ao(t,yn,Yr);break;case 5:Ao(t,yn,Yr);break;default:throw Error(j(329))}}}return _n(t,St()),t.callbackNode===n?m_.bind(null,t):null}function ug(t,e){var n=Aa;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=Nd(t,e),t!==2&&(e=yn,yn=n,e!==null&&cg(e)),t}function cg(t){yn===null?yn=t:yn.push.apply(yn,t)}function H8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~k0,e&=~tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function d2(t){if(Fe&6)throw Error(j(327));Xs();var e=pd(t,0);if(!(e&1))return _n(t,St()),null;var n=Nd(t,e);if(t.tag!==0&&n===2){var r=Lm(t);r!==0&&(e=r,n=ug(t,r))}if(n===1)throw n=Ja,Oo(t,0),bi(t,e),_n(t,St()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ao(t,yn,Yr),_n(t,St()),null}function M0(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(yl=St()+500,Xd&&ao())}}function $o(t){qi!==null&&qi.tag===0&&!(Fe&6)&&Xs();var e=Fe;Fe|=1;var n=Wn.transition,r=Be;try{if(Wn.transition=null,Be=1,t)return t()}finally{Be=r,Wn.transition=n,Fe=e,!(Fe&6)&&ao()}}function I0(){wn=Ws.current,nt(Ws)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C8(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(u0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:ml(),nt(Cn),nt(tn),v0();break;case 5:y0(r);break;case 4:ml();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:h0(r.type._context);break;case 22:case 23:I0()}n=n.return}if(Vt=t,Tt=t=eo(t.current,null),Wt=wn=e,At=0,Ja=null,k0=tf=qo=0,yn=Aa=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Do=null}return t}function g_(t,e){do{var n=Tt;try{if(f0(),Qc.current=Md,Pd){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pd=!1}if(Wo=0,Gt=Mt=ct=null,Ma=!1,$a=0,E0.current=null,n===null||n.return===null){At=1,Ja=e,Tt=null;break}e:{var o=t,s=n.return,a=n,f=e;if(e=Wt,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=Zv(s);if(_!==null){_.flags&=-257,jv(_,s,a,o,e),_.mode&1&&Xv(o,h,e),e=_,f=h;var x=e.updateQueue;if(x===null){var T=new Set;T.add(f),e.updateQueue=T}else x.add(f);break e}else{if(!(e&1)){Xv(o,h,e),A0();break e}f=Error(j(426))}}else if(ot&&a.mode&1){var M=Zv(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),jv(M,s,a,o,e),c0(gl(f,a));break e}}o=f=gl(f,a),At!==4&&(At=2),Aa===null?Aa=[o]:Aa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=j3(o,f,e);qv(o,w);break e;case 1:a=f;var E=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zi===null||!Zi.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=e_(o,a,e);qv(o,k);break e}}o=o.return}while(o!==null)}C_(n)}catch(I){e=I,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function y_(){var t=Id.current;return Id.current=Md,t===null?Md:t}function A0(){(At===0||At===3||At===2)&&(At=4),Vt===null||!(qo&268435455)&&!(tf&268435455)||bi(Vt,Wt)}function Nd(t,e){var n=Fe;Fe|=2;var r=y_();(Vt!==t||Wt!==e)&&(Yr=null,Oo(t,e));do try{W8();break}catch(i){g_(t,i)}while(!0);if(f0(),Fe=n,Id.current=r,Tt!==null)throw Error(j(261));return Vt=null,Wt=0,At}function W8(){for(;Tt!==null;)v_(Tt)}function q8(){for(;Tt!==null&&!gw();)v_(Tt)}function v_(t){var e=__(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?C_(t):Tt=e,E0.current=null}function C_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G8(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Tt=null;return}}else if(n=U8(n,e,wn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);At===0&&(At=5)}function Ao(t,e,n){var r=Be,i=Wn.transition;try{Wn.transition=null,Be=1,$8(t,e,n,r)}finally{Wn.transition=i,Be=r}return null}function $8(t,e,n,r){do Xs();while(qi!==null);if(Fe&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kw(t,o),t===Vt&&(Tt=Vt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,x_(hd,function(){return Xs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var s=Be;Be=1;var a=Fe;Fe|=4,E0.current=null,O8(t,n),h_(n,t),f8(Bm),md=!!Om,Bm=Om=null,t.current=n,B8(n),yw(),Fe=a,Be=s,Wn.transition=o}else t.current=n;if(kc&&(kc=!1,qi=t,Rd=i),o=t.pendingLanes,o===0&&(Zi=null),Sw(n.stateNode),_n(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,t=lg,lg=null,t;return Rd&1&&t.tag!==0&&Xs(),o=t.pendingLanes,o&1?t===ag?Ra++:(Ra=0,ag=t):Ra=0,ao(),null}function Xs(){if(qi!==null){var t=j4(Rd),e=Wn.transition,n=Be;try{if(Wn.transition=null,Be=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,Rd=0,Fe&6)throw Error(j(331));var i=Fe;for(Fe|=4,le=t.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(le=h;le!==null;){var p=le;switch(p.tag){case 0:case 11:case 15:Ia(8,p,o)}var g=p.child;if(g!==null)g.return=p,le=g;else for(;le!==null;){p=le;var y=p.sibling,_=p.return;if(c_(p),p===h){le=null;break}if(y!==null){y.return=_,le=y;break}le=_}}}var x=o.alternate;if(x!==null){var T=x.child;if(T!==null){x.child=null;do{var M=T.sibling;T.sibling=null,T=M}while(T!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ia(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,le=w;break e}le=o.return}}var E=t.current;for(le=E;le!==null;){s=le;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,le=C;else e:for(s=E;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ef(9,a)}}catch(I){pt(a,a.return,I)}if(a===s){le=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,le=k;break e}le=a.return}}if(Fe=i,ao(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot($d,t)}catch{}r=!0}return r}finally{Be=n,Wn.transition=e}}return!1}function f2(t,e,n){e=gl(n,e),e=j3(t,e,1),t=Xi(t,e,1),e=ln(),t!==null&&(su(t,1,e),_n(t,e))}function pt(t,e,n){if(t.tag===3)f2(t,t,n);else for(;e!==null;){if(e.tag===3){f2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=gl(n,t),t=e_(e,t,1),e=Xi(e,t,1),t=ln(),e!==null&&(su(e,1,t),_n(e,t));break}}e=e.return}}function K8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Wt&n)===n&&(At===4||At===3&&(Wt&130023424)===Wt&&500>St()-P0?Oo(t,0):k0|=n),_n(t,e)}function S_(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=ln();t=si(t,e),t!==null&&(su(t,e,n),_n(t,n))}function Y8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S_(t,n)}function J8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),S_(t,n)}var __;__=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,b8(t,e,n);vn=!!(t.flags&131072)}else vn=!1,ot&&e.flags&1048576&&E3(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=fl(e,tn.current);Qs(e,n),i=S0(null,e,r,t,i,n);var o=_0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Sd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m0(e),i.updater=jd,e.stateNode=i,i._reactInternals=e,Qm(e,r,t,n),e=jm(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&a0(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=X8(r),t=ir(r,t),i){case 0:e=Zm(null,e,r,t,n);break e;case 1:e=n2(null,e,r,t,n);break e;case 11:e=e2(null,e,r,t,n);break e;case 14:e=t2(null,e,r,ir(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Zm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),n2(t,e,r,i,n);case 3:e:{if(i_(e),t===null)throw Error(j(387));r=e.pendingProps,o=e.memoizedState,i=o.element,R3(t,e),Ed(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=gl(Error(j(423)),e),e=r2(t,e,r,n,i);break e}else if(r!==i){i=gl(Error(j(424)),e),e=r2(t,e,r,n,i);break e}else for(En=Qi(e.stateNode.containerInfo.firstChild),kn=e,ot=!0,ar=null,n=I3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hl(),r===i){e=li(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return N3(e),t===null&&Km(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,zm(r,i)?s=null:o!==null&&zm(r,o)&&(e.flags|=32),r_(t,e),sn(t,e,s,n),e.child;case 6:return t===null&&Km(e),null;case 13:return o_(t,e,n);case 4:return g0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pl(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),e2(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Je(Td,r._currentValue),r._currentValue=s,o!==null)if(fr(o.value,s)){if(o.children===i.children&&!Cn.current){e=li(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=ti(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?f.next=f:(f.next=p.next,p.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),Ym(o.return,n,e),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ym(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=Kn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),t2(t,e,r,i,n);case 15:return t_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Zc(t,e),e.tag=1,Sn(r)?(t=!0,Sd(e)):t=!1,Qs(e,n),Z3(e,r,i),Qm(e,r,i,n),jm(null,e,r,!0,t,n);case 19:return s_(t,e,n);case 22:return n_(t,e,n)}throw Error(j(156,e.tag))};function x_(t,e){return J4(t,e)}function Q8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new Q8(t,e,n,r)}function R0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X8(t){if(typeof t=="function")return R0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===Xg)return 14}return 2}function eo(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")R0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fs:return Bo(n.children,i,o,e);case Jg:s=8,i|=8;break;case Sm:return t=Hn(12,n,e,i|2),t.elementType=Sm,t.lanes=o,t;case _m:return t=Hn(13,n,e,i),t.elementType=_m,t.lanes=o,t;case xm:return t=Hn(19,n,e,i),t.elementType=xm,t.lanes=o,t;case N4:return nf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A4:s=10;break e;case R4:s=9;break e;case Qg:s=11;break e;case Xg:s=14;break e;case Di:s=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Bo(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function nf(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=N4,t.lanes=n,t.stateNode={isHidden:!1},t}function $p(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Kp(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N0(t,e,n,r,i,o,s,a,f){return t=new Z8(t,e,n,a,f),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},m0(o),t}function j8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T_(t){if(!t)return ro;t=t._reactInternals;e:{if(Xo(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Sn(n))return T3(t,n,e)}return e}function w_(t,e,n,r,i,o,s,a,f){return t=N0(n,r,!0,t,i,o,s,a,f),t.context=T_(null),n=t.current,r=ln(),i=ji(n),o=ti(r,i),o.callback=e??null,Xi(n,o,i),t.current.lanes=i,su(t,i,r),_n(t,r),t}function rf(t,e,n,r){var i=e.current,o=ln(),s=ji(i);return n=T_(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,s),t!==null&&(cr(t,i,s,o),Jc(t,i,s)),s}function Dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D0(t,e){h2(t,e),(t=t.alternate)&&h2(t,e)}function eE(){return null}var E_=typeof reportError=="function"?reportError:function(t){console.error(t)};function F0(t){this._internalRoot=t}of.prototype.render=F0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));rf(t,e,null,null)};of.prototype.unmount=F0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){rf(null,t,null,null)}),e[oi]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var e=n3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&i3(t)}};function L0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p2(){}function tE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Dd(s);o.call(h)}}var s=w_(e,r,t,0,null,!1,!1,"",p2);return t._reactRootContainer=s,t[oi]=s.current,Ba(t.nodeType===8?t.parentNode:t),$o(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Dd(f);a.call(h)}}var f=N0(t,0,!1,null,null,!1,!1,"",p2);return t._reactRootContainer=f,t[oi]=f.current,Ba(t.nodeType===8?t.parentNode:t),$o(function(){rf(e,f,n,r)}),f}function lf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=Dd(s);a.call(f)}}rf(e,s,t,i)}else s=tE(n,e,t,i,r);return Dd(s)}e3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ca(e.pendingLanes);n!==0&&(e0(e,n|1),_n(e,St()),!(Fe&6)&&(yl=St()+500,ao()))}break;case 13:$o(function(){var r=si(t,1);if(r!==null){var i=ln();cr(r,t,1,i)}}),D0(t,1)}};t0=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=ln();cr(e,t,134217728,n)}D0(t,134217728)}};t3=function(t){if(t.tag===13){var e=ji(t),n=si(t,e);if(n!==null){var r=ln();cr(n,t,e,r)}D0(t,e)}};n3=function(){return Be};r3=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Nm=function(t,e,n){switch(e){case"input":if(Em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qd(r);if(!i)throw Error(j(90));F4(r),Em(r,i)}}}break;case"textarea":b4(t,n);break;case"select":e=n.value,e!=null&&$s(t,!!n.multiple,e,!1)}};H4=M0;W4=$o;var nE={usingClientEntryPoint:!1,Events:[au,Gs,Qd,B4,z4,M0]},da={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rE={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K4(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||eE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{$d=Pc.inject(rE),Nr=Pc}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L0(e))throw Error(j(200));return j8(t,e,null,n)};Mn.createRoot=function(t,e){if(!L0(t))throw Error(j(299));var n=!1,r="",i=E_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N0(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,Ba(t.nodeType===8?t.parentNode:t),new F0(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=K4(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return $o(t)};Mn.hydrate=function(t,e,n){if(!sf(e))throw Error(j(200));return lf(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!L0(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=E_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=w_(e,null,t,1,n??null,i,!1,o,s),t[oi]=e.current,Ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new of(e)};Mn.render=function(t,e,n){if(!sf(e))throw Error(j(200));return lf(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!sf(t))throw Error(j(40));return t._reactRootContainer?($o(function(){lf(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Mn.unstable_batchedUpdates=M0;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sf(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return lf(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function k_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k_)}catch(t){console.error(t)}}k_(),k4.exports=Mn;var b0=k4.exports;const iE=Wd(b0);var P_,m2=b0;P_=m2.createRoot,m2.hydrateRoot;var cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},af=typeof window>"u"||"Deno"in globalThis;function On(){}function oE(t,e){return typeof t=="function"?t(e):t}function sE(t){return typeof t=="number"&&t>=0&&t!==1/0}function lE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dg(t,e){return typeof t=="function"?t(e):t}function aE(t,e){return typeof t=="function"?t(e):t}function g2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==U0(s,e.options))return!1}else if(!Qa(e.queryKey,s))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function y2(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ko(e.options.mutationKey)!==Ko(o))return!1}else if(!Qa(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function U0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ko)(t)}function Ko(t){return JSON.stringify(t,(e,n)=>fg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qa(t[n],e[n])):!1}function M_(t,e){if(t===e)return t;const n=v2(t)&&v2(e);if(n||fg(t)&&fg(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},f=new Set(r);let h=0;for(let p=0;p<s;p++){const g=n?p:o[p];(!n&&f.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(a[g]=void 0,h++):(a[g]=M_(t[g],e[g]),a[g]===t[g]&&t[g]!==void 0&&h++)}return i===s&&h===i?t:a}return e}function uE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function v2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fg(t){if(!C2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!C2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C2(t){return Object.prototype.toString.call(t)==="[object Object]"}function cE(t){return new Promise(e=>{setTimeout(e,t)})}function dE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?M_(t,e):e}function fE(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function hE(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var G0=Symbol();function I_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===G0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function pE(t,e){return typeof t=="function"?t(...e):!!t}var Lo,Ui,nl,o4,mE=(o4=class extends cu{constructor(){super();Ie(this,Lo);Ie(this,Ui);Ie(this,nl);ye(this,nl,e=>{if(!af&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Ui)||this.setEventListener($(this,nl))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ui))==null||e.call(this),ye(this,Ui,void 0))}setEventListener(e){var n;ye(this,nl,e),(n=$(this,Ui))==null||n.call(this),ye(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,Lo)!==e&&(ye(this,Lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,Lo)=="boolean"?$(this,Lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lo=new WeakMap,Ui=new WeakMap,nl=new WeakMap,o4),A_=new mE,rl,Gi,il,s4,gE=(s4=class extends cu{constructor(){super();Ie(this,rl,!0);Ie(this,Gi);Ie(this,il);ye(this,il,e=>{if(!af&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Gi)||this.setEventListener($(this,il))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Gi))==null||e.call(this),ye(this,Gi,void 0))}setEventListener(e){var n;ye(this,il,e),(n=$(this,Gi))==null||n.call(this),ye(this,Gi,e(this.setOnline.bind(this)))}setOnline(e){$(this,rl)!==e&&(ye(this,rl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,rl)}},rl=new WeakMap,Gi=new WeakMap,il=new WeakMap,s4),Fd=new gE;function yE(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function vE(t){return Math.min(1e3*2**t,3e4)}function R_(t){return(t??"online")==="online"?Fd.isOnline():!0}var N_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function D_(t){let e=!1,n=0,r;const i=yE(),o=()=>i.status!=="pending",s=T=>{var M;o()||(y(new N_(T)),(M=t.abort)==null||M.call(t))},a=()=>{e=!0},f=()=>{e=!1},h=()=>A_.isFocused()&&(t.networkMode==="always"||Fd.isOnline())&&t.canRun(),p=()=>R_(t.networkMode)&&t.canRun(),g=T=>{o()||(r==null||r(),i.resolve(T))},y=T=>{o()||(r==null||r(),i.reject(T))},_=()=>new Promise(T=>{var M;r=w=>{(o()||h())&&T(w)},(M=t.onPause)==null||M.call(t)}).then(()=>{var T;r=void 0,o()||(T=t.onContinue)==null||T.call(t)}),x=()=>{if(o())return;let T;const M=n===0?t.initialPromise:void 0;try{T=M??t.fn()}catch(w){T=Promise.reject(w)}Promise.resolve(T).then(g).catch(w=>{var N;if(o())return;const E=t.retry??(af?0:3),C=t.retryDelay??vE,k=typeof C=="function"?C(n,w):C,I=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,w);if(e||!I){y(w);return}n++,(N=t.onFail)==null||N.call(t,n,w),cE(k).then(()=>h()?void 0:_()).then(()=>{e?y(w):x()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:f,canStart:p,start:()=>(p()?x():_().then(x),i)}}var CE=t=>setTimeout(t,0);function SE(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=CE;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(f=>{n(f)})})})};return{batch:a=>{let f;e++;try{f=a()}finally{e--,e||s()}return f},batchCalls:a=>(...f)=>{o(()=>{a(...f)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ht=SE(),bo,l4,F_=(l4=class{constructor(){Ie(this,bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sE(this.gcTime)&&ye(this,bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(af?1/0:5*60*1e3))}clearGcTimeout(){$(this,bo)&&(clearTimeout($(this,bo)),ye(this,bo,void 0))}},bo=new WeakMap,l4),ol,sl,Vn,Uo,Ut,ru,Go,or,$r,a4,_E=(a4=class extends F_{constructor(e){super();Ie(this,or);Ie(this,ol);Ie(this,sl);Ie(this,Vn);Ie(this,Uo);Ie(this,Ut);Ie(this,ru);Ie(this,Go);ye(this,Go,!1),ye(this,ru,e.defaultOptions),this.setOptions(e.options),this.observers=[],ye(this,Uo,e.client),ye(this,Vn,$(this,Uo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ye(this,ol,TE(this.options)),this.state=e.state??$(this,ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Ut))==null?void 0:e.promise}setOptions(e){this.options={...$(this,ru),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Vn).remove(this)}setData(e,n){const r=dE(this.state.data,e,this.options);return Ct(this,or,$r).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ct(this,or,$r).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=$(this,Ut))==null?void 0:r.promise;return(i=$(this,Ut))==null||i.cancel(e),n?n.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ol))}isActive(){return this.observers.some(e=>aE(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>dg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,Vn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||($(this,Ut)&&($(this,Go)?$(this,Ut).cancel({revert:!0}):$(this,Ut).cancelRetry()),this.scheduleGc()),$(this,Vn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ct(this,or,$r).call(this,{type:"invalidate"})}async fetch(e,n){var f,h,p,g,y,_,x,T,M,w,E,C;if(this.state.fetchStatus!=="idle"&&((f=$(this,Ut))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Ut))return $(this,Ut).continueRetry(),$(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(I=>I.options.queryFn);k&&this.setOptions(k.options)}const r=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ye(this,Go,!0),r.signal)})},o=()=>{const k=I_(this.options,n),N=(()=>{const F={client:$(this,Uo),queryKey:this.queryKey,meta:this.meta};return i(F),F})();return ye(this,Go,!1),this.options.persister?this.options.persister(k,N,this):k(N)},a=(()=>{const k={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:$(this,Uo),state:this.state,fetchFn:o};return i(k),k})();(h=this.options.behavior)==null||h.onFetch(a,this),ye(this,sl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=a.fetchOptions)==null?void 0:p.meta))&&Ct(this,or,$r).call(this,{type:"fetch",meta:(g=a.fetchOptions)==null?void 0:g.meta}),ye(this,Ut,D_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(k,I)=>{Ct(this,or,$r).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{Ct(this,or,$r).call(this,{type:"pause"})},onContinue:()=>{Ct(this,or,$r).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const k=await $(this,Ut).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(_=(y=$(this,Vn).config).onSuccess)==null||_.call(y,k,this),(T=(x=$(this,Vn).config).onSettled)==null||T.call(x,k,this.state.error,this),k}catch(k){if(k instanceof N_){if(k.silent)return $(this,Ut).promise;if(k.revert){if(this.setState({...$(this,sl),fetchStatus:"idle"}),this.state.data===void 0)throw k;return this.state.data}}throw Ct(this,or,$r).call(this,{type:"error",error:k}),(w=(M=$(this,Vn).config).onError)==null||w.call(M,k,this),(C=(E=$(this,Vn).config).onSettled)==null||C.call(E,this.state.data,k,this),k}finally{this.scheduleGc()}}},ol=new WeakMap,sl=new WeakMap,Vn=new WeakMap,Uo=new WeakMap,Ut=new WeakMap,ru=new WeakMap,Go=new WeakMap,or=new WeakSet,$r=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xE(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,sl,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Vn).notify({query:this,type:"updated",action:e})})},a4);function xE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function TE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,u4,wE=(u4=class extends cu{constructor(e={}){super();Ie(this,kr);this.config=e,ye(this,kr,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??U0(i,n);let s=this.get(o);return s||(s=new _E({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){$(this,kr).has(e.queryHash)||($(this,kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,kr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,kr).get(e)}getAll(){return[...$(this,kr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g2(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>g2(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kr=new WeakMap,u4),Pr,on,Vo,Mr,Ai,c4,EE=(c4=class extends F_{constructor(e){super();Ie(this,Mr);Ie(this,Pr);Ie(this,on);Ie(this,Vo);this.mutationId=e.mutationId,ye(this,on,e.mutationCache),ye(this,Pr,[]),this.state=e.state||L_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Pr).includes(e)||($(this,Pr).push(e),this.clearGcTimeout(),$(this,on).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ye(this,Pr,$(this,Pr).filter(n=>n!==e)),this.scheduleGc(),$(this,on).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():$(this,on).remove(this))}continue(){var e;return((e=$(this,Vo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,s,a,f,h,p,g,y,_,x,T,M,w,E,C,k,I,N,F,R;const n=()=>{Ct(this,Mr,Ai).call(this,{type:"continue"})};ye(this,Vo,D_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,L)=>{Ct(this,Mr,Ai).call(this,{type:"failed",failureCount:b,error:L})},onPause:()=>{Ct(this,Mr,Ai).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,on).canRun(this)}));const r=this.state.status==="pending",i=!$(this,Vo).canStart();try{if(r)n();else{Ct(this,Mr,Ai).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(o=$(this,on).config).onMutate)==null?void 0:s.call(o,e,this));const L=await((f=(a=this.options).onMutate)==null?void 0:f.call(a,e));L!==this.state.context&&Ct(this,Mr,Ai).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const b=await $(this,Vo).start();return await((p=(h=$(this,on).config).onSuccess)==null?void 0:p.call(h,b,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,b,e,this.state.context)),await((x=(_=$(this,on).config).onSettled)==null?void 0:x.call(_,b,null,this.state.variables,this.state.context,this)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,b,null,e,this.state.context)),Ct(this,Mr,Ai).call(this,{type:"success",data:b}),b}catch(b){try{throw await((E=(w=$(this,on).config).onError)==null?void 0:E.call(w,b,e,this.state.context,this)),await((k=(C=this.options).onError)==null?void 0:k.call(C,b,e,this.state.context)),await((N=(I=$(this,on).config).onSettled)==null?void 0:N.call(I,void 0,b,this.state.variables,this.state.context,this)),await((R=(F=this.options).onSettled)==null?void 0:R.call(F,void 0,b,e,this.state.context)),b}finally{Ct(this,Mr,Ai).call(this,{type:"error",error:b})}}finally{$(this,on).runNext(this)}}},Pr=new WeakMap,on=new WeakMap,Vo=new WeakMap,Mr=new WeakSet,Ai=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ht.batch(()=>{$(this,Pr).forEach(r=>{r.onMutationUpdate(e)}),$(this,on).notify({mutation:this,type:"updated",action:e})})},c4);function L_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qr,sr,iu,d4,kE=(d4=class extends cu{constructor(e={}){super();Ie(this,Qr);Ie(this,sr);Ie(this,iu);this.config=e,ye(this,Qr,new Set),ye(this,sr,new Map),ye(this,iu,0)}build(e,n,r){const i=new EE({mutationCache:this,mutationId:++cc(this,iu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){$(this,Qr).add(e);const n=Mc(e);if(typeof n=="string"){const r=$(this,sr).get(n);r?r.push(e):$(this,sr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,Qr).delete(e)){const n=Mc(e);if(typeof n=="string"){const r=$(this,sr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&$(this,sr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Mc(e);if(typeof n=="string"){const r=$(this,sr).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Mc(e);if(typeof n=="string"){const i=(r=$(this,sr).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{$(this,Qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,Qr).clear(),$(this,sr).clear()})}getAll(){return Array.from($(this,Qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>y2(n,r))}findAll(e={}){return this.getAll().filter(n=>y2(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},Qr=new WeakMap,sr=new WeakMap,iu=new WeakMap,d4);function Mc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function S2(t){return{onFetch:(e,n)=>{var p,g,y,_,x;const r=e.options,i=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},f=0;const h=async()=>{let T=!1;const M=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},w=I_(e.options,e.fetchOptions),E=async(C,k,I)=>{if(T)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const F=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:k,direction:I?"backward":"forward",meta:e.options.meta};return M(z),z})(),R=await w(F),{maxPages:b}=e.options,L=I?hE:fE;return{pages:L(C.pages,R,b),pageParams:L(C.pageParams,k,b)}};if(i&&o.length){const C=i==="backward",k=C?PE:_2,I={pages:o,pageParams:s},N=k(r,I);a=await E(I,N,C)}else{const C=t??o.length;do{const k=f===0?s[0]??r.initialPageParam:_2(r,a);if(f>0&&k==null)break;a=await E(a,k),f++}while(f<C)}return a};e.options.persister?e.fetchFn=()=>{var T,M;return(M=(T=e.options).persister)==null?void 0:M.call(T,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function _2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PE(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ht,Vi,Oi,ll,al,Bi,ul,cl,f4,ME=(f4=class{constructor(t={}){Ie(this,ht);Ie(this,Vi);Ie(this,Oi);Ie(this,ll);Ie(this,al);Ie(this,Bi);Ie(this,ul);Ie(this,cl);ye(this,ht,t.queryCache||new wE),ye(this,Vi,t.mutationCache||new kE),ye(this,Oi,t.defaultOptions||{}),ye(this,ll,new Map),ye(this,al,new Map),ye(this,Bi,0)}mount(){cc(this,Bi)._++,$(this,Bi)===1&&(ye(this,ul,A_.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ht).onFocus())})),ye(this,cl,Fd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ht).onOnline())})))}unmount(){var t,e;cc(this,Bi)._--,$(this,Bi)===0&&((t=$(this,ul))==null||t.call(this),ye(this,ul,void 0),(e=$(this,cl))==null||e.call(this),ye(this,cl,void 0))}isFetching(t){return $(this,ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Vi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ht).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,ht).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(dg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,ht).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=$(this,ht).get(r.queryHash),o=i==null?void 0:i.state.data,s=oE(e,o);if(s!==void 0)return $(this,ht).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>$(this,ht).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ht).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,ht);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,ht);return Ht.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>$(this,ht).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t,e={}){return Ht.batch(()=>($(this,ht).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>$(this,ht).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(On)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,ht).build(this,e);return n.isStaleByTime(dg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=S2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=S2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fd.isOnline()?$(this,Vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,ht)}getMutationCache(){return $(this,Vi)}getDefaultOptions(){return $(this,Oi)}setDefaultOptions(t){ye(this,Oi,t)}setQueryDefaults(t,e){$(this,ll).set(Ko(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,ll).values()],n={};return e.forEach(r=>{Qa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,al).set(Ko(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,al).values()],n={};return e.forEach(r=>{Qa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=U0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===G0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,ht).clear(),$(this,Vi).clear()}},ht=new WeakMap,Vi=new WeakMap,Oi=new WeakMap,ll=new WeakMap,al=new WeakMap,Bi=new WeakMap,ul=new WeakMap,cl=new WeakMap,f4),zi,Hi,gn,Xr,ri,nd,hg,h4,IE=(h4=class extends cu{constructor(n,r){super();Ie(this,ri);Ie(this,zi);Ie(this,Hi);Ie(this,gn);Ie(this,Xr);ye(this,zi,n),this.setOptions(r),this.bindMethods(),Ct(this,ri,nd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=$(this,zi).defaultMutationOptions(n),uE(this.options,r)||$(this,zi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ko(r.mutationKey)!==Ko(this.options.mutationKey)?this.reset():((i=$(this,gn))==null?void 0:i.state.status)==="pending"&&$(this,gn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=$(this,gn))==null||n.removeObserver(this)}onMutationUpdate(n){Ct(this,ri,nd).call(this),Ct(this,ri,hg).call(this,n)}getCurrentResult(){return $(this,Hi)}reset(){var n;(n=$(this,gn))==null||n.removeObserver(this),ye(this,gn,void 0),Ct(this,ri,nd).call(this),Ct(this,ri,hg).call(this)}mutate(n,r){var i;return ye(this,Xr,r),(i=$(this,gn))==null||i.removeObserver(this),ye(this,gn,$(this,zi).getMutationCache().build($(this,zi),this.options)),$(this,gn).addObserver(this),$(this,gn).execute(n)}},zi=new WeakMap,Hi=new WeakMap,gn=new WeakMap,Xr=new WeakMap,ri=new WeakSet,nd=function(){var r;const n=((r=$(this,gn))==null?void 0:r.state)??L_();ye(this,Hi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hg=function(n){Ht.batch(()=>{var r,i,o,s,a,f,h,p;if($(this,Xr)&&this.hasListeners()){const g=$(this,Hi).variables,y=$(this,Hi).context;(n==null?void 0:n.type)==="success"?((i=(r=$(this,Xr)).onSuccess)==null||i.call(r,n.data,g,y),(s=(o=$(this,Xr)).onSettled)==null||s.call(o,n.data,null,g,y)):(n==null?void 0:n.type)==="error"&&((f=(a=$(this,Xr)).onError)==null||f.call(a,n.error,g,y),(p=(h=$(this,Xr)).onSettled)==null||p.call(h,void 0,n.error,g,y))}this.listeners.forEach(g=>{g($(this,Hi))})})},h4),b_=V.createContext(void 0),AE=t=>{const e=V.useContext(b_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RE=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),A.jsx(b_.Provider,{value:t,children:e}));function U_(t,e){const n=AE(),[r]=V.useState(()=>new IE(n,t));V.useEffect(()=>{r.setOptions(t)},[r,t]);const i=V.useSyncExternalStore(V.useCallback(s=>r.subscribe(Ht.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((s,a)=>{r.mutate(s,a).catch(On)},[r]);if(i.error&&pE(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function G_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=G_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function V_(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=G_(t))&&(r&&(r+=" "),r+=e);return r}const V0="-",NE=t=>{const e=FE(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(V0);return a[0]===""&&a.length!==1&&a.shift(),O_(a,e)||DE(s)},getConflictingClassGroupIds:(s,a)=>{const f=n[s]||[];return a&&r[s]?[...f,...r[s]]:f}}},O_=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?O_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(V0);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},x2=/^\[(.+)\]$/,DE=t=>{if(x2.test(t)){const e=x2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FE=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)pg(n[i],r,i,e);return r},pg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:T2(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(LE(i)){pg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{pg(s,T2(e,o),n,r)})})},T2=(t,e)=>{let n=t;return e.split(V0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LE=t=>t.isThemeGetter,bE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},mg="!",gg=":",UE=gg.length,GE=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,f=0,h;for(let x=0;x<i.length;x++){let T=i[x];if(s===0&&a===0){if(T===gg){o.push(i.slice(f,x)),f=x+UE;continue}if(T==="/"){h=x;continue}}T==="["?s++:T==="]"?s--:T==="("?a++:T===")"&&a--}const p=o.length===0?i:i.substring(f),g=VE(p),y=g!==p,_=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:_}};if(e){const i=e+gg,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},VE=t=>t.endsWith(mg)?t.substring(0,t.length-1):t.startsWith(mg)?t.substring(1):t,OE=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},BE=t=>({cache:bE(t.cacheSize),parseClassName:GE(t),sortModifiers:OE(t),...NE(t)}),zE=/\s+/,HE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(zE);let f="";for(let h=a.length-1;h>=0;h-=1){const p=a[h],{isExternal:g,modifiers:y,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:T}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let M=!!T,w=r(M?x.substring(0,T):x);if(!w){if(!M){f=p+(f.length>0?" "+f:f);continue}if(w=r(x),!w){f=p+(f.length>0?" "+f:f);continue}M=!1}const E=o(y).join(":"),C=_?E+mg:E,k=C+w;if(s.includes(k))continue;s.push(k);const I=i(w,M);for(let N=0;N<I.length;++N){const F=I[N];s.push(C+F)}f=p+(f.length>0?" "+f:f)}return f};function WE(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=B_(e))&&(r&&(r+=" "),r+=n);return r}const B_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=B_(t[r]))&&(n&&(n+=" "),n+=e);return n};function qE(t,...e){let n,r,i,o=s;function s(f){const h=e.reduce((p,g)=>g(p),t());return n=BE(h),r=n.cache.get,i=n.cache.set,o=a,a(f)}function a(f){const h=r(f);if(h)return h;const p=HE(f,n);return i(f,p),p}return function(){return o(WE.apply(null,arguments))}}const kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},z_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$E=/^\d+\/\d+$/,KE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=t=>$E.test(t),ke=t=>!!t&&!Number.isNaN(Number(t)),Mi=t=>!!t&&Number.isInteger(Number(t)),Yp=t=>t.endsWith("%")&&ke(t.slice(0,-1)),Wr=t=>KE.test(t),ZE=()=>!0,jE=t=>YE.test(t)&&!JE.test(t),W_=()=>!1,e9=t=>QE.test(t),t9=t=>XE.test(t),n9=t=>!ue(t)&&!ce(t),r9=t=>wl(t,K_,W_),ue=t=>z_.test(t),Po=t=>wl(t,Y_,jE),Jp=t=>wl(t,a9,ke),w2=t=>wl(t,q_,W_),i9=t=>wl(t,$_,t9),Ic=t=>wl(t,J_,e9),ce=t=>H_.test(t),fa=t=>El(t,Y_),o9=t=>El(t,u9),E2=t=>El(t,q_),s9=t=>El(t,K_),l9=t=>El(t,$_),Ac=t=>El(t,J_,!0),wl=(t,e,n)=>{const r=z_.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},El=(t,e,n=!1)=>{const r=H_.exec(t);return r?r[1]?e(r[1]):n:!1},q_=t=>t==="position"||t==="percentage",$_=t=>t==="image"||t==="url",K_=t=>t==="length"||t==="size"||t==="bg-size",Y_=t=>t==="length",a9=t=>t==="number",u9=t=>t==="family-name",J_=t=>t==="shadow",c9=()=>{const t=kt("color"),e=kt("font"),n=kt("text"),r=kt("font-weight"),i=kt("tracking"),o=kt("leading"),s=kt("breakpoint"),a=kt("container"),f=kt("spacing"),h=kt("radius"),p=kt("shadow"),g=kt("inset-shadow"),y=kt("text-shadow"),_=kt("drop-shadow"),x=kt("blur"),T=kt("perspective"),M=kt("aspect"),w=kt("ease"),E=kt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...k(),ce,ue],N=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],R=()=>[ce,ue,f],b=()=>[Es,"full","auto",...R()],L=()=>[Mi,"none","subgrid",ce,ue],z=()=>["auto",{span:["full",Mi,ce,ue]},Mi,ce,ue],W=()=>[Mi,"auto",ce,ue],X=()=>["auto","min","max","fr",ce,ue],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...R()],pe=()=>[Es,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],B=()=>[t,ce,ue],ee=()=>[...k(),E2,w2,{position:[ce,ue]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",s9,r9,{size:[ce,ue]}],ne=()=>[Yp,fa,Po],ge=()=>["","none","full",h,ce,ue],Te=()=>["",ke,fa,Po],Qe=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[ke,Yp,E2,w2],Z=()=>["","none",x,ce,ue],he=()=>["none",ke,ce,ue],De=()=>["none",ke,ce,ue],Ce=()=>[ke,ce,ue],Ge=()=>[Es,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wr],breakpoint:[Wr],color:[ZE],container:[Wr],"drop-shadow":[Wr],ease:["in","out","in-out"],font:[n9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wr],shadow:[Wr],spacing:["px",ke],text:[Wr],"text-shadow":[Wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Es,ue,ce,M]}],container:["container"],columns:[{columns:[ke,ue,ce,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",ce,ue]}],basis:[{basis:[Es,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Es,"auto","initial","none",ue]}],grow:[{grow:["",ke,ce,ue]}],shrink:[{shrink:["",ke,ce,ue]}],order:[{order:[Mi,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[a,"screen",...pe()]}],"min-w":[{"min-w":[a,"screen","none",...pe()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",n,fa,Po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Jp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yp,ue]}],"font-family":[{font:[o9,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[ke,"none",ce,Jp]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ce,Po]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[ke,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,ce,ue],radial:["",ce,ue],conic:[Mi,ce,ue]},l9,i9]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Qe(),"hidden","none"]}],"divide-style":[{divide:[...Qe(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...Qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ce,ue]}],"outline-w":[{outline:["",ke,fa,Po]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,Ac,Ic]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",g,Ac,Ic]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[ke,Po]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",y,Ac,Ic]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[ke,ce,ue]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:Z()}],brightness:[{brightness:[ke,ce,ue]}],contrast:[{contrast:[ke,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",_,Ac,Ic]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",ke,ce,ue]}],"hue-rotate":[{"hue-rotate":[ke,ce,ue]}],invert:[{invert:["",ke,ce,ue]}],saturate:[{saturate:[ke,ce,ue]}],sepia:[{sepia:["",ke,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",ke,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ce,ue]}],ease:[{ease:["linear","initial",w,ce,ue]}],delay:[{delay:[ke,ce,ue]}],animate:[{animate:["none",E,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ce,ue]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[ke,fa,Po,Jp]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},d9=qE(c9);function io(...t){return d9(V_(t))}const k2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,P2=V_,f9=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return P2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(h=>{const p=n==null?void 0:n[h],g=o==null?void 0:o[h];if(p===null)return null;const y=k2(p)||k2(g);return i[h][y]}),a=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,..._}=p;return Object.entries(_).every(x=>{let[T,M]=x;return Array.isArray(M)?M.includes({...o,...a}[T]):{...o,...a}[T]===M})?[...h,g,y]:h},[]);return P2(t,s,f,n==null?void 0:n.class,n==null?void 0:n.className)},h9=f9("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-yellow-400 text-gray-900 hover:bg-yellow-300 focus-visible:ring-yellow-400",secondary:"bg-gray-800 text-gray-100 hover:bg-gray-700 focus-visible:ring-gray-600",outline:"border border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 hover:text-gray-100",ghost:"text-gray-400 hover:bg-gray-800 hover:text-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),It=$e.forwardRef(({className:t,variant:e,size:n,...r},i)=>A.jsx("button",{className:io(h9({variant:e,size:n,className:t})),ref:i,...r}));It.displayName="Button";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gt=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:f,...h},p)=>V.createElement("svg",{ref:p,...p9,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${m9(t)}`,a].join(" "),...h},[...e.map(([g,y])=>V.createElement(g,y)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=gt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=gt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=gt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=gt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=gt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=gt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=gt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=gt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=gt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=gt("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=gt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=gt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=gt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=gt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=gt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=gt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=gt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function to(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function R2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Z_(...t){return e=>{let n=!1;const r=t.map(i=>{const o=R2(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():R2(t[i],null)}}}}function Zo(...t){return V.useCallback(Z_(...t),t)}function R9(t,e){const n=V.createContext(e),r=o=>{const{children:s,...a}=o,f=V.useMemo(()=>a,Object.values(a));return A.jsx(n.Provider,{value:f,children:s})};r.displayName=t+"Provider";function i(o){const s=V.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function N9(t,e=[]){let n=[];function r(o,s){const a=V.createContext(s),f=n.length;n=[...n,s];const h=g=>{var w;const{scope:y,children:_,...x}=g,T=((w=y==null?void 0:y[t])==null?void 0:w[f])||a,M=V.useMemo(()=>x,Object.values(x));return A.jsx(T.Provider,{value:M,children:_})};h.displayName=o+"Provider";function p(g,y){var T;const _=((T=y==null?void 0:y[t])==null?void 0:T[f])||a,x=V.useContext(_);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const i=()=>{const o=n.map(s=>V.createContext(s));return function(a){const f=(a==null?void 0:a[t])||o;return V.useMemo(()=>({[`__scope${t}`]:{...a,[t]:f}}),[a,f])}};return i.scopeName=t,[r,D9(i,...e)]}function D9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return{...a,...g}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Xa=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},F9=w4[" useId ".trim().toString()]||(()=>{}),L9=0;function Xp(t){const[e,n]=V.useState(F9());return Xa(()=>{t||n(r=>r??String(L9++))},[t]),t||(e?`radix-${e}`:"")}var b9=w4[" useInsertionEffect ".trim().toString()]||Xa;function U9({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=G9({defaultProp:e,onChange:n}),a=t!==void 0,f=a?t:i;{const p=V.useRef(t!==void 0);V.useEffect(()=>{const g=p.current;g!==a&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=a},[a,r])}const h=V.useCallback(p=>{var g;if(a){const y=V9(p)?p(t):p;y!==t&&((g=s.current)==null||g.call(s,y))}else o(p)},[a,t,o,s]);return[f,h]}function G9({defaultProp:t,onChange:e}){const[n,r]=V.useState(t),i=V.useRef(n),o=V.useRef(e);return b9(()=>{o.current=e},[e]),V.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function V9(t){return typeof t=="function"}function j_(t){const e=O9(t),n=V.forwardRef((r,i)=>{const{children:o,...s}=r,a=V.Children.toArray(o),f=a.find(z9);if(f){const h=f.props.children,p=a.map(g=>g===f?V.Children.count(h)>1?V.Children.only(null):V.isValidElement(h)?h.props.children:null:g);return A.jsx(e,{...s,ref:i,children:V.isValidElement(h)?V.cloneElement(h,void 0,p):null})}return A.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function O9(t){const e=V.forwardRef((n,r)=>{const{children:i,...o}=n;if(V.isValidElement(i)){const s=W9(i),a=H9(o,i.props);return i.type!==V.Fragment&&(a.ref=r?Z_(r,s):s),V.cloneElement(i,a)}return V.Children.count(i)>1?V.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var B9=Symbol("radix.slottable");function z9(t){return V.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===B9}function H9(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const f=o(...a);return i(...a),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function W9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var q9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ui=q9.reduce((t,e)=>{const n=j_(`Primitive.${e}`),r=V.forwardRef((i,o)=>{const{asChild:s,...a}=i,f=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(f,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $9(t,e){t&&b0.flushSync(()=>t.dispatchEvent(e))}function Za(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t}),V.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K9(t,e=globalThis==null?void 0:globalThis.document){const n=Za(t);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Y9="DismissableLayer",yg="dismissableLayer.update",J9="dismissableLayer.pointerDownOutside",Q9="dismissableLayer.focusOutside",N2,e5=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t5=V.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...f}=t,h=V.useContext(e5),[p,g]=V.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=V.useState({}),x=Zo(e,F=>g(F)),T=Array.from(h.layers),[M]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=T.indexOf(M),E=p?T.indexOf(p):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,k=E>=w,I=j9(F=>{const R=F.target,b=[...h.branches].some(L=>L.contains(R));!k||b||(i==null||i(F),s==null||s(F),F.defaultPrevented||a==null||a())},y),N=e7(F=>{const R=F.target;[...h.branches].some(L=>L.contains(R))||(o==null||o(F),s==null||s(F),F.defaultPrevented||a==null||a())},y);return K9(F=>{E===h.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&a&&(F.preventDefault(),a()))},y),V.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(N2=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),D2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=N2)}},[p,y,n,h]),V.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),D2())},[p,h]),V.useEffect(()=>{const F=()=>_({});return document.addEventListener(yg,F),()=>document.removeEventListener(yg,F)},[]),A.jsx(ui.div,{...f,ref:x,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:to(t.onFocusCapture,N.onFocusCapture),onBlurCapture:to(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:to(t.onPointerDownCapture,I.onPointerDownCapture)})});t5.displayName=Y9;var X9="DismissableLayerBranch",Z9=V.forwardRef((t,e)=>{const n=V.useContext(e5),r=V.useRef(null),i=Zo(e,r);return V.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),A.jsx(ui.div,{...t,ref:i})});Z9.displayName=X9;function j9(t,e=globalThis==null?void 0:globalThis.document){const n=Za(t),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){n5(J9,n,h,{discrete:!0})};const h={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function e7(t,e=globalThis==null?void 0:globalThis.document){const n=Za(t),r=V.useRef(!1);return V.useEffect(()=>{const i=o=>{o.target&&!r.current&&n5(Q9,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D2(){const t=new CustomEvent(yg);document.dispatchEvent(t)}function n5(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$9(i,o):i.dispatchEvent(o)}var Zp="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",F2={bubbles:!1,cancelable:!0},t7="FocusScope",r5=V.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,f]=V.useState(null),h=Za(i),p=Za(o),g=V.useRef(null),y=Zo(e,T=>f(T)),_=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let T=function(C){if(_.paused||!a)return;const k=C.target;a.contains(k)?g.current=k:Ri(g.current,{select:!0})},M=function(C){if(_.paused||!a)return;const k=C.relatedTarget;k!==null&&(a.contains(k)||Ri(g.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const I of C)I.removedNodes.length>0&&Ri(a)};document.addEventListener("focusin",T),document.addEventListener("focusout",M);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",M),E.disconnect()}}},[r,a,_.paused]),V.useEffect(()=>{if(a){b2.add(_);const T=document.activeElement;if(!a.contains(T)){const w=new CustomEvent(Zp,F2);a.addEventListener(Zp,h),a.dispatchEvent(w),w.defaultPrevented||(n7(l7(i5(a)),{select:!0}),document.activeElement===T&&Ri(a))}return()=>{a.removeEventListener(Zp,h),setTimeout(()=>{const w=new CustomEvent(jp,F2);a.addEventListener(jp,p),a.dispatchEvent(w),w.defaultPrevented||Ri(T??document.body,{select:!0}),a.removeEventListener(jp,p),b2.remove(_)},0)}}},[a,h,p,_]);const x=V.useCallback(T=>{if(!n&&!r||_.paused)return;const M=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,w=document.activeElement;if(M&&w){const E=T.currentTarget,[C,k]=r7(E);C&&k?!T.shiftKey&&w===k?(T.preventDefault(),n&&Ri(C,{select:!0})):T.shiftKey&&w===C&&(T.preventDefault(),n&&Ri(k,{select:!0})):w===E&&T.preventDefault()}},[n,r,_.paused]);return A.jsx(ui.div,{tabIndex:-1,...s,ref:y,onKeyDown:x})});r5.displayName=t7;function n7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ri(r,{select:e}),document.activeElement!==n)return}function r7(t){const e=i5(t),n=L2(e,t),r=L2(e.reverse(),t);return[n,r]}function i5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function L2(t,e){for(const n of t)if(!i7(n,{upTo:e}))return n}function i7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function o7(t){return t instanceof HTMLInputElement&&"select"in t}function Ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&o7(t)&&e&&t.select()}}var b2=s7();function s7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=U2(t,e),t.unshift(e)},remove(e){var n;t=U2(t,e),(n=t[0])==null||n.resume()}}}function U2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function l7(t){return t.filter(e=>e.tagName!=="A")}var a7="Portal",o5=V.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=V.useState(!1);Xa(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?iE.createPortal(A.jsx(ui.div,{...r,ref:e}),s):null});o5.displayName=a7;function u7(t,e){return V.useReducer((n,r)=>e[n][r]??n,t)}var uf=t=>{const{present:e,children:n}=t,r=c7(e),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),o=Zo(r.ref,d7(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:o}):null};uf.displayName="Presence";function c7(t){const[e,n]=V.useState(),r=V.useRef(null),i=V.useRef(t),o=V.useRef("none"),s=t?"mounted":"unmounted",[a,f]=u7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const h=Rc(r.current);o.current=a==="mounted"?h:"none"},[a]),Xa(()=>{const h=r.current,p=i.current;if(p!==t){const y=o.current,_=Rc(h);t?f("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Xa(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=_=>{const T=Rc(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&T&&(f("ANIMATION_END"),!i.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},y=_=>{_.target===e&&(o.current=Rc(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:V.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Rc(t){return(t==null?void 0:t.animationName)||"none"}function d7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var em=0;function f7(){V.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??G2()),document.body.insertAdjacentElement("beforeend",t[1]??G2()),em++,()=>{em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),em--}},[])}function G2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ar=function(){return Ar=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ar.apply(this,arguments)};function s5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function h7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var rd="right-scroll-bar-position",id="width-before-scroll-bar",p7="with-scroll-bars-hidden",m7="--removed-body-scroll-bar-size";function tm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function g7(t,e){var n=V.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var y7=typeof window<"u"?V.useLayoutEffect:V.useEffect,V2=new WeakMap;function v7(t,e){var n=g7(null,function(r){return t.forEach(function(i){return tm(i,r)})});return y7(function(){var r=V2.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||tm(a,null)}),o.forEach(function(a){i.has(a)||tm(a,s)})}V2.set(n,t)},[t]),n}function C7(t){return t}function S7(t,e){e===void 0&&(e=C7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var f=function(){var p=s;s=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){s.push(p),h()},filter:function(p){return s=s.filter(p),n}}}};return i}function _7(t){t===void 0&&(t={});var e=S7(null);return e.options=Ar({async:!0,ssr:!1},t),e}var l5=function(t){var e=t.sideCar,n=s5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,Ar({},n))};l5.isSideCarExport=!0;function x7(t,e){return t.useMedium(e),l5}var a5=_7(),nm=function(){},cf=V.forwardRef(function(t,e){var n=V.useRef(null),r=V.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,_=t.noRelative,x=t.noIsolation,T=t.inert,M=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,C=t.gapMode,k=s5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=y,N=v7([n,e]),F=Ar(Ar({},k),i);return V.createElement(V.Fragment,null,p&&V.createElement(I,{sideCar:a5,removeScrollBar:h,shards:g,noRelative:_,noIsolation:x,inert:T,setCallbacks:o,allowPinchZoom:!!M,lockRef:n,gapMode:C}),s?V.cloneElement(V.Children.only(a),Ar(Ar({},F),{ref:N})):V.createElement(E,Ar({},F,{className:f,ref:N}),a))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:id,zeroRight:rd};var T7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=T7();return e&&t.setAttribute("nonce",e),t}function E7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function k7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var P7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w7())&&(E7(e,n),k7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M7=function(){var t=P7();return function(e,n){V.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},u5=function(){var t=M7(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},I7={left:0,top:0,right:0,gap:0},rm=function(t){return parseInt(t||"",10)||0},A7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(r),rm(i)]},R7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return I7;var e=A7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},N7=u5(),Zs="data-scroll-locked",D7=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(p7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(m7,": ").concat(a,`px;
  }
`)},O2=function(){var t=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(t)?t:0},F7=function(){V.useEffect(function(){return document.body.setAttribute(Zs,(O2()+1).toString()),function(){var t=O2()-1;t<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,t.toString())}},[])},L7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;F7();var o=V.useMemo(function(){return R7(i)},[i]);return V.createElement(N7,{styles:D7(o,!e,i,n?"":"!important")})},vg=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return vg=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{vg=!1}var ks=vg?{passive:!1}:!1,b7=function(t){return t.tagName==="TEXTAREA"},c5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!b7(t)&&n[e]==="visible")},U7=function(t){return c5(t,"overflowY")},G7=function(t){return c5(t,"overflowX")},B2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=d5(t,r);if(i){var o=f5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},V7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},O7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},d5=function(t,e){return t==="v"?U7(e):G7(e)},f5=function(t,e){return t==="v"?V7(e):O7(e)},B7=function(t,e){return t==="h"&&e==="rtl"?-1:1},z7=function(t,e,n,r,i){var o=B7(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,f=e.contains(a),h=!1,p=s>0,g=0,y=0;do{if(!a)break;var _=f5(t,a),x=_[0],T=_[1],M=_[2],w=T-M-o*x;(x||w)&&d5(t,a)&&(g+=w,y+=x);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&a!==document.body||f&&(e.contains(a)||e===a));return(p&&(Math.abs(g)<1||!i)||!p&&(Math.abs(y)<1||!i))&&(h=!0),h},Dc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},z2=function(t){return[t.deltaX,t.deltaY]},H2=function(t){return t&&"current"in t?t.current:t},H7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},W7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},q7=0,Ps=[];function $7(t){var e=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(q7++)[0],o=V.useState(u5)[0],s=V.useRef(t);V.useEffect(function(){s.current=t},[t]),V.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=h7([t.lockRef.current],(t.shards||[]).map(H2),!0).filter(Boolean);return T.forEach(function(M){return M.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=V.useCallback(function(T,M){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!s.current.allowPinchZoom;var w=Dc(T),E=n.current,C="deltaX"in T?T.deltaX:E[0]-w[0],k="deltaY"in T?T.deltaY:E[1]-w[1],I,N=T.target,F=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in T&&F==="h"&&N.type==="range")return!1;var R=B2(F,N);if(!R)return!0;if(R?I=F:(I=F==="v"?"h":"v",R=B2(F,N)),!R)return!1;if(!r.current&&"changedTouches"in T&&(C||k)&&(r.current=I),!I)return!0;var b=r.current||I;return z7(b,M,T,b==="h"?C:k,!0)},[]),f=V.useCallback(function(T){var M=T;if(!(!Ps.length||Ps[Ps.length-1]!==o)){var w="deltaY"in M?z2(M):Dc(M),E=e.current.filter(function(I){return I.name===M.type&&(I.target===M.target||M.target===I.shadowParent)&&H7(I.delta,w)})[0];if(E&&E.should){M.cancelable&&M.preventDefault();return}if(!E){var C=(s.current.shards||[]).map(H2).filter(Boolean).filter(function(I){return I.contains(M.target)}),k=C.length>0?a(M,C[0]):!s.current.noIsolation;k&&M.cancelable&&M.preventDefault()}}},[]),h=V.useCallback(function(T,M,w,E){var C={name:T,delta:M,target:w,should:E,shadowParent:K7(w)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),p=V.useCallback(function(T){n.current=Dc(T),r.current=void 0},[]),g=V.useCallback(function(T){h(T.type,z2(T),T.target,a(T,t.lockRef.current))},[]),y=V.useCallback(function(T){h(T.type,Dc(T),T.target,a(T,t.lockRef.current))},[]);V.useEffect(function(){return Ps.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,ks),document.addEventListener("touchmove",f,ks),document.addEventListener("touchstart",p,ks),function(){Ps=Ps.filter(function(T){return T!==o}),document.removeEventListener("wheel",f,ks),document.removeEventListener("touchmove",f,ks),document.removeEventListener("touchstart",p,ks)}},[]);var _=t.removeScrollBar,x=t.inert;return V.createElement(V.Fragment,null,x?V.createElement(o,{styles:W7(i)}):null,_?V.createElement(L7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function K7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Y7=x7(a5,$7);var h5=V.forwardRef(function(t,e){return V.createElement(cf,Ar({},t,{ref:e,sideCar:Y7}))});h5.classNames=cf.classNames;var J7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ms=new WeakMap,Fc=new WeakMap,Lc={},im=0,p5=function(t){return t&&(t.host||p5(t.parentNode))},Q7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=p5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},X7=function(t,e,n,r){var i=Q7(e,Array.isArray(t)?t:[t]);Lc[n]||(Lc[n]=new WeakMap);var o=Lc[n],s=[],a=new Set,f=new Set(i),h=function(g){!g||a.has(g)||(a.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(a.has(y))p(y);else try{var _=y.getAttribute(r),x=_!==null&&_!=="false",T=(Ms.get(y)||0)+1,M=(o.get(y)||0)+1;Ms.set(y,T),o.set(y,M),s.push(y),T===1&&x&&Fc.set(y,!0),M===1&&y.setAttribute(n,"true"),x||y.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",y,w)}})};return p(e),a.clear(),im++,function(){s.forEach(function(g){var y=Ms.get(g)-1,_=o.get(g)-1;Ms.set(g,y),o.set(g,_),y||(Fc.has(g)||g.removeAttribute(r),Fc.delete(g)),_||g.removeAttribute(n)}),im--,im||(Ms=new WeakMap,Ms=new WeakMap,Fc=new WeakMap,Lc={})}},Z7=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=J7(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),X7(r,i,n,"aria-hidden")):function(){return null}},df="Dialog",[m5,SB]=N9(df),[j7,hr]=m5(df),g5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=V.useRef(null),f=V.useRef(null),[h,p]=U9({prop:r,defaultProp:i??!1,onChange:o,caller:df});return A.jsx(j7,{scope:e,triggerRef:a,contentRef:f,contentId:Xp(),titleId:Xp(),descriptionId:Xp(),open:h,onOpenChange:p,onOpenToggle:V.useCallback(()=>p(g=>!g),[p]),modal:s,children:n})};g5.displayName=df;var y5="DialogTrigger",ek=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(y5,n),o=Zo(e,i.triggerRef);return A.jsx(ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":H0(i.open),...r,ref:o,onClick:to(t.onClick,i.onOpenToggle)})});ek.displayName=y5;var B0="DialogPortal",[tk,v5]=m5(B0,{forceMount:void 0}),C5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=hr(B0,e);return A.jsx(tk,{scope:e,forceMount:n,children:V.Children.map(r,s=>A.jsx(uf,{present:n||o.open,children:A.jsx(o5,{asChild:!0,container:i,children:s})}))})};C5.displayName=B0;var Ld="DialogOverlay",S5=V.forwardRef((t,e)=>{const n=v5(Ld,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=hr(Ld,t.__scopeDialog);return o.modal?A.jsx(uf,{present:r||o.open,children:A.jsx(rk,{...i,ref:e})}):null});S5.displayName=Ld;var nk=j_("DialogOverlay.RemoveScroll"),rk=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(Ld,n);return A.jsx(h5,{as:nk,allowPinchZoom:!0,shards:[i.contentRef],children:A.jsx(ui.div,{"data-state":H0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Yo="DialogContent",_5=V.forwardRef((t,e)=>{const n=v5(Yo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=hr(Yo,t.__scopeDialog);return A.jsx(uf,{present:r||o.open,children:o.modal?A.jsx(ik,{...i,ref:e}):A.jsx(ok,{...i,ref:e})})});_5.displayName=Yo;var ik=V.forwardRef((t,e)=>{const n=hr(Yo,t.__scopeDialog),r=V.useRef(null),i=Zo(e,n.contentRef,r);return V.useEffect(()=>{const o=r.current;if(o)return Z7(o)},[]),A.jsx(x5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:to(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:to(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:to(t.onFocusOutside,o=>o.preventDefault())})}),ok=V.forwardRef((t,e)=>{const n=hr(Yo,t.__scopeDialog),r=V.useRef(!1),i=V.useRef(!1);return A.jsx(x5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),x5=V.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=hr(Yo,n),f=V.useRef(null),h=Zo(e,f);return f7(),A.jsxs(A.Fragment,{children:[A.jsx(r5,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:A.jsx(t5,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":H0(a.open),...s,ref:h,onDismiss:()=>a.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(lk,{titleId:a.titleId}),A.jsx(uk,{contentRef:f,descriptionId:a.descriptionId})]})]})}),z0="DialogTitle",T5=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(z0,n);return A.jsx(ui.h2,{id:i.titleId,...r,ref:e})});T5.displayName=z0;var w5="DialogDescription",sk=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(w5,n);return A.jsx(ui.p,{id:i.descriptionId,...r,ref:e})});sk.displayName=w5;var E5="DialogClose",k5=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(E5,n);return A.jsx(ui.button,{type:"button",...r,ref:e,onClick:to(t.onClick,()=>i.onOpenChange(!1))})});k5.displayName=E5;function H0(t){return t?"open":"closed"}var P5="DialogTitleWarning",[_B,M5]=R9(P5,{contentName:Yo,titleName:z0,docsSlug:"dialog"}),lk=({titleId:t})=>{const e=M5(P5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return V.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ak="DialogDescriptionWarning",uk=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M5(ak).contentName}}.`;return V.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},W0=g5,q0=C5,$0=S5,K0=_5,Y0=T5,J0=k5;const W2=t=>{let e;const n=new Set,r=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(_=>_(e,y))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,i,a);return a},ck=t=>t?W2(t):W2,dk=t=>t;function fk(t,e=dk){const n=$e.useSyncExternalStore(t.subscribe,$e.useCallback(()=>e(t.getState()),[t,e]),$e.useCallback(()=>e(t.getInitialState()),[t,e]));return $e.useDebugValue(n),n}const hk=t=>{const e=ck(t),n=r=>fk(e,r);return Object.assign(n,e),n},pk=t=>hk,q2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"",VITE_OPENROUTER_API_KEY:"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"},ja=new Map,bc=t=>{const e=ja.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},mk=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=ja.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return ja.set(n.name,i),{type:"tracked",store:t,...i}},gk=(t,e)=>{if(e===void 0)return;const n=ja.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&ja.delete(t))},yk=t=>{var e,n;if(!t)return;const r=t.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const o=((e=r[i+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(o))==null?void 0:n[1]},vk=(t,e={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...f}=e;let h;try{h=(o??(q2?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return t(n,r,i);const{connection:p,...g}=mk(a,h,f);let y=!0;i.setState=(T,M,w)=>{const E=n(T,M);if(!y)return E;const C=w===void 0?{type:s||yk(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return a===void 0?(p==null||p.send(C,r()),E):(p==null||p.send({...C,type:`${a}/${C.type}`},{...bc(f.name),[a]:i.getState()}),E)},i.devtools={cleanup:()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe(),gk(f.name,a)}};const _=(...T)=>{const M=y;y=!1,n(...T),y=M},x=t(i.setState,r,i);if(g.type==="untracked"?p==null||p.init(x):(g.stores[g.store]=i,p==null||p.init(Object.fromEntries(Object.entries(g.stores).map(([T,M])=>[T,T===g.store?x:M.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let T=!1;const M=i.dispatch;i.dispatch=(...w)=>{(q2?"production":void 0)!=="production"&&w[0].type==="__setState"&&!T&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),T=!0),M(...w)}}return p.subscribe(T=>{var M;switch(T.type){case"ACTION":if(typeof T.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return om(T.payload,w=>{if(w.type==="__setState"){if(a===void 0){_(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=w.state[a];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&_(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(T.payload.type){case"RESET":return _(x),a===void 0?p==null?void 0:p.init(i.getState()):p==null?void 0:p.init(bc(f.name));case"COMMIT":if(a===void 0){p==null||p.init(i.getState());return}return p==null?void 0:p.init(bc(f.name));case"ROLLBACK":return om(T.state,w=>{if(a===void 0){_(w),p==null||p.init(i.getState());return}_(w[a]),p==null||p.init(bc(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return om(T.state,w=>{if(a===void 0){_(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[a])&&_(w[a])});case"IMPORT_STATE":{const{nextLiftedState:w}=T.payload,E=(M=w.computedStates.slice(-1)[0])==null?void 0:M.state;if(!E)return;_(a===void 0?E:E[a]),p==null||p.send(null,w);return}case"PAUSE_RECORDING":return y=!y}return}}),x},Ck=vk,om=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function Sk(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=f=>f===null?null:JSON.parse(f,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const Cg=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Cg(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Cg(r)(n)}}}},_k=(t,e)=>(n,r,i)=>{let o={storage:Sk(()=>localStorage),partialize:T=>T,version:0,merge:(T,M)=>({...M,...T}),...e},s=!1;const a=new Set,f=new Set;let h=o.storage;if(!h)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...T)},r,i);const p=()=>{const T=o.partialize({...r()});return h.setItem(o.name,{state:T,version:o.version})},g=i.setState;i.setState=(T,M)=>(g(T,M),p());const y=t((...T)=>(n(...T),p()),r,i);i.getInitialState=()=>y;let _;const x=()=>{var T,M;if(!h)return;s=!1,a.forEach(E=>{var C;return E((C=r())!=null?C:y)});const w=((M=o.onRehydrateStorage)==null?void 0:M.call(o,(T=r())!=null?T:y))||void 0;return Cg(h.getItem.bind(h))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate){const C=o.migrate(E.state,E.version);return C instanceof Promise?C.then(k=>[!0,k]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var C;const[k,I]=E;if(_=o.merge(I,(C=r())!=null?C:y),n(_,!0),k)return p()}).then(()=>{w==null||w(_,void 0),_=r(),s=!0,f.forEach(E=>E(_))}).catch(E=>{w==null||w(void 0,E)})};return i.persist={setOptions:T=>{o={...o,...T},T.storage&&(h=T.storage)},clearStorage:()=>{h==null||h.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(f.add(T),()=>{f.delete(T)})},o.skipHydration||x(),_||y},xk=_k,Tk=(t,e)=>({currentProject:null,canvasImage:null,canvasZoom:1,canvasPan:{x:0,y:0},uploadedImages:[],editReferenceImages:[],brushStrokes:[],brushSize:20,showMasks:!0,isGenerating:!1,currentPrompt:"",temperature:.7,seed:null,selectedGenerationId:null,selectedEditId:null,showHistory:!0,showPromptPanel:!0,selectedTool:"generate",theme:{mode:"dark"},language:{code:"zh",name:""},aiProvider:{id:"openrouter",name:"OpenRouter",models:["google/gemini-2.5-flash-image-preview"]},selectedModel:"google/gemini-2.5-flash-image-preview",setCurrentProject:n=>t({currentProject:n}),setCanvasImage:n=>t({canvasImage:n}),setCanvasZoom:n=>t({canvasZoom:n}),setCanvasPan:n=>t({canvasPan:n}),addUploadedImage:n=>t(r=>({uploadedImages:[...r.uploadedImages,n]})),removeUploadedImage:n=>t(r=>({uploadedImages:r.uploadedImages.filter((i,o)=>o!==n)})),clearUploadedImages:()=>t({uploadedImages:[]}),addEditReferenceImage:n=>t(r=>({editReferenceImages:[...r.editReferenceImages,n]})),removeEditReferenceImage:n=>t(r=>({editReferenceImages:r.editReferenceImages.filter((i,o)=>o!==n)})),clearEditReferenceImages:()=>t({editReferenceImages:[]}),addBrushStroke:n=>t(r=>({brushStrokes:[...r.brushStrokes,n]})),clearBrushStrokes:()=>t({brushStrokes:[]}),setBrushSize:n=>t({brushSize:n}),setShowMasks:n=>t({showMasks:n}),setIsGenerating:n=>t({isGenerating:n}),setCurrentPrompt:n=>t({currentPrompt:n}),setTemperature:n=>t({temperature:n}),setSeed:n=>t({seed:n}),addGeneration:n=>t(r=>({currentProject:r.currentProject?{...r.currentProject,generations:[...r.currentProject.generations,n],updatedAt:Date.now()}:null})),addEdit:n=>t(r=>({currentProject:r.currentProject?{...r.currentProject,edits:[...r.currentProject.edits,n],updatedAt:Date.now()}:null})),selectGeneration:n=>t({selectedGenerationId:n}),selectEdit:n=>t({selectedEditId:n}),setShowHistory:n=>t({showHistory:n}),setShowPromptPanel:n=>t({showPromptPanel:n}),setSelectedTool:n=>t({selectedTool:n}),setTheme:n=>t({theme:n}),setLanguage:n=>t({language:n}),setAIProvider:n=>t({aiProvider:n}),setSelectedModel:n=>t({selectedModel:n})}),qn=pk()(Ck(xk(Tk,{name:"nano-banana-settings",partialize:t=>({theme:t.theme,language:t.language,aiProvider:t.aiProvider,selectedModel:t.selectedModel})}),{name:"nano-banana-store"})),$2={en:{appTitle:"Nano Banana AI Image Editor",appTitleShort:"NB Editor",version:"1.0",generate:"Generate",edit:"Edit",select:"Select",generateDesc:"Create from text",editDesc:"Modify existing",selectDesc:"Click to select",createFromText:"Create from text",modifyExisting:"Modify existing",clickToSelect:"Click to select",mode:"Mode",referenceImages:"Reference Images",styleReferences:"Style References",uploadImage:"Upload Image",upload:"Upload",optional:"Optional, up to 2 images",editImageDesc:"Edit an image with masks",styleRefDesc:"Optional style references, up to 2 images",uploadToEditDesc:"Upload image to edit, up to 2 images",describeWhatYouWantToCreate:"Describe what you want to create",describeYourChanges:"Describe your changes",describeCreate:"Describe what you want to create",describeChanges:"Describe your changes",promptPlaceholderGenerate:"A serene mountain landscape at sunset with a lake reflecting the golden sky...",promptPlaceholderEdit:"Make the sky more dramatic, add storm clouds...",addDetailForBetter:"Add detail for better results",addDetailForBetterResults:"Add detail for better results",goodDetailLevel:"Good detail level",excellentPromptDetail:"Excellent prompt detail",generating:"Generating...",applyEdit:"Apply Edit",download:"Download",clearSession:"Clear Session",showAdvanced:"Show Advanced Controls",hideAdvanced:"Hide Advanced Controls",show:"Show",hide:"Hide",advancedControls:"Advanced Controls",yesClear:"Yes, Clear",cancel:"Cancel",creativity:"Creativity",seed:"Seed (optional)",seedOptional:"Seed (optional)",random:"Random",masks:"Masks",brush:"Brush",historyVariants:"History & Variants",currentVariants:"Current Variants",noGenerationsYet:"No generations yet",currentImage:"Current Image",dimensions:"Dimensions",generationDetails:"Generation Details",prompt:"Prompt",model:"Model",editInstruction:"Edit Instruction",type:"Type",imageEdit:"Image Edit",created:"Created",mask:"Mask",applied:"Applied",originalImage:"Original Image",maskedReference:"Masked Reference",selectGenerationEdit:"Select a generation or edit to view details",shortcuts:"Shortcuts",reRoll:"Re-roll",editMode:"Edit mode",history:"History",togglePanel:"Toggle Panel",welcomeTitle:"Welcome to Nano Banana Framework",welcomeGenerate:"Start by describing what you want to create in the prompt box",welcomeEdit:"Upload an image to begin editing",creatingImage:"Creating your image...",ref:"Ref",editAnImageWithMasks:"Edit an image with masks",optionalUpTo2Images:"Optional, up to 8 images",optionalStyleReferencesUpTo2Images:"Optional style references, up to 8 images",uploadImageToEditUpTo2Images:"Upload image to edit, up to 8 images",referenceImage:"Reference Image",referenceImageDescription:"This reference image was used to guide the generation",originalImageDescription:"The base image that was edited",maskedReferenceImage:"Masked Reference Image",maskedReferenceImageDescription:"This image with mask overlay was sent to the AI model to guide the edit",settings:"Settings",theme:"Theme",language:"Language",aiProvider:"AI Provider",lightMode:"Light Mode",darkMode:"Dark Mode",clearSessionConfirm:"Are you sure you want to clear this session? This will remove all uploads, prompts, and canvas content.",clearSessionConfirmation:"Are you sure you want to clear this session? This will remove all uploads, prompts, and canvas content.",showHistoryPanel:"Show History Panel",hideHistoryPanel:"Hide History Panel",showPromptPanel:"Show Prompt Panel",hidePromptPanel:"Hide Prompt Panel",aboutTitle:"About Nano Banana AI Image Editor",developedBy:"Developed by",learnToBuild:"Learn to Build AI Apps & More Solutions",learnDescription:"Learn to vibe code apps like this one and master AI automation, build intelligent agents, and create cutting-edge solutions that drive real business results.",joinAccelerator:"Join the AI Accelerator Program",getCopy:"Get a Copy of This App",getCopyDescription:"Get a copy of this app by joining the Vibe Coding is Life Skool community. Live build sessions, app projects, resources and more in the best vibe coding community on the web.",joinCommunity:"Join Vibe Coding is Life Community",promptQualityTips:"Prompt Quality Tips",subject:"subject",scene:"scene",action:"action",style:"style",camera:"camera",beSpecificSubject:"Be specific about the main subject",describeEnvironment:"Describe the environment and setting",includeMovement:"Include movement or activity",specifyStyle:"Specify artistic style or mood",addCameraPerspective:"Add camera perspective details",bestPractice:"Best practice:",bestPracticeDesc:'Write full sentences that describe the complete scene, not just keywords. Think "paint me a picture with words."',copyright:" 2025 Mark Fulton -",poweredBy:"Powered by Gemini 2.5 Flash Image"},zh:{appTitle:"AI",appTitleShort:"NB",version:"1.0",generate:"",edit:"",select:"",generateDesc:"",editDesc:"",selectDesc:"",createFromText:"",modifyExisting:"",clickToSelect:"",mode:"",referenceImages:"",styleReferences:"",uploadImage:"",upload:"",optional:"8",editImageDesc:"",styleRefDesc:"8",uploadToEditDesc:"8",describeWhatYouWantToCreate:"",describeYourChanges:"",describeCreate:"",describeChanges:"",promptPlaceholderGenerate:"...",promptPlaceholderEdit:"...",addDetailForBetter:"",addDetailForBetterResults:"",goodDetailLevel:"",excellentPromptDetail:"",generating:"...",applyEdit:"",download:"",clearSession:"",showAdvanced:"",hideAdvanced:"",show:"",hide:"",advancedControls:"",yesClear:"",cancel:"",creativity:"",seed:"",seedOptional:"",random:"",masks:"",brush:"",historyVariants:"",currentVariants:"",noGenerationsYet:"",currentImage:"",dimensions:"",generationDetails:"",prompt:"",model:"",editInstruction:"",type:"",imageEdit:"",created:"",mask:"",applied:"",originalImage:"",maskedReference:"",selectGenerationEdit:"",shortcuts:"",reRoll:"",editMode:"",history:"",togglePanel:"",welcomeTitle:"",welcomeGenerate:"",welcomeEdit:"",creatingImage:"...",ref:"",editAnImageWithMasks:"",optionalUpTo2Images:"8",optionalStyleReferencesUpTo2Images:"8",uploadImageToEditUpTo2Images:"8",referenceImage:"",referenceImageDescription:"",originalImageDescription:"",maskedReferenceImage:"",maskedReferenceImageDescription:"AI",settings:"",theme:"",language:"",aiProvider:"AI",lightMode:"",darkMode:"",clearSessionConfirm:"",clearSessionConfirmation:"",showHistoryPanel:"",hideHistoryPanel:"",showPromptPanel:"",hidePromptPanel:"",aboutTitle:"AI",developedBy:"",learnToBuild:"AI",learnDescription:"AI",joinAccelerator:"AI",getCopy:"",getCopyDescription:"Vibe Coding is Life Skool",joinCommunity:"Vibe Coding is Life",promptQualityTips:"",subject:"",scene:"",action:"",style:"",camera:"",beSpecificSubject:"",describeEnvironment:"",includeMovement:"",specifyStyle:"",addCameraPerspective:"",bestPractice:"",bestPracticeDesc:'""',copyright:" 2025  -",poweredBy:"Nano Banana"}},wk=(t,e)=>$2[e][t]||$2.en[t],du=()=>{const{language:t}=qn();return{t:n=>wk(n,t.code),language:t.code}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ek,kk;function Pk(){return{geminiUrl:Ek,vertexUrl:kk}}function Mk(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Pk();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jo{}function de(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const f=t[a];if(Array.isArray(n))for(let h=0;h<f.length;h++){const p=f[h];d(p,e.slice(o+1),n[h])}else for(const h of f)d(h,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const f=t[a];d(f[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function c(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>c(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var K2;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(K2||(K2={}));var Y2;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Y2||(Y2={}));var $i;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($i||($i={}));var J2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(J2||(J2={}));var Q2;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Q2||(Q2={}));var X2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(X2||(X2={}));var Z2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Z2||(Z2={}));var j2;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(j2||(j2={}));var eC;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(eC||(eC={}));var tC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tC||(tC={}));var nC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(nC||(nC={}));var rC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rC||(rC={}));var iC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(iC||(iC={}));var oC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(oC||(oC={}));var sC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sC||(sC={}));var bd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(bd||(bd={}));var lC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lC||(lC={}));var _g;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_g||(_g={}));var aC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aC||(aC={}));var uC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uC||(uC={}));var cC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cC||(cC={}));var dC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dC||(dC={}));var fC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fC||(fC={}));var hC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hC||(hC={}));var pC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pC||(pC={}));var mC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mC||(mC={}));var gC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gC||(gC={}));var yC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yC||(yC={}));var vC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vC||(vC={}));var CC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(CC||(CC={}));var SC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SC||(SC={}));var _C;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_C||(_C={}));var xC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xC||(xC={}));var TC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TC||(TC={}));var wC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(wC||(wC={}));var EC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(EC||(EC={}));var kC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(kC||(kC={}));var PC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(PC||(PC={}));var MC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(MC||(MC={}));var IC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(IC||(IC={}));var AC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(AC||(AC={}));var RC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RC||(RC={}));var NC;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(NC||(NC={}));var DC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(DC||(DC={}));var FC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(FC||(FC={}));var qs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(qs||(qs={}));class xg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ha{get text(){var e,n,r,i,o,s,a,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",p=!1;const g=[];for(const y of(f=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(const[_,x]of Object.entries(y))_!=="text"&&_!=="thought"&&(x!==null||x!==void 0)&&g.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,h+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?h:void 0}get data(){var e,n,r,i,o,s,a,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const p=[];for(const g of(f=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(const[y,_]of Object.entries(g))y!=="inlineData"&&(_!==null||_!==void 0)&&p.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(h+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,i,o,s,a,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,i,o,s,a,f,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(h=p==null?void 0:p[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,i,o,s,a,f,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(h=p==null?void 0:p[0])===null||h===void 0?void 0:h.output}}class LC{}class bC{}class Ik{}class Ak{}class Rk{}class Nk{}class UC{}class GC{}class VC{}class Dk{}class OC{}class Ud{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Ud;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new OC,s=i.videos;o.generatedVideos=s==null?void 0:s.map(a=>({video:{uri:a.gcsUri,videoBytes:a.bytesBase64Encoded?Sg(a.bytesBase64Encoded):void 0,mimeType:a.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new OC,s=i.generateVideoResponse,a=s==null?void 0:s.generatedSamples;o.generatedVideos=a==null?void 0:a.map(f=>{const h=f.video;return{video:{uri:h==null?void 0:h.uri,videoBytes:h!=null&&h.encodedVideo?Sg(h==null?void 0:h.encodedVideo):void 0,mimeType:f.encoding}}}),o.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,o.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=o}}return r}}class BC{}class zC{}class HC{}class Fk{}class Lk{}class bk{}class WC{}class Uk{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(a))f!=="text"&&f!=="thought"&&h!==null&&s.push(f);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,f]of Object.entries(s))a!=="inlineData"&&f!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Gk{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function I5(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function A5(t){return Array.isArray(t)?t.map(e=>Gd(e)):[Gd(t)]}function Gd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function R5(t){const e=Gd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function N5(t){const e=Gd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function D5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qC(e)):[qC(t)]}function Tg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $C(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function en(t){if(t==null)throw new Error("ContentUnion is required");return Tg(t)?t:{role:"user",parts:D5(t)}}function F5(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=en(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=en(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>en(n)):[en(e)]}function $n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($C(t)||KC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[en(t)]}const e=[],n=[],r=Tg(t[0]);for(const i of t){const o=Tg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if($C(i)||KC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:D5(n)}),e}function Vk(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($i).includes(n[0].toUpperCase())?n[0].toUpperCase():$i.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($i).includes(r.toUpperCase())?r.toUpperCase():$i.TYPE_UNSPECIFIED})}}function js(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Vk(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values($i).includes(a.toUpperCase())?a.toUpperCase():$i.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=js(a);else if(r.includes(s)){const f=[];for(const h of a){if(h.type=="null"){e.nullable=!0;continue}f.push(js(h))}e[s]=f}else if(i.includes(s)){const f={};for(const[h,p]of Object.entries(a))f[h]=js(p);e[s]=f}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Q0(t){return js(t)}function X0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Z0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function kl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=js(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=js(e.response));return t}function Pl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Ok(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ci(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ok(t,e,"cachedContents")}function L5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function es(t){return Sg(t)}function Bk(t){return t!=null&&typeof t=="object"&&"name"in t}function zk(t){return t!=null&&typeof t=="object"&&"video"in t}function Hk(t){return t!=null&&typeof t=="object"&&"uri"in t}function b5(t){var e;let n;if(Bk(t)&&(n=t.name),!(Hk(t)&&(n=t.uri,n===void 0))&&!(zk(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function U5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function G5(t){for(const e of["models","tunedModels","publisherModels"])if(Wk(t,e))return t[e];return[]}function Wk(t,e){return t!==null&&typeof t=="object"&&e in t}function qk(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function $k(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=qk(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function V5(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Kk(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ml(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function O5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yk(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function Jk(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Qk(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Xk(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],Yk(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],Jk(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],Qk(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function B5(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xk(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function Zk(t){const e={},n=c(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const r=c(t,["default"]);r!=null&&d(e,["default"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["enum"]);o!=null&&d(e,["enum"],o);const s=c(t,["example"]);s!=null&&d(e,["example"],s);const a=c(t,["format"]);a!=null&&d(e,["format"],a);const f=c(t,["items"]);f!=null&&d(e,["items"],f);const h=c(t,["maxItems"]);h!=null&&d(e,["maxItems"],h);const p=c(t,["maxLength"]);p!=null&&d(e,["maxLength"],p);const g=c(t,["maxProperties"]);g!=null&&d(e,["maxProperties"],g);const y=c(t,["maximum"]);y!=null&&d(e,["maximum"],y);const _=c(t,["minItems"]);_!=null&&d(e,["minItems"],_);const x=c(t,["minLength"]);x!=null&&d(e,["minLength"],x);const T=c(t,["minProperties"]);T!=null&&d(e,["minProperties"],T);const M=c(t,["minimum"]);M!=null&&d(e,["minimum"],M);const w=c(t,["nullable"]);w!=null&&d(e,["nullable"],w);const E=c(t,["pattern"]);E!=null&&d(e,["pattern"],E);const C=c(t,["properties"]);C!=null&&d(e,["properties"],C);const k=c(t,["propertyOrdering"]);k!=null&&d(e,["propertyOrdering"],k);const I=c(t,["required"]);I!=null&&d(e,["required"],I);const N=c(t,["title"]);N!=null&&d(e,["title"],N);const F=c(t,["type"]);return F!=null&&d(e,["type"],F),e}function jk(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&d(e,["category"],n);const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function eP(t){const e={},n=c(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=c(t,["description"]);r!=null&&d(e,["description"],r);const i=c(t,["name"]);i!=null&&d(e,["name"],i);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const a=c(t,["response"]);a!=null&&d(e,["response"],a);const f=c(t,["responseJsonSchema"]);return f!=null&&d(e,["responseJsonSchema"],f),e}function tP(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function nP(t){const e={},n=c(t,["timeRangeFilter"]);if(n!=null&&d(e,["timeRangeFilter"],tP(n)),c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function rP(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function iP(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],rP(n)),e}function oP(){return{}}function sP(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function lP(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>eP(h))),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],nP(r));const i=c(t,["googleSearchRetrieval"]);if(i!=null&&d(e,["googleSearchRetrieval"],iP(i)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],oP());const s=c(t,["computerUse"]);s!=null&&d(e,["computerUse"],sP(s));const a=c(t,["codeExecution"]);return a!=null&&d(e,["codeExecution"],a),e}function aP(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function uP(t){const e={},n=c(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=c(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function cP(t){const e={},n=c(t,["latLng"]);n!=null&&d(e,["latLng"],uP(n));const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function dP(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],aP(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],cP(r)),e}function fP(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function z5(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],fP(n)),e}function hP(t){const e={},n=c(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=c(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],z5(r)),e}function pP(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hP(i))),d(e,["speakerVoiceConfigs"],r)}return e}function mP(t){const e={},n=c(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],z5(n));const r=c(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],pP(r));const i=c(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function gP(t){const e={},n=c(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const r=c(t,["thinkingBudget"]);return r!=null&&d(e,["thinkingBudget"],r),e}function yP(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],B5(en(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const f=c(e,["candidateCount"]);f!=null&&d(r,["candidateCount"],f);const h=c(e,["maxOutputTokens"]);h!=null&&d(r,["maxOutputTokens"],h);const p=c(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const y=c(e,["logprobs"]);y!=null&&d(r,["logprobs"],y);const _=c(e,["presencePenalty"]);_!=null&&d(r,["presencePenalty"],_);const x=c(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const T=c(e,["seed"]);T!=null&&d(r,["seed"],T);const M=c(e,["responseMimeType"]);M!=null&&d(r,["responseMimeType"],M);const w=c(e,["responseSchema"]);w!=null&&d(r,["responseSchema"],Zk(Q0(w)));const E=c(e,["responseJsonSchema"]);if(E!=null&&d(r,["responseJsonSchema"],E),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=c(e,["safetySettings"]);if(n!==void 0&&C!=null){let z=C;Array.isArray(z)&&(z=z.map(W=>jk(W))),d(n,["safetySettings"],z)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let z=Pl(k);Array.isArray(z)&&(z=z.map(W=>lP(kl(W)))),d(n,["tools"],z)}const I=c(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],dP(I)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=c(e,["cachedContent"]);n!==void 0&&N!=null&&d(n,["cachedContent"],ci(t,N));const F=c(e,["responseModalities"]);F!=null&&d(r,["responseModalities"],F);const R=c(e,["mediaResolution"]);R!=null&&d(r,["mediaResolution"],R);const b=c(e,["speechConfig"]);if(b!=null&&d(r,["speechConfig"],mP(X0(b))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=c(e,["thinkingConfig"]);return L!=null&&d(r,["thinkingConfig"],gP(L)),r}function vP(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["request","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>B5(a))),d(n,["request","contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["request","generationConfig"],yP(t,o,n)),n}function CP(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&d(n,["fileName"],r);const i=c(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>vP(t,s))),d(n,["requests","requests"],o)}return n}function SP(t,e){const n={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["src"]);i!=null&&d(n,["batch","inputConfig"],CP(t,V5(t,i)));const o=c(e,["config"]);return o!=null&&d(n,["config"],SP(o,n)),n}function _P(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function xP(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function TP(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);if(e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function wP(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],TP(n,e)),e}function EP(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function kP(t){const e={},n=c(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigquerySource","inputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function PP(t){const e={},n=c(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigqueryDestination","outputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function MP(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["dest"]);return e!==void 0&&i!=null&&d(e,["outputConfig"],PP(Kk(i))),n}function IP(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],Ve(t,r));const i=c(e,["src"]);i!=null&&d(n,["inputConfig"],kP(V5(t,i)));const o=c(e,["config"]);return o!=null&&d(n,["config"],MP(o,n)),n}function AP(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function RP(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function NP(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function DP(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],NP(n,e)),e}function FP(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],Ml(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function LP(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function bP(t){const e={},n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function UP(t){const e={},n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function GP(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],LP(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],bP(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],UP(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function VP(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>GP(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function OP(t){const e={},n=c(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function BP(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=c(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function zP(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BP(i))),d(e,["urlMetadata"],r)}return e}function HP(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],VP(n));const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],OP(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=c(t,["urlContextMetadata"]);s!=null&&d(e,["urlContextMetadata"],zP(s));const a=c(t,["avgLogprobs"]);a!=null&&d(e,["avgLogprobs"],a);const f=c(t,["groundingMetadata"]);f!=null&&d(e,["groundingMetadata"],f);const h=c(t,["index"]);h!=null&&d(e,["index"],h);const p=c(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const g=c(t,["safetyRatings"]);return g!=null&&d(e,["safetyRatings"],g),e}function WP(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>HP(h))),d(e,["candidates"],f)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=c(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function H5(t){const e={},n=c(t,["details"]);n!=null&&d(e,["details"],n);const r=c(t,["code"]);r!=null&&d(e,["code"],r);const i=c(t,["message"]);return i!=null&&d(e,["message"],i),e}function qP(t){const e={},n=c(t,["response"]);n!=null&&d(e,["response"],WP(n));const r=c(t,["error"]);return r!=null&&d(e,["error"],H5(r)),e}function $P(t){const e={},n=c(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>qP(o))),d(e,["inlinedResponses"],i)}return e}function od(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["metadata","state"]);i!=null&&d(e,["state"],O5(i));const o=c(t,["metadata","createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["metadata","endTime"]);s!=null&&d(e,["endTime"],s);const a=c(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const f=c(t,["metadata","model"]);f!=null&&d(e,["model"],f);const h=c(t,["metadata","output"]);return h!=null&&d(e,["dest"],$P(h)),e}function KP(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>od(s))),d(e,["batchJobs"],o)}return e}function YP(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],H5(o)),e}function W5(t){const e={},n=c(t,["details"]);n!=null&&d(e,["details"],n);const r=c(t,["code"]);r!=null&&d(e,["code"],r);const i=c(t,["message"]);return i!=null&&d(e,["message"],i),e}function JP(t){const e={},n=c(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigquerySource","inputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function QP(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigqueryDestination","outputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function wg(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["state"]);i!=null&&d(e,["state"],O5(i));const o=c(t,["error"]);o!=null&&d(e,["error"],W5(o));const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const f=c(t,["endTime"]);f!=null&&d(e,["endTime"],f);const h=c(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const p=c(t,["model"]);p!=null&&d(e,["model"],p);const g=c(t,["inputConfig"]);g!=null&&d(e,["src"],JP(g));const y=c(t,["outputConfig"]);return y!=null&&d(e,["dest"],QP(y)),e}function XP(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wg(s))),d(e,["batchJobs"],o)}return e}function ZP(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],W5(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Jo||(Jo={}));class fu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jP extends jo{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",s={};const a=YC(this.apiClient,n);o=de("{model}:batchGenerateContent",a._url),s=a._query;const p=a.batch.inputConfig.requests,g=p.requests,y=[];for(const x of g){const T=x;if(T.systemInstruction){const M=T.systemInstruction;delete T.systemInstruction;const w=T.request;w.systemInstruction=M,T.request=w}y.push(T)}return p.requests=y,delete a.config,delete a._url,delete a._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()).then(x=>od(x))}return await this.createInternal(n)},this.list=async(n={})=>new fu(Jo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=IP(this.apiClient,e);return a=de("batchPredictionJobs",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>wg(p))}else{const h=YC(this.apiClient,e);return a=de("{model}:batchGenerateContent",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>od(p))}}async get(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=AP(this.apiClient,e);return a=de("batchPredictionJobs/{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>wg(p))}else{const h=_P(this.apiClient,e);return a=de("batches/{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>od(p))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const f=RP(this.apiClient,e);s=de("batchPredictionJobs/{name}:cancel",f._url),a=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=xP(this.apiClient,e);s=de("batches/{name}:cancel",f._url),a=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=DP(e);return a=de("batchPredictionJobs",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=XP(p),y=new WC;return Object.assign(y,g),y})}else{const h=wP(e);return a=de("batches",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=KP(p),y=new WC;return Object.assign(y,g),y})}}async delete(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=FP(this.apiClient,e);return a=de("batchPredictionJobs/{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>ZP(p))}else{const h=EP(this.apiClient,e);return a=de("batches/{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>YP(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function tM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function nM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function rM(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],eM(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],tM(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],nM(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function JC(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rM(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function iM(t){const e={},n=c(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=c(t,["description"]);r!=null&&d(e,["description"],r);const i=c(t,["name"]);i!=null&&d(e,["name"],i);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const a=c(t,["response"]);a!=null&&d(e,["response"],a);const f=c(t,["responseJsonSchema"]);return f!=null&&d(e,["responseJsonSchema"],f),e}function oM(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function sM(t){const e={},n=c(t,["timeRangeFilter"]);if(n!=null&&d(e,["timeRangeFilter"],oM(n)),c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lM(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function aM(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],lM(n)),e}function uM(){return{}}function cM(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function dM(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>iM(h))),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],sM(r));const i=c(t,["googleSearchRetrieval"]);if(i!=null&&d(e,["googleSearchRetrieval"],aM(i)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],uM());const s=c(t,["computerUse"]);s!=null&&d(e,["computerUse"],cM(s));const a=c(t,["codeExecution"]);return a!=null&&d(e,["codeExecution"],a),e}function fM(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function hM(t){const e={},n=c(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=c(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function pM(t){const e={},n=c(t,["latLng"]);n!=null&&d(e,["latLng"],hM(n));const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function mM(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],fM(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],pM(r)),e}function gM(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=c(t,["contents"]);if(e!==void 0&&s!=null){let p=$n(s);Array.isArray(p)&&(p=p.map(g=>JC(g))),d(e,["contents"],p)}const a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],JC(en(a)));const f=c(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>dM(g))),d(e,["tools"],p)}const h=c(t,["toolConfig"]);if(e!==void 0&&h!=null&&d(e,["toolConfig"],mM(h)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yM(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],I5(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],gM(i,n)),n}function vM(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function CM(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function SM(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function _M(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],SM(i,n)),n}function xM(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function TM(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],xM(n,e)),e}function wM(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function EM(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["data"]);r!=null&&d(e,["data"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function kM(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function PM(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],wM(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],EM(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],kM(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function QC(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>PM(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function MM(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function IM(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function AM(t){const e={},n=c(t,["timeRangeFilter"]);n!=null&&d(e,["timeRangeFilter"],IM(n));const r=c(t,["excludeDomains"]);return r!=null&&d(e,["excludeDomains"],r),e}function RM(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function NM(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],RM(n)),e}function DM(t){const e={},n=c(t,["excludeDomains"]);return n!=null&&d(e,["excludeDomains"],n),e}function FM(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function LM(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],FM(n));const r=c(t,["authType"]);r!=null&&d(e,["authType"],r);const i=c(t,["googleServiceAccountConfig"]);i!=null&&d(e,["googleServiceAccountConfig"],i);const o=c(t,["httpBasicAuthConfig"]);o!=null&&d(e,["httpBasicAuthConfig"],o);const s=c(t,["oauthConfig"]);s!=null&&d(e,["oauthConfig"],s);const a=c(t,["oidcConfig"]);return a!=null&&d(e,["oidcConfig"],a),e}function bM(t){const e={},n=c(t,["authConfig"]);return n!=null&&d(e,["authConfig"],LM(n)),e}function UM(){return{}}function GM(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function VM(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>MM(y))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],AM(i));const o=c(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],NM(o));const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],DM(s));const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],bM(a)),c(t,["urlContext"])!=null&&d(e,["urlContext"],UM());const h=c(t,["computerUse"]);h!=null&&d(e,["computerUse"],GM(h));const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function OM(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function BM(t){const e={},n=c(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=c(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function zM(t){const e={},n=c(t,["latLng"]);n!=null&&d(e,["latLng"],BM(n));const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function HM(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],OM(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],zM(r)),e}function WM(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=c(t,["contents"]);if(e!==void 0&&s!=null){let g=$n(s);Array.isArray(g)&&(g=g.map(y=>QC(y))),d(e,["contents"],g)}const a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],QC(en(a)));const f=c(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>VM(y))),d(e,["tools"],g)}const h=c(t,["toolConfig"]);e!==void 0&&h!=null&&d(e,["toolConfig"],HM(h));const p=c(t,["kmsKeyName"]);return e!==void 0&&p!=null&&d(e,["encryption_spec","kmsKeyName"],p),n}function qM(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],I5(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],WM(i,n)),n}function $M(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function KM(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function YM(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function JM(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ci(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],YM(i,n)),n}function QM(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function XM(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],QM(n,e)),e}function sd(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["model"]);i!=null&&d(e,["model"],i);const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["updateTime"]);s!=null&&d(e,["updateTime"],s);const a=c(t,["expireTime"]);a!=null&&d(e,["expireTime"],a);const f=c(t,["usageMetadata"]);return f!=null&&d(e,["usageMetadata"],f),e}function ZM(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function jM(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sd(s))),d(e,["cachedContents"],o)}return e}function ld(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["model"]);i!=null&&d(e,["model"],i);const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["updateTime"]);s!=null&&d(e,["updateTime"],s);const a=c(t,["expireTime"]);a!=null&&d(e,["expireTime"],a);const f=c(t,["usageMetadata"]);return f!=null&&d(e,["usageMetadata"],f),e}function eI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function tI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ld(s))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nI extends jo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fu(Jo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=qM(this.apiClient,e);return a=de("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>ld(p))}else{const h=yM(this.apiClient,e);return a=de("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>sd(p))}}async get(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=$M(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>ld(p))}else{const h=vM(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>sd(p))}}async delete(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=KM(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=eI(p),y=new zC;return Object.assign(y,g),y})}else{const h=CM(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=ZM(p),y=new zC;return Object.assign(y,g),y})}}async update(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=JM(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>ld(p))}else{const h=_M(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>sd(p))}}async listInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=XM(e);return a=de("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=tI(p),y=new HC;return Object.assign(y,g),y})}else{const h=TM(e);return a=de("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=jM(p),y=new HC;return Object.assign(y,g),y})}}}function XC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(t){return this instanceof tt?(this.v=t,this):new tt(t)}function el(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(x){return Promise.resolve(x).then(_,g)}}function a(_,x){r[_]&&(i[_]=function(T){return new Promise(function(M,w){o.push([_,T,M,w])>1||f(_,T)})},x&&(i[_]=x(i[_])))}function f(_,x){try{h(r[_](x))}catch(T){y(o[0][3],T)}}function h(_){_.value instanceof tt?Promise.resolve(_.value.v).then(p,g):y(o[0][2],_)}function p(_){f("next",_)}function g(_){f("throw",_)}function y(_,x){_(x),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Na(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XC=="function"?XC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,f){s=t[o](s),i(a,f,s.done,s.value)})}}function i(o,s,a,f){Promise.resolve(f).then(function(h){o({value:h,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:q5(n)}function q5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function iI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ZC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!q5(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class oI{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new sI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sI{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),iI(o)}async sendMessage(e){var n;await this.sendPromise;const r=en(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const f=await i,h=(s=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,p=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];p!=null&&(y=(a=p.slice(g))!==null&&a!==void 0?a:[]);const _=h?[h]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=en(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?ZC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return el(this,arguments,function*(){var s,a,f,h;const p=[];try{for(var g=!0,y=Na(e),_;_=yield tt(y.next()),s=_.done,!s;g=!0){h=_.value,g=!1;const x=h;if(rI(x)){const T=(i=(r=x.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&p.push(T)}yield yield tt(x)}}catch(x){a={error:x}}finally{try{!g&&!s&&(f=y.return)&&(yield tt(f.call(y)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ZC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ff extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ff.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lI(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function aI(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],lI(n,e)),e}function uI(t){const e={},n=c(t,["details"]);n!=null&&d(e,["details"],n);const r=c(t,["message"]);r!=null&&d(e,["message"],r);const i=c(t,["code"]);return i!=null&&d(e,["code"],i),e}function cI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=c(t,["sizeBytes"]);o!=null&&d(e,["sizeBytes"],o);const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=c(t,["expirationTime"]);a!=null&&d(e,["expirationTime"],a);const f=c(t,["updateTime"]);f!=null&&d(e,["updateTime"],f);const h=c(t,["sha256Hash"]);h!=null&&d(e,["sha256Hash"],h);const p=c(t,["uri"]);p!=null&&d(e,["uri"],p);const g=c(t,["downloadUri"]);g!=null&&d(e,["downloadUri"],g);const y=c(t,["state"]);y!=null&&d(e,["state"],y);const _=c(t,["source"]);_!=null&&d(e,["source"],_);const x=c(t,["videoMetadata"]);x!=null&&d(e,["videoMetadata"],x);const T=c(t,["error"]);return T!=null&&d(e,["error"],uI(T)),e}function dI(t){const e={},n=c(t,["file"]);n!=null&&d(e,["file"],cI(n));const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function fI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","file"],b5(n));const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function hI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","file"],b5(n));const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function pI(t){const e={},n=c(t,["details"]);n!=null&&d(e,["details"],n);const r=c(t,["message"]);r!=null&&d(e,["message"],r);const i=c(t,["code"]);return i!=null&&d(e,["code"],i),e}function Eg(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["mimeType"]);i!=null&&d(e,["mimeType"],i);const o=c(t,["sizeBytes"]);o!=null&&d(e,["sizeBytes"],o);const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=c(t,["expirationTime"]);a!=null&&d(e,["expirationTime"],a);const f=c(t,["updateTime"]);f!=null&&d(e,["updateTime"],f);const h=c(t,["sha256Hash"]);h!=null&&d(e,["sha256Hash"],h);const p=c(t,["uri"]);p!=null&&d(e,["uri"],p);const g=c(t,["downloadUri"]);g!=null&&d(e,["downloadUri"],g);const y=c(t,["state"]);y!=null&&d(e,["state"],y);const _=c(t,["source"]);_!=null&&d(e,["source"],_);const x=c(t,["videoMetadata"]);x!=null&&d(e,["videoMetadata"],x);const T=c(t,["error"]);return T!=null&&d(e,["error"],pI(T)),e}function mI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Eg(s))),d(e,["files"],o)}return e}function gI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function yI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vI extends jo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fu(Jo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Eg(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=aI(e);return o=de("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=mI(f),p=new Fk;return Object.assign(p,h),p})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dI(e);return o=de("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=gI(f),p=new Lk;return Object.assign(p,h),p})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fI(e);return o=de("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Eg(f))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hI(e);return o=de("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=yI(f),p=new bk;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CI(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function $5(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],CI(n)),e}function SI(t){const e={},n=c(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=c(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],$5(r)),e}function _I(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>SI(i))),d(e,["speakerVoiceConfigs"],r)}return e}function xI(t){const e={},n=c(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],$5(n));const r=c(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],_I(r));const i=c(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function TI(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function wI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function EI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function kI(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],TI(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],wI(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],EI(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function PI(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kI(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function MI(t){const e={},n=c(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=c(t,["description"]);r!=null&&d(e,["description"],r);const i=c(t,["name"]);i!=null&&d(e,["name"],i);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const a=c(t,["response"]);a!=null&&d(e,["response"],a);const f=c(t,["responseJsonSchema"]);return f!=null&&d(e,["responseJsonSchema"],f),e}function II(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function AI(t){const e={},n=c(t,["timeRangeFilter"]);if(n!=null&&d(e,["timeRangeFilter"],II(n)),c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function RI(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function NI(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],RI(n)),e}function DI(){return{}}function FI(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function LI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>MI(h))),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],AI(r));const i=c(t,["googleSearchRetrieval"]);if(i!=null&&d(e,["googleSearchRetrieval"],NI(i)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],DI());const s=c(t,["computerUse"]);s!=null&&d(e,["computerUse"],FI(s));const a=c(t,["codeExecution"]);return a!=null&&d(e,["codeExecution"],a),e}function bI(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jC(){return{}}function UI(t){const e={},n=c(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=c(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const i=c(t,["endOfSpeechSensitivity"]);i!=null&&d(e,["endOfSpeechSensitivity"],i);const o=c(t,["prefixPaddingMs"]);o!=null&&d(e,["prefixPaddingMs"],o);const s=c(t,["silenceDurationMs"]);return s!=null&&d(e,["silenceDurationMs"],s),e}function GI(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],UI(n));const r=c(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const i=c(t,["turnCoverage"]);return i!=null&&d(e,["turnCoverage"],i),e}function VI(t){const e={},n=c(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function OI(t){const e={},n=c(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=c(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],VI(r)),e}function BI(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function zI(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const f=c(t,["maxOutputTokens"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","maxOutputTokens"],f);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],xI(Z0(g)));const y=c(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=c(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],PI(en(_)));const x=c(t,["tools"]);if(e!==void 0&&x!=null){let I=Pl(x);Array.isArray(I)&&(I=I.map(N=>LI(kl(N)))),d(e,["setup","tools"],I)}const T=c(t,["sessionResumption"]);e!==void 0&&T!=null&&d(e,["setup","sessionResumption"],bI(T));const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],jC());const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],jC());const E=c(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&d(e,["setup","realtimeInputConfig"],GI(E));const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&d(e,["setup","contextWindowCompression"],OI(C));const k=c(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],BI(k)),n}function HI(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],zI(i,n)),n}function WI(){return{}}function qI(){return{}}function $I(t){const e={},n=c(t,["media"]);n!=null&&d(e,["mediaChunks"],A5(n));const r=c(t,["audio"]);r!=null&&d(e,["audio"],N5(r));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],R5(o));const s=c(t,["text"]);return s!=null&&d(e,["text"],s),c(t,["activityStart"])!=null&&d(e,["activityStart"],WI()),c(t,["activityEnd"])!=null&&d(e,["activityEnd"],qI()),e}function K5(t){const e={},n=c(t,["text"]);n!=null&&d(e,["text"],n);const r=c(t,["weight"]);return r!=null&&d(e,["weight"],r),e}function KI(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>K5(i))),d(e,["weightedPrompts"],r)}return e}function Y5(t){const e={},n=c(t,["temperature"]);n!=null&&d(e,["temperature"],n);const r=c(t,["topK"]);r!=null&&d(e,["topK"],r);const i=c(t,["seed"]);i!=null&&d(e,["seed"],i);const o=c(t,["guidance"]);o!=null&&d(e,["guidance"],o);const s=c(t,["bpm"]);s!=null&&d(e,["bpm"],s);const a=c(t,["density"]);a!=null&&d(e,["density"],a);const f=c(t,["brightness"]);f!=null&&d(e,["brightness"],f);const h=c(t,["scale"]);h!=null&&d(e,["scale"],h);const p=c(t,["muteBass"]);p!=null&&d(e,["muteBass"],p);const g=c(t,["muteDrums"]);g!=null&&d(e,["muteDrums"],g);const y=c(t,["onlyBassAndDrums"]);y!=null&&d(e,["onlyBassAndDrums"],y);const _=c(t,["musicGenerationMode"]);return _!=null&&d(e,["musicGenerationMode"],_),e}function YI(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],Y5(n)),e}function J5(t){const e={},n=c(t,["model"]);return n!=null&&d(e,["model"],n),e}function Q5(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>K5(i))),d(e,["weightedPrompts"],r)}return e}function kg(t){const e={},n=c(t,["setup"]);n!=null&&d(e,["setup"],J5(n));const r=c(t,["clientContent"]);r!=null&&d(e,["clientContent"],Q5(r));const i=c(t,["musicGenerationConfig"]);i!=null&&d(e,["musicGenerationConfig"],Y5(i));const o=c(t,["playbackControl"]);return o!=null&&d(e,["playbackControl"],o),e}function JI(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function QI(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],JI(n)),e}function XI(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],QI(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function ZI(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function jI(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["data"]);r!=null&&d(e,["data"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function eA(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function tA(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],ZI(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],jI(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],eA(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function nA(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tA(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function rA(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function iA(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function oA(t){const e={},n=c(t,["timeRangeFilter"]);n!=null&&d(e,["timeRangeFilter"],iA(n));const r=c(t,["excludeDomains"]);return r!=null&&d(e,["excludeDomains"],r),e}function sA(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function lA(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],sA(n)),e}function aA(t){const e={},n=c(t,["excludeDomains"]);return n!=null&&d(e,["excludeDomains"],n),e}function uA(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function cA(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],uA(n));const r=c(t,["authType"]);r!=null&&d(e,["authType"],r);const i=c(t,["googleServiceAccountConfig"]);i!=null&&d(e,["googleServiceAccountConfig"],i);const o=c(t,["httpBasicAuthConfig"]);o!=null&&d(e,["httpBasicAuthConfig"],o);const s=c(t,["oauthConfig"]);s!=null&&d(e,["oauthConfig"],s);const a=c(t,["oidcConfig"]);return a!=null&&d(e,["oidcConfig"],a),e}function dA(t){const e={},n=c(t,["authConfig"]);return n!=null&&d(e,["authConfig"],cA(n)),e}function fA(){return{}}function hA(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function pA(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>rA(y))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],oA(i));const o=c(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],lA(o));const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],aA(s));const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],dA(a)),c(t,["urlContext"])!=null&&d(e,["urlContext"],fA());const h=c(t,["computerUse"]);h!=null&&d(e,["computerUse"],hA(h));const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function mA(t){const e={},n=c(t,["handle"]);n!=null&&d(e,["handle"],n);const r=c(t,["transparent"]);return r!=null&&d(e,["transparent"],r),e}function eS(){return{}}function gA(t){const e={},n=c(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=c(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const i=c(t,["endOfSpeechSensitivity"]);i!=null&&d(e,["endOfSpeechSensitivity"],i);const o=c(t,["prefixPaddingMs"]);o!=null&&d(e,["prefixPaddingMs"],o);const s=c(t,["silenceDurationMs"]);return s!=null&&d(e,["silenceDurationMs"],s),e}function yA(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],gA(n));const r=c(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const i=c(t,["turnCoverage"]);return i!=null&&d(e,["turnCoverage"],i),e}function vA(t){const e={},n=c(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function CA(t){const e={},n=c(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=c(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],vA(r)),e}function SA(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function _A(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const f=c(t,["maxOutputTokens"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","maxOutputTokens"],f);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],XI(Z0(g)));const y=c(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=c(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],nA(en(_)));const x=c(t,["tools"]);if(e!==void 0&&x!=null){let I=Pl(x);Array.isArray(I)&&(I=I.map(N=>pA(kl(N)))),d(e,["setup","tools"],I)}const T=c(t,["sessionResumption"]);e!==void 0&&T!=null&&d(e,["setup","sessionResumption"],mA(T));const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],eS());const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],eS());const E=c(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&d(e,["setup","realtimeInputConfig"],yA(E));const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&d(e,["setup","contextWindowCompression"],CA(C));const k=c(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],SA(k)),n}function xA(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],_A(i,n)),n}function TA(){return{}}function wA(){return{}}function EA(t){const e={},n=c(t,["media"]);n!=null&&d(e,["mediaChunks"],A5(n));const r=c(t,["audio"]);r!=null&&d(e,["audio"],N5(r));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],R5(o));const s=c(t,["text"]);return s!=null&&d(e,["text"],s),c(t,["activityStart"])!=null&&d(e,["activityStart"],TA()),c(t,["activityEnd"])!=null&&d(e,["activityEnd"],wA()),e}function kA(){return{}}function PA(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function MA(t){const e={},n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function IA(t){const e={},n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function AA(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],PA(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],MA(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],IA(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function RA(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AA(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function tS(t){const e={},n=c(t,["text"]);n!=null&&d(e,["text"],n);const r=c(t,["finished"]);return r!=null&&d(e,["finished"],r),e}function NA(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=c(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function DA(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>NA(i))),d(e,["urlMetadata"],r)}return e}function FA(t){const e={},n=c(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],RA(n));const r=c(t,["turnComplete"]);r!=null&&d(e,["turnComplete"],r);const i=c(t,["interrupted"]);i!=null&&d(e,["interrupted"],i);const o=c(t,["groundingMetadata"]);o!=null&&d(e,["groundingMetadata"],o);const s=c(t,["generationComplete"]);s!=null&&d(e,["generationComplete"],s);const a=c(t,["inputTranscription"]);a!=null&&d(e,["inputTranscription"],tS(a));const f=c(t,["outputTranscription"]);f!=null&&d(e,["outputTranscription"],tS(f));const h=c(t,["urlContextMetadata"]);return h!=null&&d(e,["urlContextMetadata"],DA(h)),e}function LA(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);return i!=null&&d(e,["name"],i),e}function bA(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>LA(i))),d(e,["functionCalls"],r)}return e}function UA(t){const e={},n=c(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function Uc(t){const e={},n=c(t,["modality"]);n!=null&&d(e,["modality"],n);const r=c(t,["tokenCount"]);return r!=null&&d(e,["tokenCount"],r),e}function GA(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=c(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=c(t,["responseTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const o=c(t,["toolUsePromptTokenCount"]);o!=null&&d(e,["toolUsePromptTokenCount"],o);const s=c(t,["thoughtsTokenCount"]);s!=null&&d(e,["thoughtsTokenCount"],s);const a=c(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const f=c(t,["promptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(_=>Uc(_))),d(e,["promptTokensDetails"],y)}const h=c(t,["cacheTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>Uc(_))),d(e,["cacheTokensDetails"],y)}const p=c(t,["responseTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>Uc(_))),d(e,["responseTokensDetails"],y)}const g=c(t,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>Uc(_))),d(e,["toolUsePromptTokensDetails"],y)}return e}function VA(t){const e={},n=c(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function OA(t){const e={},n=c(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const r=c(t,["resumable"]);r!=null&&d(e,["resumable"],r);const i=c(t,["lastConsumedClientMessageIndex"]);return i!=null&&d(e,["lastConsumedClientMessageIndex"],i),e}function BA(t){const e={};c(t,["setupComplete"])!=null&&d(e,["setupComplete"],kA());const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],FA(r));const i=c(t,["toolCall"]);i!=null&&d(e,["toolCall"],bA(i));const o=c(t,["toolCallCancellation"]);o!=null&&d(e,["toolCallCancellation"],UA(o));const s=c(t,["usageMetadata"]);s!=null&&d(e,["usageMetadata"],GA(s));const a=c(t,["goAway"]);a!=null&&d(e,["goAway"],VA(a));const f=c(t,["sessionResumptionUpdate"]);return f!=null&&d(e,["sessionResumptionUpdate"],OA(f)),e}function zA(){return{}}function HA(t){const e={},n=c(t,["text"]);n!=null&&d(e,["text"],n);const r=c(t,["weight"]);return r!=null&&d(e,["weight"],r),e}function WA(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HA(i))),d(e,["weightedPrompts"],r)}return e}function qA(t){const e={},n=c(t,["temperature"]);n!=null&&d(e,["temperature"],n);const r=c(t,["topK"]);r!=null&&d(e,["topK"],r);const i=c(t,["seed"]);i!=null&&d(e,["seed"],i);const o=c(t,["guidance"]);o!=null&&d(e,["guidance"],o);const s=c(t,["bpm"]);s!=null&&d(e,["bpm"],s);const a=c(t,["density"]);a!=null&&d(e,["density"],a);const f=c(t,["brightness"]);f!=null&&d(e,["brightness"],f);const h=c(t,["scale"]);h!=null&&d(e,["scale"],h);const p=c(t,["muteBass"]);p!=null&&d(e,["muteBass"],p);const g=c(t,["muteDrums"]);g!=null&&d(e,["muteDrums"],g);const y=c(t,["onlyBassAndDrums"]);y!=null&&d(e,["onlyBassAndDrums"],y);const _=c(t,["musicGenerationMode"]);return _!=null&&d(e,["musicGenerationMode"],_),e}function $A(t){const e={},n=c(t,["clientContent"]);n!=null&&d(e,["clientContent"],WA(n));const r=c(t,["musicGenerationConfig"]);return r!=null&&d(e,["musicGenerationConfig"],qA(r)),e}function KA(t){const e={},n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);r!=null&&d(e,["mimeType"],r);const i=c(t,["sourceMetadata"]);return i!=null&&d(e,["sourceMetadata"],$A(i)),e}function YA(t){const e={},n=c(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KA(i))),d(e,["audioChunks"],r)}return e}function JA(t){const e={},n=c(t,["text"]);n!=null&&d(e,["text"],n);const r=c(t,["filteredReason"]);return r!=null&&d(e,["filteredReason"],r),e}function QA(t){const e={};c(t,["setupComplete"])!=null&&d(e,["setupComplete"],zA());const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],YA(r));const i=c(t,["filteredPrompt"]);return i!=null&&d(e,["filteredPrompt"],JA(i)),e}function XA(t){const e={},n=c(t,["sessionId"]);return n!=null&&d(e,["sessionId"],n),e}function ZA(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function jA(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["data"]);r!=null&&d(e,["data"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function eR(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function tR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],ZA(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],jA(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],eR(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function nR(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tR(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function nS(t){const e={},n=c(t,["text"]);n!=null&&d(e,["text"],n);const r=c(t,["finished"]);return r!=null&&d(e,["finished"],r),e}function rR(t){const e={},n=c(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],nR(n));const r=c(t,["turnComplete"]);r!=null&&d(e,["turnComplete"],r);const i=c(t,["interrupted"]);i!=null&&d(e,["interrupted"],i);const o=c(t,["groundingMetadata"]);o!=null&&d(e,["groundingMetadata"],o);const s=c(t,["generationComplete"]);s!=null&&d(e,["generationComplete"],s);const a=c(t,["inputTranscription"]);a!=null&&d(e,["inputTranscription"],nS(a));const f=c(t,["outputTranscription"]);return f!=null&&d(e,["outputTranscription"],nS(f)),e}function iR(t){const e={},n=c(t,["args"]);n!=null&&d(e,["args"],n);const r=c(t,["name"]);return r!=null&&d(e,["name"],r),e}function oR(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iR(i))),d(e,["functionCalls"],r)}return e}function sR(t){const e={},n=c(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function Gc(t){const e={},n=c(t,["modality"]);n!=null&&d(e,["modality"],n);const r=c(t,["tokenCount"]);return r!=null&&d(e,["tokenCount"],r),e}function lR(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=c(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=c(t,["candidatesTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const o=c(t,["toolUsePromptTokenCount"]);o!=null&&d(e,["toolUsePromptTokenCount"],o);const s=c(t,["thoughtsTokenCount"]);s!=null&&d(e,["thoughtsTokenCount"],s);const a=c(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const f=c(t,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(x=>Gc(x))),d(e,["promptTokensDetails"],_)}const h=c(t,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(x=>Gc(x))),d(e,["cacheTokensDetails"],_)}const p=c(t,["candidatesTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>Gc(x))),d(e,["responseTokensDetails"],_)}const g=c(t,["toolUsePromptTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(x=>Gc(x))),d(e,["toolUsePromptTokensDetails"],_)}const y=c(t,["trafficType"]);return y!=null&&d(e,["trafficType"],y),e}function aR(t){const e={},n=c(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function uR(t){const e={},n=c(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const r=c(t,["resumable"]);r!=null&&d(e,["resumable"],r);const i=c(t,["lastConsumedClientMessageIndex"]);return i!=null&&d(e,["lastConsumedClientMessageIndex"],i),e}function cR(t){const e={},n=c(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],XA(n));const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],rR(r));const i=c(t,["toolCall"]);i!=null&&d(e,["toolCall"],oR(i));const o=c(t,["toolCallCancellation"]);o!=null&&d(e,["toolCallCancellation"],sR(o));const s=c(t,["usageMetadata"]);s!=null&&d(e,["usageMetadata"],lR(s));const a=c(t,["goAway"]);a!=null&&d(e,["goAway"],aR(a));const f=c(t,["sessionResumptionUpdate"]);return f!=null&&d(e,["sessionResumptionUpdate"],uR(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dR(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function fR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function hR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function pR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],dR(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],fR(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],hR(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function hf(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pR(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function mR(t){const e={},n=c(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const r=c(t,["default"]);r!=null&&d(e,["default"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["enum"]);o!=null&&d(e,["enum"],o);const s=c(t,["example"]);s!=null&&d(e,["example"],s);const a=c(t,["format"]);a!=null&&d(e,["format"],a);const f=c(t,["items"]);f!=null&&d(e,["items"],f);const h=c(t,["maxItems"]);h!=null&&d(e,["maxItems"],h);const p=c(t,["maxLength"]);p!=null&&d(e,["maxLength"],p);const g=c(t,["maxProperties"]);g!=null&&d(e,["maxProperties"],g);const y=c(t,["maximum"]);y!=null&&d(e,["maximum"],y);const _=c(t,["minItems"]);_!=null&&d(e,["minItems"],_);const x=c(t,["minLength"]);x!=null&&d(e,["minLength"],x);const T=c(t,["minProperties"]);T!=null&&d(e,["minProperties"],T);const M=c(t,["minimum"]);M!=null&&d(e,["minimum"],M);const w=c(t,["nullable"]);w!=null&&d(e,["nullable"],w);const E=c(t,["pattern"]);E!=null&&d(e,["pattern"],E);const C=c(t,["properties"]);C!=null&&d(e,["properties"],C);const k=c(t,["propertyOrdering"]);k!=null&&d(e,["propertyOrdering"],k);const I=c(t,["required"]);I!=null&&d(e,["required"],I);const N=c(t,["title"]);N!=null&&d(e,["title"],N);const F=c(t,["type"]);return F!=null&&d(e,["type"],F),e}function gR(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&d(e,["category"],n);const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function yR(t){const e={},n=c(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=c(t,["description"]);r!=null&&d(e,["description"],r);const i=c(t,["name"]);i!=null&&d(e,["name"],i);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const a=c(t,["response"]);a!=null&&d(e,["response"],a);const f=c(t,["responseJsonSchema"]);return f!=null&&d(e,["responseJsonSchema"],f),e}function vR(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function CR(t){const e={},n=c(t,["timeRangeFilter"]);if(n!=null&&d(e,["timeRangeFilter"],vR(n)),c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SR(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function _R(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],SR(n)),e}function xR(){return{}}function TR(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function wR(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>yR(h))),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],CR(r));const i=c(t,["googleSearchRetrieval"]);if(i!=null&&d(e,["googleSearchRetrieval"],_R(i)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],xR());const s=c(t,["computerUse"]);s!=null&&d(e,["computerUse"],TR(s));const a=c(t,["codeExecution"]);return a!=null&&d(e,["codeExecution"],a),e}function ER(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function kR(t){const e={},n=c(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=c(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function PR(t){const e={},n=c(t,["latLng"]);n!=null&&d(e,["latLng"],kR(n));const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function MR(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],ER(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],PR(r)),e}function IR(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function X5(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],IR(n)),e}function AR(t){const e={},n=c(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=c(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],X5(r)),e}function RR(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>AR(i))),d(e,["speakerVoiceConfigs"],r)}return e}function NR(t){const e={},n=c(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],X5(n));const r=c(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],RR(r));const i=c(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function DR(t){const e={},n=c(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const r=c(t,["thinkingBudget"]);return r!=null&&d(e,["thinkingBudget"],r),e}function FR(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],hf(en(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const f=c(e,["candidateCount"]);f!=null&&d(r,["candidateCount"],f);const h=c(e,["maxOutputTokens"]);h!=null&&d(r,["maxOutputTokens"],h);const p=c(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const y=c(e,["logprobs"]);y!=null&&d(r,["logprobs"],y);const _=c(e,["presencePenalty"]);_!=null&&d(r,["presencePenalty"],_);const x=c(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const T=c(e,["seed"]);T!=null&&d(r,["seed"],T);const M=c(e,["responseMimeType"]);M!=null&&d(r,["responseMimeType"],M);const w=c(e,["responseSchema"]);w!=null&&d(r,["responseSchema"],mR(Q0(w)));const E=c(e,["responseJsonSchema"]);if(E!=null&&d(r,["responseJsonSchema"],E),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=c(e,["safetySettings"]);if(n!==void 0&&C!=null){let z=C;Array.isArray(z)&&(z=z.map(W=>gR(W))),d(n,["safetySettings"],z)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let z=Pl(k);Array.isArray(z)&&(z=z.map(W=>wR(kl(W)))),d(n,["tools"],z)}const I=c(e,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],MR(I)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=c(e,["cachedContent"]);n!==void 0&&N!=null&&d(n,["cachedContent"],ci(t,N));const F=c(e,["responseModalities"]);F!=null&&d(r,["responseModalities"],F);const R=c(e,["mediaResolution"]);R!=null&&d(r,["mediaResolution"],R);const b=c(e,["speechConfig"]);if(b!=null&&d(r,["speechConfig"],NR(X0(b))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=c(e,["thinkingConfig"]);return L!=null&&d(r,["thinkingConfig"],DR(L)),r}function rS(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>hf(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],FR(t,o,n)),n}function LR(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);i!=null&&d(n,["requests[]","content"],F5(t,i));const o=c(e,["config"]);o!=null&&d(n,["config"],LR(o,n));const s=c(e,["model"]);return s!==void 0&&d(n,["requests[]","model"],Ve(t,s)),n}function UR(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=c(t,["guidanceScale"]);if(e!==void 0&&o!=null&&d(e,["parameters","guidanceScale"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=c(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const f=c(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&d(e,["parameters","includeSafetyAttributes"],f);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const p=c(t,["language"]);e!==void 0&&p!=null&&d(e,["parameters","language"],p);const g=c(t,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const y=c(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const _=c(t,["imageSize"]);if(e!==void 0&&_!=null&&d(e,["parameters","sampleImageSize"],_),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function GR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&d(n,["config"],UR(o,n)),n}function VR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function OR(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=c(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=c(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],U5(t,a)),r}function BR(t,e){const n={},r=c(e,["config"]);return r!=null&&d(n,["config"],OR(t,r,n)),n}function zR(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function HR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],zR(i,n)),n}function WR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function qR(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function $R(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>hf(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["config"],qR(o)),n}function Z5(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],es(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function KR(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);if(e!==void 0&&i!=null&&d(e,["instances[0]","image"],Z5(i)),c(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function YR(t,e){const n={},r=c(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(t,["durationSeconds"]);if(e!==void 0&&i!=null&&d(e,["parameters","durationSeconds"],i),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(t,["aspectRatio"]);if(e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o),c(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=c(t,["personGeneration"]);if(e!==void 0&&s!=null&&d(e,["parameters","personGeneration"],s),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const f=c(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&d(e,["parameters","enhancePrompt"],f),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(c(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(c(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function JR(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);if(o!=null&&d(n,["instances[0]","image"],Z5(o)),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=c(e,["source"]);s!=null&&d(n,["config"],KR(s,n));const a=c(e,["config"]);return a!=null&&d(n,["config"],YR(a,n)),n}function QR(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function XR(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["data"]);r!=null&&d(e,["data"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function ZR(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function jR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],QR(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],XR(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],ZR(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function Il(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jR(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function eN(t){const e={},n=c(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const r=c(t,["default"]);r!=null&&d(e,["default"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["enum"]);o!=null&&d(e,["enum"],o);const s=c(t,["example"]);s!=null&&d(e,["example"],s);const a=c(t,["format"]);a!=null&&d(e,["format"],a);const f=c(t,["items"]);f!=null&&d(e,["items"],f);const h=c(t,["maxItems"]);h!=null&&d(e,["maxItems"],h);const p=c(t,["maxLength"]);p!=null&&d(e,["maxLength"],p);const g=c(t,["maxProperties"]);g!=null&&d(e,["maxProperties"],g);const y=c(t,["maximum"]);y!=null&&d(e,["maximum"],y);const _=c(t,["minItems"]);_!=null&&d(e,["minItems"],_);const x=c(t,["minLength"]);x!=null&&d(e,["minLength"],x);const T=c(t,["minProperties"]);T!=null&&d(e,["minProperties"],T);const M=c(t,["minimum"]);M!=null&&d(e,["minimum"],M);const w=c(t,["nullable"]);w!=null&&d(e,["nullable"],w);const E=c(t,["pattern"]);E!=null&&d(e,["pattern"],E);const C=c(t,["properties"]);C!=null&&d(e,["properties"],C);const k=c(t,["propertyOrdering"]);k!=null&&d(e,["propertyOrdering"],k);const I=c(t,["required"]);I!=null&&d(e,["required"],I);const N=c(t,["title"]);N!=null&&d(e,["title"],N);const F=c(t,["type"]);return F!=null&&d(e,["type"],F),e}function tN(t){const e={},n=c(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function nN(t){const e={},n=c(t,["method"]);n!=null&&d(e,["method"],n);const r=c(t,["category"]);r!=null&&d(e,["category"],r);const i=c(t,["threshold"]);return i!=null&&d(e,["threshold"],i),e}function rN(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function iN(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function oN(t){const e={},n=c(t,["timeRangeFilter"]);n!=null&&d(e,["timeRangeFilter"],iN(n));const r=c(t,["excludeDomains"]);return r!=null&&d(e,["excludeDomains"],r),e}function sN(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function lN(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],sN(n)),e}function aN(t){const e={},n=c(t,["excludeDomains"]);return n!=null&&d(e,["excludeDomains"],n),e}function uN(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function cN(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],uN(n));const r=c(t,["authType"]);r!=null&&d(e,["authType"],r);const i=c(t,["googleServiceAccountConfig"]);i!=null&&d(e,["googleServiceAccountConfig"],i);const o=c(t,["httpBasicAuthConfig"]);o!=null&&d(e,["httpBasicAuthConfig"],o);const s=c(t,["oauthConfig"]);s!=null&&d(e,["oauthConfig"],s);const a=c(t,["oidcConfig"]);return a!=null&&d(e,["oidcConfig"],a),e}function dN(t){const e={},n=c(t,["authConfig"]);return n!=null&&d(e,["authConfig"],cN(n)),e}function fN(){return{}}function hN(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function j5(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>rN(y))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearch"]);i!=null&&d(e,["googleSearch"],oN(i));const o=c(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],lN(o));const s=c(t,["enterpriseWebSearch"]);s!=null&&d(e,["enterpriseWebSearch"],aN(s));const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],dN(a)),c(t,["urlContext"])!=null&&d(e,["urlContext"],fN());const h=c(t,["computerUse"]);h!=null&&d(e,["computerUse"],hN(h));const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function pN(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function mN(t){const e={},n=c(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=c(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function gN(t){const e={},n=c(t,["latLng"]);n!=null&&d(e,["latLng"],mN(n));const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function yN(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],pN(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],gN(r)),e}function vN(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function CN(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],vN(n)),e}function SN(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],CN(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=c(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function _N(t){const e={},n=c(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const r=c(t,["thinkingBudget"]);return r!=null&&d(e,["thinkingBudget"],r),e}function xN(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Il(en(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const f=c(e,["candidateCount"]);f!=null&&d(r,["candidateCount"],f);const h=c(e,["maxOutputTokens"]);h!=null&&d(r,["maxOutputTokens"],h);const p=c(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const y=c(e,["logprobs"]);y!=null&&d(r,["logprobs"],y);const _=c(e,["presencePenalty"]);_!=null&&d(r,["presencePenalty"],_);const x=c(e,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const T=c(e,["seed"]);T!=null&&d(r,["seed"],T);const M=c(e,["responseMimeType"]);M!=null&&d(r,["responseMimeType"],M);const w=c(e,["responseSchema"]);w!=null&&d(r,["responseSchema"],eN(Q0(w)));const E=c(e,["responseJsonSchema"]);E!=null&&d(r,["responseJsonSchema"],E);const C=c(e,["routingConfig"]);C!=null&&d(r,["routingConfig"],C);const k=c(e,["modelSelectionConfig"]);k!=null&&d(r,["modelConfig"],tN(k));const I=c(e,["safetySettings"]);if(n!==void 0&&I!=null){let J=I;Array.isArray(J)&&(J=J.map(fe=>nN(fe))),d(n,["safetySettings"],J)}const N=c(e,["tools"]);if(n!==void 0&&N!=null){let J=Pl(N);Array.isArray(J)&&(J=J.map(fe=>j5(kl(fe)))),d(n,["tools"],J)}const F=c(e,["toolConfig"]);n!==void 0&&F!=null&&d(n,["toolConfig"],yN(F));const R=c(e,["labels"]);n!==void 0&&R!=null&&d(n,["labels"],R);const b=c(e,["cachedContent"]);n!==void 0&&b!=null&&d(n,["cachedContent"],ci(t,b));const L=c(e,["responseModalities"]);L!=null&&d(r,["responseModalities"],L);const z=c(e,["mediaResolution"]);z!=null&&d(r,["mediaResolution"],z);const W=c(e,["speechConfig"]);W!=null&&d(r,["speechConfig"],SN(X0(W)));const X=c(e,["audioTimestamp"]);X!=null&&d(r,["audioTimestamp"],X);const Q=c(e,["thinkingConfig"]);return Q!=null&&d(r,["thinkingConfig"],_N(Q)),r}function iS(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>Il(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],xN(t,o,n)),n}function TN(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["instances[]","title"],i);const o=c(t,["outputDimensionality"]);e!==void 0&&o!=null&&d(e,["parameters","outputDimensionality"],o);const s=c(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["instances[]","mimeType"],s);const a=c(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function wN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);i!=null&&d(n,["instances[]","content"],F5(t,i));const o=c(e,["config"]);return o!=null&&d(n,["config"],TN(o,n)),n}function EN(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const f=c(t,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const h=c(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const p=c(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=c(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const y=c(t,["includeRaiReason"]);e!==void 0&&y!=null&&d(e,["parameters","includeRaiReason"],y);const _=c(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const x=c(t,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const T=c(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const M=c(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const w=c(t,["imageSize"]);e!==void 0&&w!=null&&d(e,["parameters","sampleImageSize"],w);const E=c(t,["enhancePrompt"]);return e!==void 0&&E!=null&&d(e,["parameters","enhancePrompt"],E),n}function kN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&d(n,["config"],EN(o,n)),n}function Fr(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],es(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function PN(t){const e={},n=c(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=c(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const i=c(t,["maskDilation"]);return i!=null&&d(e,["dilation"],i),e}function MN(t){const e={},n=c(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=c(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function IN(t){const e={},n=c(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function AN(t){const e={},n=c(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const r=c(t,["subjectDescription"]);return r!=null&&d(e,["subjectDescription"],r),e}function RN(t){const e={},n=c(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Fr(n));const r=c(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const i=c(t,["referenceType"]);i!=null&&d(e,["referenceType"],i);const o=c(t,["maskImageConfig"]);o!=null&&d(e,["maskImageConfig"],PN(o));const s=c(t,["controlImageConfig"]);s!=null&&d(e,["controlImageConfig"],MN(s));const a=c(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],IN(a));const f=c(t,["subjectImageConfig"]);return f!=null&&d(e,["subjectImageConfig"],AN(f)),e}function NN(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const f=c(t,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const h=c(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const p=c(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=c(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const y=c(t,["includeRaiReason"]);e!==void 0&&y!=null&&d(e,["parameters","includeRaiReason"],y);const _=c(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const x=c(t,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const T=c(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const M=c(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const w=c(t,["editMode"]);e!==void 0&&w!=null&&d(e,["parameters","editMode"],w);const E=c(t,["baseSteps"]);return e!==void 0&&E!=null&&d(e,["parameters","editConfig","baseSteps"],E),n}function DN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>RN(f))),d(n,["instances[0]","referenceImages"],a)}const s=c(e,["config"]);return s!=null&&d(n,["config"],NN(s,n)),n}function FN(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["includeRaiReason"]);e!==void 0&&i!=null&&d(e,["parameters","includeRaiReason"],i);const o=c(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const s=c(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&d(e,["parameters","outputOptions","compressionQuality"],s);const a=c(t,["enhanceInputImage"]);e!==void 0&&a!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],a);const f=c(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=c(t,["numberOfImages"]);e!==void 0&&h!=null&&d(e,["parameters","sampleCount"],h);const p=c(t,["mode"]);return e!==void 0&&p!=null&&d(e,["parameters","mode"],p),n}function LN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["image"]);i!=null&&d(n,["instances[0]","image"],Fr(i));const o=c(e,["upscaleFactor"]);o!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=c(e,["config"]);return s!=null&&d(n,["config"],FN(s,n)),n}function bN(t){const e={},n=c(t,["productImage"]);return n!=null&&d(e,["image"],Fr(n)),e}function UN(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["personImage"]);e!==void 0&&i!=null&&d(e,["instances[0]","personImage","image"],Fr(i));const o=c(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>bN(a))),d(e,["instances[0]","productImages"],s)}return n}function GN(t,e){const n={},r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["baseSteps"]);e!==void 0&&i!=null&&d(e,["parameters","editConfig","baseSteps"],i);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const s=c(t,["seed"]);e!==void 0&&s!=null&&d(e,["parameters","seed"],s);const a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const f=c(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const h=c(t,["addWatermark"]);e!==void 0&&h!=null&&d(e,["parameters","addWatermark"],h);const p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const g=c(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const y=c(t,["enhancePrompt"]);return e!==void 0&&y!=null&&d(e,["parameters","enhancePrompt"],y),n}function VN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["source"]);i!=null&&d(n,["config"],UN(i,n));const o=c(e,["config"]);return o!=null&&d(n,["config"],GN(o,n)),n}function ON(t){const e={},n=c(t,["image"]);return n!=null&&d(e,["image"],Fr(n)),e}function BN(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Fr(i));const o=c(t,["scribbleImage"]);return e!==void 0&&o!=null&&d(e,["instances[0]","scribble"],ON(o)),n}function zN(t,e){const n={},r=c(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const i=c(t,["maxPredictions"]);e!==void 0&&i!=null&&d(e,["parameters","maxPredictions"],i);const o=c(t,["confidenceThreshold"]);e!==void 0&&o!=null&&d(e,["parameters","confidenceThreshold"],o);const s=c(t,["maskDilation"]);e!==void 0&&s!=null&&d(e,["parameters","maskDilation"],s);const a=c(t,["binaryColorThreshold"]);return e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a),n}function HN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["source"]);i!=null&&d(n,["config"],BN(i,n));const o=c(e,["config"]);return o!=null&&d(n,["config"],zN(o,n)),n}function WN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function qN(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=c(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=c(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],U5(t,a)),r}function $N(t,e){const n={},r=c(e,["config"]);return r!=null&&d(n,["config"],qN(t,r,n)),n}function KN(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function YN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],KN(i,n)),n}function JN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],i),n}function QN(t,e){const n={},r=c(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],Il(en(r)));const i=c(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>j5(a))),d(e,["tools"],s)}const o=c(t,["generationConfig"]);return e!==void 0&&o!=null&&d(e,["generationConfig"],o),n}function XN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>Il(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["config"],QN(o,n)),n}function ZN(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["contents"]);if(i!=null){let s=$n(i);Array.isArray(s)&&(s=s.map(a=>Il(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["config"],o),n}function ex(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],es(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function jN(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Fr(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],ex(o)),n}function eD(t){const e={},n=c(t,["image"]);n!=null&&d(e,["image"],Fr(n));const r=c(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function tD(t,e){const n={},r=c(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=c(t,["fps"]);e!==void 0&&o!=null&&d(e,["parameters","fps"],o);const s=c(t,["durationSeconds"]);e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const f=c(t,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const h=c(t,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const p=c(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=c(t,["pubsubTopic"]);e!==void 0&&g!=null&&d(e,["parameters","pubsubTopic"],g);const y=c(t,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const _=c(t,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const x=c(t,["generateAudio"]);e!==void 0&&x!=null&&d(e,["parameters","generateAudio"],x);const T=c(t,["lastFrame"]);e!==void 0&&T!=null&&d(e,["instances[0]","lastFrame"],Fr(T));const M=c(t,["referenceImages"]);if(e!==void 0&&M!=null){let E=M;Array.isArray(E)&&(E=E.map(C=>eD(C))),d(e,["instances[0]","referenceImages"],E)}const w=c(t,["compressionQuality"]);return e!==void 0&&w!=null&&d(e,["parameters","compressionQuality"],w),n}function nD(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ve(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&d(n,["instances[0]","image"],Fr(o));const s=c(e,["video"]);s!=null&&d(n,["instances[0]","video"],ex(s));const a=c(e,["source"]);a!=null&&d(n,["config"],jN(a,n));const f=c(e,["config"]);return f!=null&&d(n,["config"],tD(f,n)),n}function rD(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function iD(t){const e={},n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function oD(t){const e={},n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],rD(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],iD(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],oD(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function lD(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sD(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function aD(t){const e={},n=c(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function uD(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=c(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function cD(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uD(i))),d(e,["urlMetadata"],r)}return e}function dD(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],lD(n));const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],aD(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=c(t,["urlContextMetadata"]);s!=null&&d(e,["urlContextMetadata"],cD(s));const a=c(t,["avgLogprobs"]);a!=null&&d(e,["avgLogprobs"],a);const f=c(t,["groundingMetadata"]);f!=null&&d(e,["groundingMetadata"],f);const h=c(t,["index"]);h!=null&&d(e,["index"],h);const p=c(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const g=c(t,["safetyRatings"]);return g!=null&&d(e,["safetyRatings"],g),e}function oS(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>dD(h))),d(e,["candidates"],f)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=c(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function fD(t){const e={},n=c(t,["values"]);return n!=null&&d(e,["values"],n),e}function hD(){return{}}function pD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>fD(s))),d(e,["embeddings"],o)}return c(t,["metadata"])!=null&&d(e,["metadata"],hD()),e}function mD(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],es(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function tx(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function gD(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],mD(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);return i!=null&&d(e,["safetyAttributes"],tx(i)),e}function yD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gD(s))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],tx(i)),e}function vD(t){const e={},n=c(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function Pg(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["version"]);o!=null&&d(e,["version"],o);const s=c(t,["_self"]);s!=null&&d(e,["tunedModelInfo"],vD(s));const a=c(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const f=c(t,["outputTokenLimit"]);f!=null&&d(e,["outputTokenLimit"],f);const h=c(t,["supportedGenerationMethods"]);return h!=null&&d(e,["supportedActions"],h),e}function CD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=G5(i);Array.isArray(o)&&(o=o.map(s=>Pg(s))),d(e,["models"],o)}return e}function SD(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function _D(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const i=c(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function xD(t){const e={},n=c(t,["video","uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["video","encodedVideo"]);r!=null&&d(e,["videoBytes"],es(r));const i=c(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function TD(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],xD(n)),e}function wD(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>TD(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function ED(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],wD(s)),e}function kD(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function PD(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["data"]);r!=null&&d(e,["data"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function MD(t){const e={},n=c(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=c(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function ID(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],kD(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],PD(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],MD(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function AD(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ID(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function RD(t){const e={},n=c(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function ND(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=c(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function DD(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ND(i))),d(e,["urlMetadata"],r)}return e}function FD(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],AD(n));const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],RD(r));const i=c(t,["finishMessage"]);i!=null&&d(e,["finishMessage"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=c(t,["urlContextMetadata"]);s!=null&&d(e,["urlContextMetadata"],DD(s));const a=c(t,["avgLogprobs"]);a!=null&&d(e,["avgLogprobs"],a);const f=c(t,["groundingMetadata"]);f!=null&&d(e,["groundingMetadata"],f);const h=c(t,["index"]);h!=null&&d(e,["index"],h);const p=c(t,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const g=c(t,["safetyRatings"]);return g!=null&&d(e,["safetyRatings"],g),e}function sS(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>FD(p))),d(e,["candidates"],h)}const i=c(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=c(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const s=c(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const a=c(t,["responseId"]);a!=null&&d(e,["responseId"],a);const f=c(t,["usageMetadata"]);return f!=null&&d(e,["usageMetadata"],f),e}function LD(t){const e={},n=c(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=c(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function bD(t){const e={},n=c(t,["values"]);n!=null&&d(e,["values"],n);const r=c(t,["statistics"]);return r!=null&&d(e,["statistics"],LD(r)),e}function UD(t){const e={},n=c(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function GD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>bD(s))),d(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&d(e,["metadata"],UD(i)),e}function nx(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],es(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function rx(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function pf(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],nx(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);i!=null&&d(e,["safetyAttributes"],rx(i));const o=c(t,["prompt"]);return o!=null&&d(e,["enhancedPrompt"],o),e}function VD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>pf(s))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],rx(i)),e}function OD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pf(o))),d(e,["generatedImages"],i)}return e}function BD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pf(o))),d(e,["generatedImages"],i)}return e}function zD(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pf(i))),d(e,["generatedImages"],r)}return e}function HD(t){const e={},n=c(t,["label"]);n!=null&&d(e,["label"],n);const r=c(t,["score"]);return r!=null&&d(e,["score"],r),e}function WD(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["mask"],nx(n));const r=c(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>HD(o))),d(e,["labels"],i)}return e}function qD(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WD(i))),d(e,["generatedMasks"],r)}return e}function $D(t){const e={},n=c(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=c(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function KD(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function YD(t){const e={},n=c(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const r=c(t,["epoch"]);r!=null&&d(e,["epoch"],r);const i=c(t,["step"]);return i!=null&&d(e,["step"],i),e}function Mg(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["versionId"]);o!=null&&d(e,["version"],o);const s=c(t,["deployedModels"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>$D(y))),d(e,["endpoints"],g)}const a=c(t,["labels"]);a!=null&&d(e,["labels"],a);const f=c(t,["_self"]);f!=null&&d(e,["tunedModelInfo"],KD(f));const h=c(t,["defaultCheckpointId"]);h!=null&&d(e,["defaultCheckpointId"],h);const p=c(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>YD(y))),d(e,["checkpoints"],g)}return e}function JD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=G5(i);Array.isArray(o)&&(o=o.map(s=>Mg(s))),d(e,["models"],o)}return e}function QD(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function XD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function ZD(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["tokensInfo"]);return r!=null&&d(e,["tokensInfo"],r),e}function jD(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],es(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function eF(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],jD(n)),e}function tF(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>eF(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function nF(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],tF(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rF="Content-Type",iF="X-Server-Timeout",oF="User-Agent",Ig="x-goog-api-client",sF="1.16.0",lF=`google-genai-sdk/${sF}`,aF="v1beta1",uF="v1beta",lS=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cF{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aF,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:uF,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&dF(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aS(i),new xg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aS(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return el(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:f}=yield tt(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=o.decode(f,{stream:!0});try{const g=JSON.parse(h);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),_=y.status,x=y.code,T=`got status: ${_}. ${JSON.stringify(g)}`;if(x>=400&&x<600)throw new ff({message:T,status:x})}}catch(g){if(g.name==="ApiError")throw g}s+=h;let p=s.match(lS);for(;p;){const g=p[1];try{const y=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield tt(new xg(y)),s=s.slice(p[0].length),p=s.match(lS)}catch(y){throw new Error(`exception parsing stream chunk ${g}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=lF+" "+this.clientOptions.userAgentExtra;return e[oF]=n,e[Ig]=n,e[rF]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(iF,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const f=await this.fetchUploadUrl(i,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:de("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function aS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ff({message:i,status:n}):new Error(i)}}function dF(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const f in s)if(Object.prototype.hasOwnProperty.call(s,f)){const h=s[f],p=a[f];h&&typeof h=="object"&&!Array.isArray(h)&&p&&typeof p=="object"&&!Array.isArray(p)?a[f]=r(p,h):(p&&h&&typeof p!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof h}. Overwriting.`),a[f]=h)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fF="mcp_used/unknown";let hF=!1;function ix(t){for(const e of t)if(pF(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hF}function ox(t){var e;const n=(e=t[Ig])!==null&&e!==void 0?e:"";t[Ig]=(n+` ${fF}`).trimStart()}function pF(t){return t!==null&&typeof t=="object"&&t instanceof j0}function mF(t,e=100){return el(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield tt(t.listTools({cursor:r}));for(const s of o.tools)yield yield tt(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class j0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new j0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const p of this.mcpClients)try{for(var a=!0,f=(n=void 0,Na(mF(p))),h;h=await f.next(),e=h.done,!e;a=!0){i=h.value,a=!1;const g=i;s.push(g);const y=g.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=p}}catch(g){n={error:g}}finally{try{!a&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),$k(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gF(t,e,n){const r=new Gk;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=QA(i);Object.assign(r,o),e(r)}class yF{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=SF(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let h=()=>{};const p=new Promise(C=>{h=C}),g=e.callbacks,y=function(){h({})},_=this.apiClient,x={onopen:y,onmessage:C=>{gF(_,g.onmessage,C)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(C){}},T=this.webSocketFactory.create(f,CF(s),x);T.connect(),await p;const M=Ve(this.apiClient,e.model),w=J5({model:M}),E=kg({setup:w});return T.send(JSON.stringify(E)),new vF(T,this.apiClient)}}class vF{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=KI(e),r=Q5(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=YI(e),r=kg(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=kg({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qs.PLAY)}pause(){this.sendPlaybackControl(qs.PAUSE)}stop(){this.sendPlaybackControl(qs.STOP)}resetContext(){this.sendPlaybackControl(qs.RESET_CONTEXT)}close(){this.conn.close()}}function CF(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function SF(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _F="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xF(t,e,n){const r=new Uk;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=cR(o);Object.assign(r,s)}else{const s=BA(o);Object.assign(r,s)}e(r)}class TF{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yF(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&ix(e.config.tools)&&ox(g);const y=PF(g);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const b=this.apiClient.getApiKey();let L="BidiGenerateContent",z="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",z="access_token"),p=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${L}?${z}=${b}`}let _=()=>{};const x=new Promise(b=>{_=b}),T=e.callbacks,M=function(){var b;(b=T==null?void 0:T.onopen)===null||b===void 0||b.call(T),_({})},w=this.apiClient,E={onopen:M,onmessage:b=>{xF(w,T.onmessage,b)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(b){}},C=this.webSocketFactory.create(p,kF(y),E);C.connect(),await x;let k=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const b=this.apiClient.getProject(),L=this.apiClient.getLocation();k=`projects/${b}/locations/${L}/`+k}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bd.AUDIO]}:e.config.responseModalities=[bd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],F=[];for(const b of N)if(this.isCallableTool(b)){const L=b;F.push(await L.tool())}else F.push(b);F.length>0&&(e.config.tools=F);const R={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=xA(this.apiClient,R):I=HI(this.apiClient,R),delete I.config,C.send(JSON.stringify(I)),new EF(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wF={turnComplete:!0};class EF{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=$n(n.turns),e.isVertexAI()?r=r.map(i=>Il(i)):r=r.map(i=>hf(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(_F)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},wF),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:EA(e)}:n={realtimeInput:$I(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kF(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function PF(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uS=10;function cS(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(tl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function tl(t){return"callTool"in t&&typeof t.callTool=="function"}function MF(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>tl(i)))!==null&&r!==void 0?r:!1}function IF(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!tl(i)))!==null&&r!==void 0?r:!1}function dS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AF extends jo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!MF(n)||cS(n.config))return await this.generateContentInternal(f);if(IF(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,p;const g=$n(f.contents),y=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:uS;let _=0;for(;_<y&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const x=h.candidates[0].content,T=[];for(const M of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(tl(M)){const E=await M.callTool(h.functionCalls);T.push(...E)}_++,p={role:"user",parts:T},f.contents=$n(f.contents),f.contents.push(x),f.contents.push(p),dS(f.config)&&(g.push(x),g.push(p))}return dS(f.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),cS(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:s.push(f);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new fu(Jo.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async f=>tl(f)?await f.tool():f)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&ix(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ox(h),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(tl(s)){const a=s,f=await a.tool();for(const h of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!h.name)throw new Error("Function declaration name is required.");if(o.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);o.set(h.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:uS;let s=!1,a=0;const f=await this.initAfcToolsMap(e);return function(h,p,g){var y,_;return el(this,arguments,function*(){for(var x,T,M,w;a<o;){s&&(a++,s=!1);const I=yield tt(h.processParamsMaybeAddMcpUsage(g)),N=yield tt(h.generateContentStreamInternal(I)),F=[],R=[];try{for(var E=!0,C=(T=void 0,Na(N)),k;k=yield tt(C.next()),x=k.done,!x;E=!0){w=k.value,E=!1;const b=w;if(yield yield tt(b),b.candidates&&(!((y=b.candidates[0])===null||y===void 0)&&y.content)){R.push(b.candidates[0].content);for(const L of(_=b.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(L.functionCall.name)){const z=yield tt(p.get(L.functionCall.name).callTool([L.functionCall]));F.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(b){T={error:b}}finally{try{!E&&!x&&(M=C.return)&&(yield tt(M.call(C)))}finally{if(T)throw T.error}}if(F.length>0){s=!0;const b=new ha;b.candidates=[{content:{role:"user",parts:F}}],yield yield tt(b);const L=[];L.push(...R),L.push({role:"user",parts:F});const z=$n(g.contents).concat(L);g.contents=z}else break}})}(this,f,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=iS(this.apiClient,e);return a=de("{model}:generateContent",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=sS(p),y=new ha;return Object.assign(y,g),y})}else{const h=rS(this.apiClient,e);return a=de("{model}:generateContent",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=oS(p),y=new ha;return Object.assign(y,g),y})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=iS(this.apiClient,e);return a=de("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(g){return el(this,arguments,function*(){var y,_,x,T;try{for(var M=!0,w=Na(g),E;E=yield tt(w.next()),y=E.done,!y;M=!0){T=E.value,M=!1;const C=T,k=sS(yield tt(C.json()));k.sdkHttpResponse={headers:C.headers};const I=new ha;Object.assign(I,k),yield yield tt(I)}}catch(C){_={error:C}}finally{try{!M&&!y&&(x=w.return)&&(yield tt(x.call(w)))}finally{if(_)throw _.error}}})})}else{const h=rS(this.apiClient,e);return a=de("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(g){return el(this,arguments,function*(){var y,_,x,T;try{for(var M=!0,w=Na(g),E;E=yield tt(w.next()),y=E.done,!y;M=!0){T=E.value,M=!1;const C=T,k=oS(yield tt(C.json()));k.sdkHttpResponse={headers:C.headers};const I=new ha;Object.assign(I,k),yield yield tt(I)}}catch(C){_={error:C}}finally{try{!M&&!y&&(x=w.return)&&(yield tt(x.call(w)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=wN(this.apiClient,e);return a=de("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=GD(p),y=new LC;return Object.assign(y,g),y})}else{const h=bR(this.apiClient,e);return a=de("{model}:batchEmbedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=pD(p),y=new LC;return Object.assign(y,g),y})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=kN(this.apiClient,e);return a=de("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=VD(p),y=new bC;return Object.assign(y,g),y})}else{const h=GR(this.apiClient,e);return a=de("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=yD(p),y=new bC;return Object.assign(y,g),y})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=DN(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=OD(f),p=new Ik;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=LN(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=BD(f),p=new Ak;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=VN(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=zD(f),p=new Rk;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=HN(this.apiClient,e);return o=de("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=qD(f),p=new Nk;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=WN(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Mg(p))}else{const h=VR(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Pg(p))}}async listInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=$N(this.apiClient,e);return a=de("{models_url}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=JD(p),y=new UC;return Object.assign(y,g),y})}else{const h=BR(this.apiClient,e);return a=de("{models_url}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=CD(p),y=new UC;return Object.assign(y,g),y})}}async update(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=YN(this.apiClient,e);return a=de("{model}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Mg(p))}else{const h=HR(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>Pg(p))}}async delete(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=JN(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=QD(p),y=new GC;return Object.assign(y,g),y})}else{const h=WR(this.apiClient,e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=SD(p),y=new GC;return Object.assign(y,g),y})}}async countTokens(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=XN(this.apiClient,e);return a=de("{model}:countTokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=XD(p),y=new VC;return Object.assign(y,g),y})}else{const h=$R(this.apiClient,e);return a=de("{model}:countTokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=_D(p),y=new VC;return Object.assign(y,g),y})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=ZN(this.apiClient,e);return o=de("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const h=ZD(f),p=new Dk;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=nD(this.apiClient,e);return a=de("{model}:predictLongRunning",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>{const g=nF(p),y=new Ud;return Object.assign(y,g),y})}else{const h=JR(this.apiClient,e);return a=de("{model}:predictLongRunning",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>{const g=ED(p),y=new Ud;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RF(t){const e={},n=c(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function NF(t){const e={},n=c(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=c(t,["resourceName"]);r!=null&&d(e,["_url","resourceName"],r);const i=c(t,["config"]);return i!=null&&d(e,["config"],i),e}function DF(t){const e={},n=c(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FF extends jo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=DF(e);return a=de("{operationName}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s}else{const h=RF(e);return a=de("{operationName}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=NF(e);return o=de("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LF(t){const e={},n=c(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function sx(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],LF(n)),e}function bF(t){const e={},n=c(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=c(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],sx(r)),e}function UF(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bF(i))),d(e,["speakerVoiceConfigs"],r)}return e}function GF(t){const e={},n=c(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],sx(n));const r=c(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],UF(r));const i=c(t,["languageCode"]);return i!=null&&d(e,["languageCode"],i),e}function VF(t){const e={},n=c(t,["fps"]);n!=null&&d(e,["fps"],n);const r=c(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const i=c(t,["startOffset"]);return i!=null&&d(e,["startOffset"],i),e}function OF(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&d(e,["data"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function BF(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function zF(t){const e={},n=c(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],VF(n));const r=c(t,["thought"]);r!=null&&d(e,["thought"],r);const i=c(t,["inlineData"]);i!=null&&d(e,["inlineData"],OF(i));const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],BF(o));const s=c(t,["thoughtSignature"]);s!=null&&d(e,["thoughtSignature"],s);const a=c(t,["codeExecutionResult"]);a!=null&&d(e,["codeExecutionResult"],a);const f=c(t,["executableCode"]);f!=null&&d(e,["executableCode"],f);const h=c(t,["functionCall"]);h!=null&&d(e,["functionCall"],h);const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["text"]);return g!=null&&d(e,["text"],g),e}function HF(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zF(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function WF(t){const e={},n=c(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=c(t,["description"]);r!=null&&d(e,["description"],r);const i=c(t,["name"]);i!=null&&d(e,["name"],i);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const a=c(t,["response"]);a!=null&&d(e,["response"],a);const f=c(t,["responseJsonSchema"]);return f!=null&&d(e,["responseJsonSchema"],f),e}function qF(t){const e={},n=c(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=c(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function $F(t){const e={},n=c(t,["timeRangeFilter"]);if(n!=null&&d(e,["timeRangeFilter"],qF(n)),c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function KF(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function YF(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],KF(n)),e}function JF(){return{}}function QF(t){const e={},n=c(t,["environment"]);return n!=null&&d(e,["environment"],n),e}function XF(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>WF(h))),d(e,["functionDeclarations"],f)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],$F(r));const i=c(t,["googleSearchRetrieval"]);if(i!=null&&d(e,["googleSearchRetrieval"],YF(i)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],JF());const s=c(t,["computerUse"]);s!=null&&d(e,["computerUse"],QF(s));const a=c(t,["codeExecution"]);return a!=null&&d(e,["codeExecution"],a),e}function ZF(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fS(){return{}}function jF(t){const e={},n=c(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=c(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const i=c(t,["endOfSpeechSensitivity"]);i!=null&&d(e,["endOfSpeechSensitivity"],i);const o=c(t,["prefixPaddingMs"]);o!=null&&d(e,["prefixPaddingMs"],o);const s=c(t,["silenceDurationMs"]);return s!=null&&d(e,["silenceDurationMs"],s),e}function eL(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],jF(n));const r=c(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const i=c(t,["turnCoverage"]);return i!=null&&d(e,["turnCoverage"],i),e}function tL(t){const e={},n=c(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function nL(t){const e={},n=c(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=c(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],tL(r)),e}function rL(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function iL(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const f=c(t,["maxOutputTokens"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","maxOutputTokens"],f);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],GF(Z0(g)));const y=c(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],y);const _=c(t,["systemInstruction"]);e!==void 0&&_!=null&&d(e,["setup","systemInstruction"],HF(en(_)));const x=c(t,["tools"]);if(e!==void 0&&x!=null){let I=Pl(x);Array.isArray(I)&&(I=I.map(N=>XF(kl(N)))),d(e,["setup","tools"],I)}const T=c(t,["sessionResumption"]);e!==void 0&&T!=null&&d(e,["setup","sessionResumption"],ZF(T));const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],fS());const w=c(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&d(e,["setup","outputAudioTranscription"],fS());const E=c(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&d(e,["setup","realtimeInputConfig"],eL(E));const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&d(e,["setup","contextWindowCompression"],nL(C));const k=c(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],rL(k)),n}function oL(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ve(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],iL(i,n)),n}function sL(t,e,n){const r={},i=c(e,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const o=c(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&d(n,["newSessionExpireTime"],o);const s=c(e,["uses"]);n!==void 0&&s!=null&&d(n,["uses"],s);const a=c(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],oL(t,a));const f=c(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&d(n,["fieldMask"],f),r}function lL(t,e){const n={},r=c(e,["config"]);return r!=null&&d(n,["config"],sL(t,r,n)),n}function aL(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function cL(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=uL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(h=>s.includes(h)?`generationConfig.${h}`:h));const f=[];o&&f.push(o),a.length>0&&f.push(...a),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class dL extends jo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=lL(this.apiClient,e);o=de("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const f=cL(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>aL(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fL(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function hL(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function pL(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],hL(n,e)),e}function mL(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function gL(t){const e={},n=c(t,["textInput"]);n!=null&&d(e,["textInput"],n);const r=c(t,["output"]);return r!=null&&d(e,["output"],r),e}function yL(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=c(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gL(i))),d(e,["examples","examples"],r)}return e}function vL(t,e){const n={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=c(t,["epochCount"]);e!==void 0&&i!=null&&d(e,["tuningTask","hyperparameters","epochCount"],i);const o=c(t,["learningRateMultiplier"]);if(o!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=c(t,["batchSize"]);e!==void 0&&s!=null&&d(e,["tuningTask","hyperparameters","batchSize"],s);const a=c(t,["learningRate"]);return e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","learningRate"],a),n}function CL(t){const e={},n=c(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["preTunedModel"]);r!=null&&d(e,["preTunedModel"],r);const i=c(t,["trainingDataset"]);i!=null&&d(e,["tuningTask","trainingData"],yL(i));const o=c(t,["config"]);return o!=null&&d(e,["config"],vL(o,e)),e}function SL(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function _L(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function xL(t){const e={},n=c(t,["config"]);return n!=null&&d(e,["config"],_L(n,e)),e}function TL(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&d(e,["config"],r),e}function wL(t,e){const n={},r=c(t,["gcsUri"]);e!==void 0&&r!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=c(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function EL(t,e){const n={},r=c(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=c(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function kL(t,e){const n={},r=c(t,["validationDataset"]);e!==void 0&&r!=null&&d(e,["supervisedTuningSpec"],EL(r,n));const i=c(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&d(e,["tunedModelDisplayName"],i);const o=c(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const s=c(t,["epochCount"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=c(t,["learningRateMultiplier"]);e!==void 0&&a!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const f=c(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=c(t,["preTunedModelCheckpointId"]);h!=null&&d(n,["preTunedModel","checkpointId"],h);const p=c(t,["adapterSize"]);if(e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function PL(t){const e={},n=c(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["preTunedModel"]);r!=null&&d(e,["preTunedModel"],r);const i=c(t,["trainingDataset"]);i!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],wL(i,e));const o=c(t,["config"]);return o!=null&&d(e,["config"],kL(o,e)),e}function ML(t){const e={},n=c(t,["name"]);n!=null&&d(e,["model"],n);const r=c(t,["name"]);return r!=null&&d(e,["endpoint"],r),e}function lx(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["state"]);i!=null&&d(e,["state"],L5(i));const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["tuningTask","startTime"]);s!=null&&d(e,["startTime"],s);const a=c(t,["tuningTask","completeTime"]);a!=null&&d(e,["endTime"],a);const f=c(t,["updateTime"]);f!=null&&d(e,["updateTime"],f);const h=c(t,["description"]);h!=null&&d(e,["description"],h);const p=c(t,["baseModel"]);p!=null&&d(e,["baseModel"],p);const g=c(t,["_self"]);g!=null&&d(e,["tunedModel"],ML(g));const y=c(t,["customBaseModel"]);y!=null&&d(e,["customBaseModel"],y);const _=c(t,["experiment"]);_!=null&&d(e,["experiment"],_);const x=c(t,["labels"]);x!=null&&d(e,["labels"],x);const T=c(t,["outputUri"]);T!=null&&d(e,["outputUri"],T);const M=c(t,["pipelineJob"]);M!=null&&d(e,["pipelineJob"],M);const w=c(t,["serviceAccount"]);w!=null&&d(e,["serviceAccount"],w);const E=c(t,["tunedModelDisplayName"]);return E!=null&&d(e,["tunedModelDisplayName"],E),e}function IL(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lx(s))),d(e,["tuningJobs"],o)}return e}function AL(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["metadata"]);i!=null&&d(e,["metadata"],i);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const s=c(t,["error"]);return s!=null&&d(e,["error"],s),e}function RL(t){const e={},n=c(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const r=c(t,["epoch"]);r!=null&&d(e,["epoch"],r);const i=c(t,["step"]);i!=null&&d(e,["step"],i);const o=c(t,["endpoint"]);return o!=null&&d(e,["endpoint"],o),e}function NL(t){const e={},n=c(t,["model"]);n!=null&&d(e,["model"],n);const r=c(t,["endpoint"]);r!=null&&d(e,["endpoint"],r);const i=c(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>RL(s))),d(e,["checkpoints"],o)}return e}function Ag(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["state"]);i!=null&&d(e,["state"],L5(i));const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["startTime"]);s!=null&&d(e,["startTime"],s);const a=c(t,["endTime"]);a!=null&&d(e,["endTime"],a);const f=c(t,["updateTime"]);f!=null&&d(e,["updateTime"],f);const h=c(t,["error"]);h!=null&&d(e,["error"],h);const p=c(t,["description"]);p!=null&&d(e,["description"],p);const g=c(t,["baseModel"]);g!=null&&d(e,["baseModel"],g);const y=c(t,["tunedModel"]);y!=null&&d(e,["tunedModel"],NL(y));const _=c(t,["preTunedModel"]);_!=null&&d(e,["preTunedModel"],_);const x=c(t,["supervisedTuningSpec"]);x!=null&&d(e,["supervisedTuningSpec"],x);const T=c(t,["tuningDataStats"]);T!=null&&d(e,["tuningDataStats"],T);const M=c(t,["encryptionSpec"]);M!=null&&d(e,["encryptionSpec"],M);const w=c(t,["partnerModelTuningSpec"]);w!=null&&d(e,["partnerModelTuningSpec"],w);const E=c(t,["customBaseModel"]);E!=null&&d(e,["customBaseModel"],E);const C=c(t,["experiment"]);C!=null&&d(e,["experiment"],C);const k=c(t,["labels"]);k!=null&&d(e,["labels"],k);const I=c(t,["outputUri"]);I!=null&&d(e,["outputUri"],I);const N=c(t,["pipelineJob"]);N!=null&&d(e,["pipelineJob"],N);const F=c(t,["serviceAccount"]);F!=null&&d(e,["serviceAccount"],F);const R=c(t,["tunedModelDisplayName"]);return R!=null&&d(e,["tunedModelDisplayName"],R),e}function DL(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ag(s))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FL extends jo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new fu(Jo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:_g.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=SL(e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>Ag(p))}else{const h=fL(e);return a=de("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>lx(p))}}async listInternal(e){var n,r,i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const h=xL(e);return a=de("tuningJobs",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=DL(p),y=new BC;return Object.assign(y,g),y})}else{const h=pL(e);return a=de("tunedModels",h._url),f=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:p.headers},y})),s.then(p=>{const g=IL(p),y=new BC;return Object.assign(y,g),y})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const f=TL(e);s=de("{name}:cancel",f._url),a=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=mL(e);s=de("{name}:cancel",f._url),a=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=PL(e);return o=de("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>Ag(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CL(e);return o=de("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>AL(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bL=1024*1024*8,UL=3,GL=1e3,VL=2,sm="x-goog-upload-status";async function OL(t,e,n){var r,i,o;let s=0,a=0,f=new xg(new Response),h="upload";for(s=t.size;a<s;){const g=Math.min(bL,s-a),y=t.slice(a,a+g);a+g>=s&&(h+=", finalize");let _=0,x=GL;for(;_<UL&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(a),"Content-Length":String(g)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[sm]));)_++,await zL(x),x=x*VL;if(a+=g,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[sm])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[sm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function BL(t){return{size:t.size,type:t.type}}function zL(t){return new Promise(e=>setTimeout(e,t))}class HL{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OL(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WL{create(e,n,r){return new qL(e,n,r)}}class qL{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hS="x-goog-api-key";class $L{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(hS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KL="gl-node/";class YL{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Mk(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new $L(this.apiKey);this.apiClient=new cF({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:KL+"web",uploader:new HL,downloader:new LL}),this.models=new AF(this.apiClient),this.live=new TF(this.apiClient,i,new WL),this.batches=new jP(this.apiClient),this.chats=new oI(this.models,this.apiClient),this.caches=new nI(this.apiClient),this.files=new vI(this.apiClient),this.operations=new FF(this.apiClient),this.authTokens=new dL(this.apiClient),this.tunings=new FL(this.apiClient)}}const JL="",lm=new YL({apiKey:JL});class QL{async generateImage(e){try{const n=[{text:e.prompt}];e.referenceImages&&e.referenceImages.length>0&&e.referenceImages.forEach(o=>{n.push({inlineData:{mimeType:"image/png",data:o}})});const r=await lm.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:n}),i=[];for(const o of r.candidates[0].content.parts)o.inlineData&&i.push(o.inlineData.data);return i}catch(n){throw console.error("Error generating image:",n),new Error("Failed to generate image. Please try again.")}}async editImage(e){try{const n=[{text:this.buildEditPrompt(e)},{inlineData:{mimeType:"image/png",data:e.originalImage}}];e.referenceImages&&e.referenceImages.length>0&&e.referenceImages.forEach(o=>{n.push({inlineData:{mimeType:"image/png",data:o}})}),e.maskImage&&n.push({inlineData:{mimeType:"image/png",data:e.maskImage}});const r=await lm.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:n}),i=[];for(const o of r.candidates[0].content.parts)o.inlineData&&i.push(o.inlineData.data);return i}catch(n){throw console.error("Error editing image:",n),new Error("Failed to edit image. Please try again.")}}async segmentImage(e){try{const n=[{text:`Analyze this image and create a segmentation mask for: ${e.query}

Return a JSON object with this exact structure:
{
  "masks": [
    {
      "label": "description of the segmented object",
      "box_2d": [x, y, width, height],
      "mask": "base64-encoded binary mask image"
    }
  ]
}

Only segment the specific object or region requested. The mask should be a binary PNG where white pixels (255) indicate the selected region and black pixels (0) indicate the background.`},{inlineData:{mimeType:"image/png",data:e.image}}],i=(await lm.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:n})).candidates[0].content.parts[0].text;return JSON.parse(i)}catch(n){throw console.error("Error segmenting image:",n),new Error("Failed to segment image. Please try again.")}}buildEditPrompt(e){const n=e.maskImage?`

IMPORTANT: Apply changes ONLY where the mask image shows white pixels (value 255). Leave all other areas completely unchanged. Respect the mask boundaries precisely and maintain seamless blending at the edges.`:"";return`Edit this image according to the following instruction: ${e.instruction}

Maintain the original image's lighting, perspective, and overall composition. Make the changes look natural and seamlessly integrated.${n}

Preserve image quality and ensure the edit looks professional and realistic.`}}const pS=new QL;class ax{constructor(e){this.baseUrl="https://openrouter.ai/api/v1",this.apiKey=e}buildEditPrompt(e){const n=e.maskImage?`

IMPORTANT: Apply changes ONLY where the mask image shows white pixels (value 255). Leave all other areas completely unchanged. Respect the mask boundaries precisely and maintain seamless blending at the edges.`:"";return`Edit this image according to the following instruction: ${e.instruction}

Maintain the original image's lighting, perspective, and overall composition. Make the changes look natural and seamlessly integrated.${n}

Preserve image quality and ensure the edit looks professional and realistic.`}async generateImage(e){var n;try{const r=[{type:"text",text:e.prompt}];e.referenceImages&&e.referenceImages.length>0&&e.referenceImages.forEach(h=>{r.push({type:"image_url",image_url:{url:`data:image/png;base64,${h}`}})});const i=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"Nano Banana Image Editor"},body:JSON.stringify({model:e.model,messages:[{role:"user",content:r}],temperature:e.temperature||.7,seed:e.seed,max_tokens:4096})});if(!i.ok){const h=await i.text();throw new Error(`OpenRouter API error: ${i.statusText} - ${h}`)}const o=await i.json(),s=o.choices[0];if(!s||!s.message)throw new Error(`Invalid response structure from OpenRouter: ${JSON.stringify(o)}`);const a=s.message,f=[];if(a.images&&Array.isArray(a.images)&&a.images.length>0){for(const h of a.images)if(h.image_url&&h.image_url.url){const p=h.image_url.url.split(","),g=p.length>1?p[1]:"";g&&f.push(g)}}else if(Array.isArray(a.content)){for(const h of a.content)if(h.type==="image_url"&&((n=h.image_url)!=null&&n.url)){const p=h.image_url.url.split(","),g=p.length>1?p[1]:"";g&&f.push(g)}}if(f.length===0)throw typeof a.content=="string"&&a.content.trim()?new Error(`OpenRouter returned a text response instead of an image: ${a.content}`):new Error(`No image data found in OpenRouter response. Raw response: ${JSON.stringify(o)}`);return f}catch(r){throw console.error("Error generating image with OpenRouter:",r),new Error(`Failed to generate image with OpenRouter. ${r instanceof Error?r.message:"Please try again."}`)}}async editImage(e){var n;try{const r=[{type:"text",text:this.buildEditPrompt(e)}];r.push({type:"image_url",image_url:{url:`data:image/png;base64,${e.originalImage}`}}),e.referenceImages&&e.referenceImages.length>0&&e.referenceImages.forEach(h=>{r.push({type:"image_url",image_url:{url:`data:image/png;base64,${h}`}})}),e.maskImage&&r.push({type:"image_url",image_url:{url:`data:image/png;base64,${e.maskImage}`}});const i=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"Nano Banana Image Editor"},body:JSON.stringify({model:e.model,messages:[{role:"user",content:r}],temperature:e.temperature||.7,seed:e.seed,max_tokens:4096})});if(!i.ok){const h=await i.text();throw new Error(`OpenRouter API error: ${i.statusText} - ${h}`)}const o=await i.json(),s=o.choices[0];if(!s||!s.message)throw new Error(`Invalid response structure from OpenRouter: ${JSON.stringify(o)}`);const a=s.message,f=[];if(a.images&&Array.isArray(a.images)&&a.images.length>0){for(const h of a.images)if(h.image_url&&h.image_url.url){const p=h.image_url.url.split(","),g=p.length>1?p[1]:"";g&&f.push(g)}}else if(Array.isArray(a.content)){for(const h of a.content)if(h.type==="image_url"&&((n=h.image_url)!=null&&n.url)){const p=h.image_url.url.split(","),g=p.length>1?p[1]:"";g&&f.push(g)}}if(f.length===0)throw typeof a.content=="string"&&a.content.trim()?new Error(`OpenRouter returned a text response instead of an image: ${a.content}`):new Error(`No image data found in OpenRouter response. Raw response: ${JSON.stringify(o)}`);return f}catch(r){throw console.error("Error editing image with OpenRouter:",r),new Error(`Failed to edit image with OpenRouter. ${r instanceof Error?r.message:"Please try again."}`)}}static getAvailableModels(){return["google/gemini-2.5-flash-image-preview"]}}const mS=t=>new ax(t);class ey{static async generateImage(e){if(e.provider.id==="gemini")return pS.generateImage({prompt:e.prompt,referenceImages:e.referenceImages,temperature:e.temperature,seed:e.seed});if(e.provider.id==="openrouter")return mS("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").generateImage({prompt:e.prompt,model:e.model,referenceImages:e.referenceImages,temperature:e.temperature,seed:e.seed});throw new Error(`Unsupported AI provider: ${e.provider.id}`)}static async editImage(e){if(e.provider.id==="gemini")return pS.editImage({instruction:e.instruction,originalImage:e.originalImage,referenceImages:e.referenceImages,maskImage:e.maskImage,temperature:e.temperature,seed:e.seed});if(e.provider.id==="openrouter")return mS("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").editImage({instruction:e.instruction,originalImage:e.originalImage,model:e.model,referenceImages:e.referenceImages,maskImage:e.maskImage,temperature:e.temperature,seed:e.seed});throw new Error(`Unsupported AI provider: ${e.provider.id}`)}static getAvailableProviders(){return[{id:"gemini",name:"Google Gemini",models:["gemini-2.5-flash-image-preview"]},{id:"openrouter",name:"OpenRouter",models:ax.getAvailableModels()}]}}const XL=({open:t,onOpenChange:e})=>{const{theme:n,setTheme:r,language:i,setLanguage:o,aiProvider:s,setAIProvider:a,selectedModel:f,setSelectedModel:h}=qn(),{t:p}=du(),g=ey.getAvailableProviders(),y=[{code:"en",name:"English"},{code:"zh",name:""}],_=M=>{r({mode:M}),M==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},x=M=>{const w=y.find(E=>E.code===M);w&&o(w)},T=M=>{const w=g.find(E=>E.id===M);w&&(a(w),w.models.length>0&&h(w.models[0]))};return A.jsx(W0,{open:t,onOpenChange:e,children:A.jsxs(q0,{children:[A.jsx($0,{className:"fixed inset-0 bg-black/50 z-50"}),A.jsxs(K0,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-6 w-full max-w-md z-50",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsx(Y0,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:p("settings")}),A.jsx(J0,{asChild:!0,children:A.jsx(It,{variant:"ghost",size:"icon",className:"h-6 w-6",children:A.jsx(O0,{className:"h-4 w-4"})})})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[A.jsx(I2,{className:"h-4 w-4 mr-2"}),p("theme")]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsxs("button",{onClick:()=>_("light"),className:`p-3 rounded-lg border transition-all duration-200 flex items-center justify-center ${n.mode==="light"?"bg-yellow-50 border-yellow-400 text-yellow-700 dark:bg-yellow-400/10 dark:border-yellow-400/50 dark:text-yellow-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[A.jsx(I2,{className:"h-4 w-4 mr-2"}),p("lightMode")]}),A.jsxs("button",{onClick:()=>_("dark"),className:`p-3 rounded-lg border transition-all duration-200 flex items-center justify-center ${n.mode==="dark"?"bg-yellow-50 border-yellow-400 text-yellow-700 dark:bg-yellow-400/10 dark:border-yellow-400/50 dark:text-yellow-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[A.jsx(w9,{className:"h-4 w-4 mr-2"}),p("darkMode")]})]})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[A.jsx(x9,{className:"h-4 w-4 mr-2"}),p("language")]}),A.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(M=>A.jsx("button",{onClick:()=>x(M.code),className:`p-3 rounded-lg border transition-all duration-200 flex items-center justify-center ${i.code===M.code?"bg-yellow-50 border-yellow-400 text-yellow-700 dark:bg-yellow-400/10 dark:border-yellow-400/50 dark:text-yellow-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:M.name},M.code))})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[A.jsx(v9,{className:"h-4 w-4 mr-2"}),p("aiProvider")]}),A.jsx("div",{className:"space-y-3",children:g.map(M=>A.jsxs("div",{children:[A.jsxs("button",{onClick:()=>T(M.id),className:`w-full p-3 rounded-lg border transition-all duration-200 flex items-center justify-between ${s.id===M.id?"bg-yellow-50 border-yellow-400 text-yellow-700 dark:bg-yellow-400/10 dark:border-yellow-400/50 dark:text-yellow-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[A.jsx("span",{className:"font-medium",children:M.name}),s.id===M.id&&A.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"})]}),s.id===M.id&&A.jsxs("div",{className:"mt-2 ml-4",children:[A.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 block",children:p("model")}),A.jsx("select",{value:f,onChange:w=>h(w.target.value),className:"w-full text-xs p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded text-gray-900 dark:text-gray-100",children:M.models.map(w=>A.jsx("option",{value:w,children:w},w))})]})]},M.id))})]}),s.id==="openrouter"&&A.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:A.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"OpenRouter requires an API key. Add VITE_OPENROUTER_API_KEY to your environment variables."})})]})]})]})})},ZL=()=>{V.useState(!1);const[t,e]=V.useState(!1),{t:n}=du();return A.jsxs(A.Fragment,{children:[A.jsxs("header",{className:"h-16 bg-gray-50 dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between px-6",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"text-2xl",children:""}),A.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 hidden md:block",children:n("appTitle")}),A.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 md:hidden",children:n("appTitleShort")})]}),A.jsx("div",{className:"text-xs text-gray-500 bg-gray-200 dark:bg-gray-800 px-2 py-1 rounded",children:n("version")})]}),A.jsx("div",{className:"flex items-center space-x-2",children:A.jsx(It,{variant:"ghost",size:"icon",onClick:()=>e(!0),children:A.jsx(P9,{className:"h-5 w-5"})})})]}),A.jsx(XL,{open:t,onOpenChange:e})]})},ux=$e.forwardRef(({className:t,...e},n)=>A.jsx("textarea",{className:io("flex min-h-[80px] w-full rounded-lg border border-gray-600 bg-gray-900 px-3 py-2 text-sm text-gray-100 ring-offset-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none",t),ref:n,...e}));ux.displayName="Textarea";function jL(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const o=r.result.split(",")[1];e(o)},r.onerror=n,r.readAsDataURL(t)})}function Zr(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const eb=()=>{const{addGeneration:t,setIsGenerating:e,setCanvasImage:n,setCurrentProject:r,currentProject:i,aiProvider:o,selectedModel:s}=qn(),a=U_({mutationFn:async f=>await ey.generateImage({...f,provider:o,model:s}),onMutate:()=>{e(!0)},onSuccess:(f,h)=>{if(f.length>0){const p=f.map((y,_)=>({id:Zr(),type:"output",url:`data:image/png;base64,${y}`,mime:"image/png",width:1024,height:1024,checksum:y.slice(0,32)})),g={id:Zr(),prompt:h.prompt,parameters:{aspectRatio:"1:1",seed:h.seed,temperature:h.temperature},sourceAssets:h.referenceImage?[{id:Zr(),type:"original",url:`data:image/png;base64,${h.referenceImages[0]}`,mime:"image/png",width:1024,height:1024,checksum:h.referenceImages[0].slice(0,32)}]:h.referenceImages?h.referenceImages.map((y,_)=>({id:Zr(),type:"original",url:`data:image/png;base64,${y}`,mime:"image/png",width:1024,height:1024,checksum:y.slice(0,32)})):[],outputAssets:p,modelVersion:s,timestamp:Date.now()};if(t(g),n(p[0].url),!i){const y={id:Zr(),title:"Untitled Project",generations:[g],edits:[],createdAt:Date.now(),updatedAt:Date.now()};r(y)}}e(!1)},onError:f=>{console.error("Generation failed:",f),e(!1)}});return{generate:a.mutate,isGenerating:a.isPending,error:a.error}},tb=()=>{const{addEdit:t,setIsGenerating:e,setCanvasImage:n,canvasImage:r,editReferenceImages:i,brushStrokes:o,selectedGenerationId:s,currentProject:a,seed:f,temperature:h,aiProvider:p,selectedModel:g}=qn(),y=U_({mutationFn:async _=>{const x=r||uploadedImages[0];if(!x)throw new Error("No image to edit");const T=x.includes("base64,")?x.split("base64,")[1]:x;let M=i.filter(I=>I.includes("base64,")).map(I=>I.split("base64,")[1]),w,E;if(o.length>0){const I=new Image;I.src=x,await new Promise(W=>{I.onload=()=>W()});const N=document.createElement("canvas"),F=N.getContext("2d");N.width=I.width,N.height=I.height,F.fillStyle="black",F.fillRect(0,0,N.width,N.height),F.strokeStyle="white",F.lineCap="round",F.lineJoin="round",o.forEach(W=>{if(W.points.length>=4){F.lineWidth=W.brushSize,F.beginPath(),F.moveTo(W.points[0],W.points[1]);for(let X=2;X<W.points.length;X+=2)F.lineTo(W.points[X],W.points[X+1]);F.stroke()}}),w=N.toDataURL("image/png").split("base64,")[1];const b=document.createElement("canvas"),L=b.getContext("2d");b.width=I.width,b.height=I.height,L.drawImage(I,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=.4,L.fillStyle="#A855F7",o.forEach(W=>{if(W.points.length>=4){L.lineWidth=W.brushSize,L.strokeStyle="#A855F7",L.lineCap="round",L.lineJoin="round",L.beginPath(),L.moveTo(W.points[0],W.points[1]);for(let X=2;X<W.points.length;X+=2)L.lineTo(W.points[X],W.points[X+1]);L.stroke()}}),L.globalAlpha=1,L.globalCompositeOperation="source-over",E=b.toDataURL("image/png").split("base64,")[1],M=[E,...M]}const C={instruction:_,originalImage:T,referenceImages:M.length>0?M:void 0,maskImage:w,temperature:h,seed:f,provider:p,model:g};return{images:await ey.editImage(C),maskedReferenceImage:E}},onMutate:()=>{e(!0)},onSuccess:({images:_,maskedReferenceImage:x},T)=>{var M;if(_.length>0){const w=_.map((N,F)=>({id:Zr(),type:"output",url:`data:image/png;base64,${N}`,mime:"image/png",width:1024,height:1024,checksum:N.slice(0,32)})),E=x?{id:Zr(),type:"mask",url:`data:image/png;base64,${x}`,mime:"image/png",width:1024,height:1024,checksum:x.slice(0,32)}:void 0,C={id:Zr(),parentGenerationId:s||((M=a==null?void 0:a.generations[a.generations.length-1])==null?void 0:M.id)||"",maskAssetId:o.length>0?Zr():void 0,maskReferenceAsset:E,instruction:T,outputAssets:w,timestamp:Date.now()};t(C);const{selectEdit:k,selectGeneration:I}=qn.getState();n(w[0].url),k(C.id),I(null)}e(!1)},onError:_=>{console.error("Edit failed:",_),e(!1)}});return{edit:y.mutate,isEditing:y.isPending,error:y.error}},nb=[{category:"subject",text:"Be specific about the main subject",example:'"A vintage red bicycle" vs "bicycle"'},{category:"scene",text:"Describe the environment and setting",example:'"in a cobblestone alley during golden hour"'},{category:"action",text:"Include movement or activity",example:'"cyclist pedaling through puddles"'},{category:"style",text:"Specify artistic style or mood",example:'"cinematic photography, moody lighting"'},{category:"camera",text:"Add camera perspective details",example:'"shot with 85mm lens, shallow depth of field"'}],rb={subject:"bg-blue-500/10 border-blue-500/30 text-blue-400",scene:"bg-green-500/10 border-green-500/30 text-green-400",action:"bg-purple-500/10 border-purple-500/30 text-purple-400",style:"bg-orange-500/10 border-orange-500/30 text-orange-400",camera:"bg-pink-500/10 border-pink-500/30 text-pink-400"},ib=({open:t,onOpenChange:e})=>A.jsx(W0,{open:t,onOpenChange:e,children:A.jsxs(q0,{children:[A.jsx($0,{className:"fixed inset-0 bg-black/50 z-50"}),A.jsxs(K0,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-900 border border-gray-700 rounded-lg p-6 w-full max-w-md max-h-[80vh] overflow-y-auto z-50",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx(Y0,{className:"text-lg font-semibold text-gray-100",children:"Prompt Quality Tips"}),A.jsx(J0,{asChild:!0,children:A.jsx(It,{variant:"ghost",size:"icon",className:"h-6 w-6",children:A.jsx(O0,{className:"h-4 w-4"})})})]}),A.jsxs("div",{className:"space-y-4",children:[nb.map((n,r)=>A.jsxs("div",{className:"space-y-2",children:[A.jsx("div",{className:`inline-block px-2 py-1 rounded text-xs border ${rb[n.category]}`,children:n.category}),A.jsx("p",{className:"text-sm text-gray-300",children:n.text}),A.jsx("p",{className:"text-sm text-gray-500 italic",children:n.example})]},r)),A.jsx("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700 mt-6",children:A.jsxs("p",{className:"text-sm text-gray-300",children:[A.jsx("strong",{className:"text-yellow-400",children:"Best practice:"}),' Write full sentences that describe the complete scene, not just keywords. Think "paint me a picture with words."']})})]})]})]})}),ob=()=>{const{t}=du(),{currentPrompt:e,setCurrentPrompt:n,selectedTool:r,setSelectedTool:i,temperature:o,setTemperature:s,seed:a,setSeed:f,isGenerating:h,uploadedImages:p,addUploadedImage:g,removeUploadedImage:y,clearUploadedImages:_,editReferenceImages:x,addEditReferenceImage:T,removeEditReferenceImage:M,clearEditReferenceImages:w,canvasImage:E,setCanvasImage:C,showPromptPanel:k,setShowPromptPanel:I,clearBrushStrokes:N}=qn(),{generate:F}=eb(),{edit:R}=tb(),[b,L]=V.useState(!1),[z,W]=V.useState(!1),[X,Q]=V.useState(!1),J=V.useRef(null),fe=()=>{if(e.trim())if(r==="generate"){const Y=p.filter(re=>re.includes("base64,")).map(re=>re.split("base64,")[1]);F({prompt:e,referenceImages:Y.length>0?Y:void 0,temperature:o,seed:a||void 0})}else(r==="edit"||r==="mask")&&R(e)},pe=async Y=>{var ne;const re=(ne=Y.target.files)==null?void 0:ne[0];if(re&&re.type.startsWith("image/"))try{const ge=await jL(re),Te=`data:${re.type};base64,${ge}`;r==="generate"?p.length<8&&g(Te):r==="edit"?(x.length<8&&T(Te),E||C(Te)):r==="mask"&&(_(),g(Te),C(Te))}catch(ge){console.error("Failed to upload image:",ge)}},B=()=>{n(""),_(),w(),N(),C(null),f(null),s(.7),W(!1)},ee=[{id:"generate",icon:A2,label:t("generate"),description:t("createFromText")},{id:"edit",icon:k9,label:t("edit"),description:t("modifyExisting")},{id:"mask",icon:E9,label:t("select"),description:t("clickToSelect")}];return k?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"w-80 lg:w-72 xl:w-80 h-full bg-white dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 p-6 flex flex-col space-y-6 overflow-y-auto",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t("mode")}),A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx(It,{variant:"ghost",size:"icon",onClick:()=>Q(!0),className:"h-6 w-6",children:A.jsx(M2,{className:"h-4 w-4"})}),A.jsx(It,{variant:"ghost",size:"icon",onClick:()=>I(!1),className:"h-6 w-6",title:t("hidePromptPanel"),children:""})]})]}),A.jsx("div",{className:"grid grid-cols-3 gap-2",children:ee.map(Y=>A.jsxs("button",{onClick:()=>i(Y.id),className:io("flex flex-col items-center p-3 rounded-lg border transition-all duration-200",r===Y.id?"bg-yellow-50 border-yellow-400 text-yellow-700 dark:bg-yellow-400/10 dark:border-yellow-400/50 dark:text-yellow-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"),children:[A.jsx(Y.icon,{className:"h-5 w-5 mb-1"}),A.jsx("span",{className:"text-xs font-medium",children:Y.label})]},Y.id))})]}),A.jsx("div",{children:A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:t(r==="generate"?"referenceImages":r==="edit"?"styleReferences":"uploadImage")}),r==="mask"&&A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:t("editAnImageWithMasks")}),r==="generate"&&A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:t("optionalUpTo2Images")}),r==="edit"&&A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:t(E?"optionalStyleReferencesUpTo2Images":"uploadImageToEditUpTo2Images")}),A.jsx("input",{ref:J,type:"file",accept:"image/*",onChange:pe,className:"hidden"}),A.jsxs(It,{variant:"outline",onClick:()=>{var Y;return(Y=J.current)==null?void 0:Y.click()},className:"w-full",disabled:r==="generate"&&p.length>=2||r==="edit"&&x.length>=2,children:[A.jsx(M9,{className:"h-4 w-4 mr-2"}),t("upload")]}),(r==="generate"&&p.length>0||r==="edit"&&x.length>0)&&A.jsx("div",{className:"mt-3 space-y-2",children:(r==="generate"?p:x).map((Y,re)=>A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:Y,alt:`Reference ${re+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200 dark:border-gray-700"}),A.jsx("button",{onClick:()=>r==="generate"?y(re):M(re),className:"absolute top-1 right-1 bg-white/80 dark:bg-gray-900/80 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 rounded-full p-1 transition-colors",children:""}),A.jsxs("div",{className:"absolute bottom-1 left-1 bg-white/80 dark:bg-gray-900/80 text-xs px-2 py-1 rounded text-gray-700 dark:text-gray-300",children:[t("ref")," ",re+1]})]},re))})]})}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block",children:t(r==="generate"?"describeWhatYouWantToCreate":"describeYourChanges")}),A.jsx(ux,{value:e,onChange:Y=>n(Y.target.value),placeholder:t(r==="generate"?"promptPlaceholderGenerate":"promptPlaceholderEdit"),className:"min-h-[120px] resize-none bg-white dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800"}),A.jsxs("button",{onClick:()=>Q(!0),className:"mt-2 flex items-center text-xs text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors group",children:[e.length<20?A.jsx(M2,{className:"h-3 w-3 mr-2 text-red-500 group-hover:text-red-400"}):A.jsx("div",{className:io("h-2 w-2 rounded-full mr-2",e.length<50?"bg-yellow-500":"bg-green-500")}),A.jsx("span",{className:"text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",children:e.length<20?t("addDetailForBetterResults"):e.length<50?t("goodDetailLevel"):t("excellentPromptDetail")})]})]}),A.jsx(It,{onClick:fe,disabled:h||!e.trim(),className:"w-full h-14 text-base font-medium",children:h?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mr-2"}),t("generating"),"..."]}):A.jsxs(A.Fragment,{children:[A.jsx(A2,{className:"h-4 w-4 mr-2"}),t(r==="generate"?"generate":"applyEdit")]})}),A.jsxs("div",{children:[A.jsxs("button",{onClick:()=>L(!b),className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:[b?A.jsx(g9,{className:"h-4 w-4 mr-1"}):A.jsx(y9,{className:"h-4 w-4 mr-1"}),t(b?"hide":"show")," ",t("advancedControls")]}),A.jsxs("button",{onClick:()=>W(!z),className:"flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors duration-200 mt-2",children:[A.jsx(X_,{className:"h-4 w-4 mr-2"}),t("clearSession")]}),z&&A.jsxs("div",{className:"mt-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[A.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mb-3",children:t("clearSessionConfirmation")}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsx(It,{variant:"destructive",size:"sm",onClick:B,className:"flex-1",children:t("yesClear")}),A.jsx(It,{variant:"outline",size:"sm",onClick:()=>W(!1),className:"flex-1",children:t("cancel")})]})]}),b&&A.jsxs("div",{className:"mt-4 space-y-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 block",children:[t("creativity")," (",o,")"]}),A.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:o,onChange:Y=>s(parseFloat(Y.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-800 rounded-lg appearance-none cursor-pointer slider"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 block",children:t("seedOptional")}),A.jsx("input",{type:"number",value:a||"",onChange:Y=>f(Y.target.value?parseInt(Y.target.value):null),placeholder:t("random"),className:"w-full h-8 px-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded text-xs text-gray-900 dark:text-gray-100"})]})]})]}),A.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:[A.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("shortcuts")}),A.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-500",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:t("generate")}),A.jsx("span",{children:" + Enter"})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:t("reRoll")}),A.jsx("span",{children:" + R"})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:t("editMode")}),A.jsx("span",{children:"E"})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:t("history")}),A.jsx("span",{children:"H"})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{children:t("togglePanel")}),A.jsx("span",{children:"P"})]})]})]})]}),A.jsx(ib,{open:X,onOpenChange:Q})]}):A.jsx("div",{className:"w-8 bg-gray-100 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 flex flex-col items-center justify-center",children:A.jsx("button",{onClick:()=>I(!0),className:"w-6 h-16 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-r-lg border border-l-0 border-gray-300 dark:border-gray-700 flex items-center justify-center transition-colors group",title:t("showPromptPanel"),children:A.jsxs("div",{className:"flex flex-col space-y-1",children:[A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"}),A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"}),A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"})]})})})};var cx={exports:{}},mf={},Vd={},Ee={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof sv<"u"?sv:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(Ee);var ft={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Ee;class n{constructor(k=[1,0,0,1,0,0]){this.dirty=!1,this.m=k&&k.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(k){k.m[0]=this.m[0],k.m[1]=this.m[1],k.m[2]=this.m[2],k.m[3]=this.m[3],k.m[4]=this.m[4],k.m[5]=this.m[5]}point(k){const I=this.m;return{x:I[0]*k.x+I[2]*k.y+I[4],y:I[1]*k.x+I[3]*k.y+I[5]}}translate(k,I){return this.m[4]+=this.m[0]*k+this.m[2]*I,this.m[5]+=this.m[1]*k+this.m[3]*I,this}scale(k,I){return this.m[0]*=k,this.m[1]*=k,this.m[2]*=I,this.m[3]*=I,this}rotate(k){const I=Math.cos(k),N=Math.sin(k),F=this.m[0]*I+this.m[2]*N,R=this.m[1]*I+this.m[3]*N,b=this.m[0]*-N+this.m[2]*I,L=this.m[1]*-N+this.m[3]*I;return this.m[0]=F,this.m[1]=R,this.m[2]=b,this.m[3]=L,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(k,I){const N=this.m[0]+this.m[2]*I,F=this.m[1]+this.m[3]*I,R=this.m[2]+this.m[0]*k,b=this.m[3]+this.m[1]*k;return this.m[0]=N,this.m[1]=F,this.m[2]=R,this.m[3]=b,this}multiply(k){const I=this.m[0]*k.m[0]+this.m[2]*k.m[1],N=this.m[1]*k.m[0]+this.m[3]*k.m[1],F=this.m[0]*k.m[2]+this.m[2]*k.m[3],R=this.m[1]*k.m[2]+this.m[3]*k.m[3],b=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],L=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];return this.m[0]=I,this.m[1]=N,this.m[2]=F,this.m[3]=R,this.m[4]=b,this.m[5]=L,this}invert(){const k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),I=this.m[3]*k,N=-this.m[1]*k,F=-this.m[2]*k,R=this.m[0]*k,b=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),L=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=I,this.m[1]=N,this.m[2]=F,this.m[3]=R,this.m[4]=b,this.m[5]=L,this}getMatrix(){return this.m}decompose(){const k=this.m[0],I=this.m[1],N=this.m[2],F=this.m[3],R=this.m[4],b=this.m[5],L=k*F-I*N,z={x:R,y:b,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(k!=0||I!=0){const W=Math.sqrt(k*k+I*I);z.rotation=I>0?Math.acos(k/W):-Math.acos(k/W),z.scaleX=W,z.scaleY=L/W,z.skewX=(k*N+I*F)/L,z.skewY=0}else if(N!=0||F!=0){const W=Math.sqrt(N*N+F*F);z.rotation=Math.PI/2-(F>0?Math.acos(-N/W):-Math.acos(N/W)),z.scaleX=L/W,z.scaleY=W,z.skewX=0,z.skewY=(k*N+I*F)/L}return z.rotation=t.Util._getRotation(z.rotation),z}}t.Transform=n;const r="[object Array]",i="[object Number]",o="[object String]",s="[object Boolean]",a=Math.PI/180,f=180/Math.PI,h="#",p="",g="0",y="Konva warning: ",_="Konva error: ",x="rgb(",T={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},M=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let w=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};t.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===r},_isNumber(C){return Object.prototype.toString.call(C)===i&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===o},_isBoolean(C){return Object.prototype.toString.call(C)===s},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;const k=C[0];return k==="#"||k==="."||k===k.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){w.push(C),w.length===1&&E(function(){const k=w;w=[],k.forEach(function(I){I()})})},createCanvasElement(){const C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,k){const I=t.Util.createImageElement();I.onload=function(){k(I)},I.src=C},_rgbToHex(C,k,I){return((1<<24)+(C<<16)+(k<<8)+I).toString(16).slice(1)},_hexToRgb(C){C=C.replace(h,p);const k=parseInt(C,16);return{r:k>>16&255,g:k>>8&255,b:k&255}},getRandomColor(){let C=(Math.random()*16777215<<0).toString(16);for(;C.length<6;)C=g+C;return h+C},getRGB(C){let k;return C in T?(k=T[C],{r:k[0],g:k[1],b:k[2]}):C[0]===h?this._hexToRgb(C.substring(1)):C.substr(0,4)===x?(k=M.exec(C.replace(/ /g,"")),{r:parseInt(k[1],10),g:parseInt(k[2],10),b:parseInt(k[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",t.Util._namedColorToRBA(C)||t.Util._hex3ColorToRGBA(C)||t.Util._hex4ColorToRGBA(C)||t.Util._hex6ColorToRGBA(C)||t.Util._hex8ColorToRGBA(C)||t.Util._rgbColorToRGBA(C)||t.Util._rgbaColorToRGBA(C)||t.Util._hslColorToRGBA(C)},_namedColorToRBA(C){const k=T[C.toLowerCase()];return k?{r:k[0],g:k[1],b:k[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];const k=C.split(/ *, */).map(Number);return{r:k[0],g:k[1],b:k[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];const k=C.split(/ *, */).map((I,N)=>I.slice(-1)==="%"?N===3?parseInt(I)/100:parseInt(I)/100*255:Number(I));return{r:k[0],g:k[1],b:k[2],a:k[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[k,...I]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),N=Number(I[0])/360,F=Number(I[1])/100,R=Number(I[2])/100;let b,L,z;if(F===0)return z=R*255,{r:Math.round(z),g:Math.round(z),b:Math.round(z),a:1};R<.5?b=R*(1+F):b=R+F-R*F;const W=2*R-b,X=[0,0,0];for(let Q=0;Q<3;Q++)L=N+1/3*-(Q-1),L<0&&L++,L>1&&L--,6*L<1?z=W+(b-W)*6*L:2*L<1?z=b:3*L<2?z=W+(b-W)*(2/3-L)*6:z=W,X[Q]=z*255;return{r:Math.round(X[0]),g:Math.round(X[1]),b:Math.round(X[2]),a:1}}},haveIntersection(C,k){return!(k.x>C.x+C.width||k.x+k.width<C.x||k.y>C.y+C.height||k.y+k.height<C.y)},cloneObject(C){const k={};for(const I in C)this._isPlainObject(C[I])?k[I]=this.cloneObject(C[I]):this._isArray(C[I])?k[I]=this.cloneArray(C[I]):k[I]=C[I];return k},cloneArray(C){return C.slice(0)},degToRad(C){return C*a},radToDeg(C){return C*f},_degToRad(C){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(C)},_radToDeg(C){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(C)},_getRotation(C){return e.Konva.angleDeg?t.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(_+C)},error(C){console.error(_+C)},warn(C){e.Konva.showWarnings&&console.warn(y+C)},each(C,k){for(const I in C)k(I,C[I])},_inRange(C,k,I){return k<=C&&C<I},_getProjectionToSegment(C,k,I,N,F,R){let b,L,z;const W=(C-I)*(C-I)+(k-N)*(k-N);if(W==0)b=C,L=k,z=(F-I)*(F-I)+(R-N)*(R-N);else{const X=((F-C)*(I-C)+(R-k)*(N-k))/W;X<0?(b=C,L=k,z=(C-F)*(C-F)+(k-R)*(k-R)):X>1?(b=I,L=N,z=(I-F)*(I-F)+(N-R)*(N-R)):(b=C+X*(I-C),L=k+X*(N-k),z=(b-F)*(b-F)+(L-R)*(L-R))}return[b,L,z]},_getProjectionToLine(C,k,I){const N=t.Util.cloneObject(C);let F=Number.MAX_VALUE;return k.forEach(function(R,b){if(!I&&b===k.length-1)return;const L=k[(b+1)%k.length],z=t.Util._getProjectionToSegment(R.x,R.y,L.x,L.y,C.x,C.y),W=z[0],X=z[1],Q=z[2];Q<F&&(N.x=W,N.y=X,F=Q)}),N},_prepareArrayForTween(C,k,I){const N=[],F=[];if(C.length>k.length){const b=k;k=C,C=b}for(let b=0;b<C.length;b+=2)N.push({x:C[b],y:C[b+1]});for(let b=0;b<k.length;b+=2)F.push({x:k[b],y:k[b+1]});const R=[];return F.forEach(function(b){const L=t.Util._getProjectionToLine(b,N,I);R.push(L.x),R.push(L.y)}),R},_prepareToStringify(C){let k;C.visitedByCircularReferenceRemoval=!0;for(const I in C)if(C.hasOwnProperty(I)&&C[I]&&typeof C[I]=="object"){if(k=Object.getOwnPropertyDescriptor(C,I),C[I].visitedByCircularReferenceRemoval||t.Util._isElement(C[I]))if(k.configurable)delete C[I];else return null;else if(t.Util._prepareToStringify(C[I])===null)if(k.configurable)delete C[I];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,k){for(const I in k)C[I]=k[I];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){e.Konva.releaseCanvasOnDestroy&&C.forEach(k=>{k.width=0,k.height=0})},drawRoundedRectPath(C,k,I,N){let F=0,R=0,b=0,L=0;typeof N=="number"?F=R=b=L=Math.min(N,k/2,I/2):(F=Math.min(N[0]||0,k/2,I/2),R=Math.min(N[1]||0,k/2,I/2),L=Math.min(N[2]||0,k/2,I/2),b=Math.min(N[3]||0,k/2,I/2)),C.moveTo(F,0),C.lineTo(k-R,0),C.arc(k-R,R,R,Math.PI*3/2,0,!1),C.lineTo(k,I-L),C.arc(k-L,I-L,L,0,Math.PI/2,!1),C.lineTo(b,I),C.arc(b,I-b,b,Math.PI/2,Math.PI,!1),C.lineTo(0,F),C.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}})(ft);var st={},dr={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.HitContext=ni.SceneContext=ni.Context=void 0;const dx=ft,sb=Ee;function lb(t){const e=[],n=t.length,r=dx.Util;for(let i=0;i<n;i++){let o=t[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}const gS=",",ab="(",ub=")",cb="([",db="])",fb=";",hb="()",pb="=",yS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],mb=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],gb=100;class gf{constructor(e){this.canvas=e,sb.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,o="",s,a,f,h;for(s=0;s<i;s++)a=r[s],f=a.method,f?(h=a.args,o+=f,e?o+=hb:dx.Util._isArray(h[0])?o+=cb+h.join(gS)+db:(n&&(h=h.map(p=>typeof p=="number"?Math.floor(p):p)),o+=ab+h.join(gS)+ub)):(o+=a.property,e||(o+=pb+a.val)),o+=fb;return o}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=gb&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,o,s){this._context.arc(e,n,r,i,o,s)}arcTo(e,n,r,i,o){this._context.arcTo(e,n,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,o,s){this._context.bezierCurveTo(e,n,r,i,o,s)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,o,s){return this._context.createRadialGradient(e,n,r,i,o,s)}drawImage(e,n,r,i,o,s,a,f,h){const p=arguments,g=this._context;p.length===3?g.drawImage(e,n,r):p.length===5?g.drawImage(e,n,r,i,o):p.length===9&&g.drawImage(e,n,r,i,o,s,a,f,h)}ellipse(e,n,r,i,o,s,a,f){this._context.ellipse(e,n,r,i,o,s,a,f)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,o){this._context.roundRect(e,n,r,i,o)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,o,s){this._context.setTransform(e,n,r,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,o,s){this._context.transform(e,n,r,i,o,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=yS.length,r=this.setAttr,i,o;const s=function(a){let f=e[a],h;e[a]=function(){return o=lb(Array.prototype.slice.call(arguments,0)),h=f.apply(e,arguments),e._trace({method:a,args:o}),h}};for(i=0;i<n;i++)s(yS[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let f=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),e._trace({property:a,val:f})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}ni.Context=gf;mb.forEach(function(t){Object.defineProperty(gf.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class yb extends gf{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const o=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},f=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),p=f.x*h,g=f.y*h;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(p),Math.abs(g))),this.setAttr("shadowOffsetX",a.x*p),this.setAttr("shadowOffsetY",a.y*g)}}ni.SceneContext=yb;class vb extends gf{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}ni.HitContext=vb;Object.defineProperty(dr,"__esModule",{value:!0});dr.HitCanvas=dr.SceneCanvas=dr.Canvas=void 0;const Od=ft,fx=ni,hx=Ee;let Vc;function Cb(){if(Vc)return Vc;const t=Od.Util.createCanvasElement(),e=t.getContext("2d");return Vc=function(){const n=hx.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),Od.Util.releaseCanvas(t),Vc}class ty{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||hx.Konva.pixelRatio||Cb();this.pixelRatio=r,this._canvas=Od.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return Od.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}dr.Canvas=ty;class Sb extends ty{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new fx.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}dr.SceneCanvas=Sb;class _b extends ty{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new fx.HitContext(this),this.setSize(e.width,e.height)}}dr.HitCanvas=_b;var yf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Ee,n=ft;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((o,s)=>{const{node:a}=o,f=a.getStage();f.setPointersPositions(r),o.pointerId===void 0&&(o.pointerId=n.Util._getFirstPointerId(r));const h=f._changedPointerPositions.find(p=>p.id===o.pointerId);if(h){if(o.dragStatus!=="dragging"){const p=a.dragDistance();if(Math.max(Math.abs(h.x-o.startPointerPos.x),Math.abs(h.y-o.startPointerPos.y))<p||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,o),i.push(a)}}),i.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(o=>{const{node:s}=o,a=s.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(p=>p.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const h=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;h&&i.indexOf(h)===-1&&i.push(h)}),i.forEach(o=>{o.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,o)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(yf);var Me={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.RGBComponent=xb;ve.alphaComponent=Tb;ve.getNumberValidator=wb;ve.getNumberOrArrayOfNumbersValidator=Eb;ve.getNumberOrAutoValidator=kb;ve.getStringValidator=Pb;ve.getStringOrGradientValidator=Mb;ve.getFunctionValidator=Ib;ve.getNumberArrayValidator=Ab;ve.getBooleanValidator=Rb;ve.getComponentValidator=Nb;const di=Ee,mt=ft;function fi(t){return mt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||mt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function xb(t){return t>255?255:t<0?0:Math.round(t)}function Tb(t){return t>1?1:t<1e-4?1e-4:t}function wb(){if(di.Konva.isUnminified)return function(t,e){return mt.Util._isNumber(t)||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Eb(t){if(di.Konva.isUnminified)return function(e,n){let r=mt.Util._isNumber(e),i=mt.Util._isArray(e)&&e.length==t;return!r&&!i&&mt.Util.warn(fi(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function kb(){if(di.Konva.isUnminified)return function(t,e){return mt.Util._isNumber(t)||t==="auto"||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Pb(){if(di.Konva.isUnminified)return function(t,e){return mt.Util._isString(t)||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Mb(){if(di.Konva.isUnminified)return function(t,e){const n=mt.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Ib(){if(di.Konva.isUnminified)return function(t,e){return mt.Util._isFunction(t)||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function Ab(){if(di.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(mt.Util._isArray(t)?t.forEach(function(r){mt.Util._isNumber(r)||mt.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Rb(){if(di.Konva.isUnminified)return function(t,e){return t===!0||t===!1||mt.Util.warn(fi(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Nb(t){if(di.Konva.isUnminified)return function(e,n){return e==null||mt.Util.isObject(e)||mt.Util.warn(fi(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=ft,n=ve,r="get",i="set";t.Factory={addGetterSetter(o,s,a,f,h){t.Factory.addGetter(o,s,a),t.Factory.addSetter(o,s,f,h),t.Factory.addOverloadedGetterSetter(o,s)},addGetter(o,s,a){const f=r+e.Util._capitalize(s);o.prototype[f]=o.prototype[f]||function(){const h=this.attrs[s];return h===void 0?a:h}},addSetter(o,s,a,f){const h=i+e.Util._capitalize(s);o.prototype[h]||t.Factory.overWriteSetter(o,s,a,f)},overWriteSetter(o,s,a,f){const h=i+e.Util._capitalize(s);o.prototype[h]=function(p){return a&&p!==void 0&&p!==null&&(p=a.call(this,p,s)),this._setAttr(s,p),f&&f.call(this),this}},addComponentsGetterSetter(o,s,a,f,h){const p=a.length,g=e.Util._capitalize,y=r+g(s),_=i+g(s);o.prototype[y]=function(){const T={};for(let M=0;M<p;M++){const w=a[M];T[w]=this.getAttr(s+g(w))}return T};const x=(0,n.getComponentValidator)(a);o.prototype[_]=function(T){const M=this.attrs[s];f&&(T=f.call(this,T,s)),x&&x.call(this,T,s);for(const w in T)T.hasOwnProperty(w)&&this._setAttr(s+g(w),T[w]);return T||a.forEach(w=>{this._setAttr(s+g(w),void 0)}),this._fireChangeEvent(s,M,T),h&&h.call(this),this},t.Factory.addOverloadedGetterSetter(o,s)},addOverloadedGetterSetter(o,s){const a=e.Util._capitalize(s),f=i+a,h=r+a;o.prototype[s]=function(){return arguments.length?(this[f](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(o,s,a,f){e.Util.error("Adding deprecated "+s);const h=r+e.Util._capitalize(s),p=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[h]=function(){e.Util.error(p);const g=this.attrs[s];return g===void 0?a:g},t.Factory.addSetter(o,s,f,function(){e.Util.error(p)}),t.Factory.addOverloadedGetterSetter(o,s)},backCompat(o,s){e.Util.each(s,function(a,f){const h=o.prototype[f],p=r+e.Util._capitalize(a),g=i+e.Util._capitalize(a);function y(){h.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}o.prototype[a]=y,o.prototype[p]=y,o.prototype[g]=y})},afterSetFilter(){this._filterUpToDate=!1}}})(Me);Object.defineProperty(st,"__esModule",{value:!0});st.Node=void 0;const Is=dr,Gn=yf,hu=Me,Ii=Ee,Re=ft,_t=ve,ad="absoluteOpacity",Oc="allEventListeners",Kr="absoluteTransform",vS="absoluteScale",Mo="canvas",Db="Change",Fb="children",Lb="konva",Rg="listening",bb="mouseenter",Ub="mouseleave",Gb="pointerenter",Vb="pointerleave",Ob="touchenter",Bb="touchleave",CS="set",SS="Shape",ud=" ",_S="stage",Ni="transform",zb="Stage",Ng="visible",Hb=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ud);let Wb=1,xe=class Dg{constructor(e){this._id=Wb++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Ni||e===Kr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Ni||e===Kr)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(o=>o+"Change.konva").join(ud);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Mo)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Kr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Mo)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Mo);Re.Util.releaseCanvas(e,n,r,i),this._cache.delete(Mo)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),o=Math.ceil(n.height||r.height),s=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,f=n.y===void 0?Math.floor(r.y):n.y,h=n.offset||0,p=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!i||!o){Re.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const y=Math.abs(Math.round(r.x)-a)>.5?1:0,_=Math.abs(Math.round(r.y)-f)>.5?1:0;i+=h*2+y,o+=h*2+_,a-=h,f-=h;const x=new Is.SceneCanvas({pixelRatio:s,width:i,height:o}),T=new Is.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),M=new Is.HitCanvas({pixelRatio:g,width:i,height:o}),w=x.getContext(),E=M.getContext(),C=new Is.SceneCanvas({width:x.width/x.pixelRatio+Math.abs(a),height:x.height/x.pixelRatio+Math.abs(f),pixelRatio:x.pixelRatio}),k=C.getContext();return M.isCache=!0,x.isCache=!0,this._cache.delete(Mo),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,T.getContext()._context.imageSmoothingEnabled=!1),w.save(),E.save(),k.save(),w.translate(-a,-f),E.translate(-a,-f),k.translate(-a,-f),C.x=a,C.y=f,this._isUnderCache=!0,this._clearSelfAndDescendantCache(ad),this._clearSelfAndDescendantCache(vS),this.drawScene(x,this,C),this.drawHit(M,this),this._isUnderCache=!1,w.restore(),E.restore(),p&&(w.save(),w.beginPath(),w.rect(0,0,i,o),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Mo,{scene:x,filter:T,hit:M,buffer:C,x:a,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(Mo)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,o=1/0,s=-1/0,a=-1/0;const f=this.getAbsoluteTransform(n);return r.forEach(function(h){const p=f.point(h);i===void 0&&(i=s=p.x,o=a=p.y),i=Math.min(i,p.x),o=Math.min(o,p.y),s=Math.max(s,p.x),a=Math.max(a,p.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,o=i.getContext(),s,a,f,h;if(e){if(!this._filterUpToDate){const p=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/p,r.getHeight()/p),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),f=0;f<s;f++){if(h=e[f],typeof h!="function"){Re.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,a),o.putImageData(a,0,0)}}catch(g){Re.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Oc),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(ud);for(let i=0;i<r.length;i++){const s=r[i].split("."),a=s[0],f=s[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:f,handler:n})}return this}off(e,n){let r=(e||"").split(ud),i=r.length,o,s,a,f,h,p;if(this._cache&&this._cache.delete(Oc),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=r[o],f=a.split("."),h=f[0],p=f[1],h)this.eventListeners[h]&&this._off(h,p,n);else for(s in this.eventListeners)this._off(s,p,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(o){const s=o.target.findAncestors(n,!0,i);for(let a=0;a<s.length;a++)o=Re.Util.cloneObject(o),o.currentTarget=s[a],r.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),Gn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Kr),this._clearSelfAndDescendantCache(ad),this._clearSelfAndDescendantCache(vS),this._clearSelfAndDescendantCache(_S),this._clearSelfAndDescendantCache(Ng),this._clearSelfAndDescendantCache(Rg)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Re.Util._capitalize(e);return Re.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==Fb&&(r=CS+Re.Util._capitalize(n),Re.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Rg,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Ng,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Gn.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});const o=!n&&!Ii.Konva.hitOnDragEnabled&&(i||Ii.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,o,s,a;function f(p){for(i=[],o=p.length,s=0;s<o;s++)a=p[s],r++,a.nodeType!==SS&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&f(i)}const h=this.getStage();return n.nodeType!==zb&&h&&f(h.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ni),this._clearSelfAndDescendantCache(Kr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),o=new Re.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Ni);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Ni),this._clearSelfAndDescendantCache(Kr),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),o=this.y();return n!==void 0&&(i+=n),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),o,s;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(o=r.length,s=0;s<o;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Re.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Re.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Re.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Re.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Re.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Re.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ad,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,o,s;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],s=Re.Util.isObject(r)&&!Re.Util._isPlainObject(r)&&!Re.Util._isArray(r),!s&&(i=typeof this[n]=="function"&&this[n],delete e[n],o=i?i.call(this):null,e[n]=r,o!==r&&(a.attrs[n]=r));return Re.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,o;for(i=0;i<r;i++)if(o=n[i],Re.Util.isValidSelector(o)||(Re.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Re.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Re.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(_S,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Kr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Re.Transform,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Kr)||new Re.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-s,o-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ni,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Ni)||new Re.Transform;r.reset();const i=this.x(),o=this.y(),s=Ii.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,f=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,h=this.attrs.skewX||0,p=this.attrs.skewY||0,g=this.attrs.offsetX||0,y=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),s!==0&&r.rotate(s),(h!==0||p!==0)&&r.skew(h,p),(a!==1||f!==1)&&r.scale(a,f),(g!==0||y!==0)&&r.translate(-1*g,-1*y),r.dirty=!1,r}clone(e){let n=Re.Util.cloneObject(this.attrs),r,i,o,s,a;for(r in e)n[r]=e[r];const f=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(Lb)<0&&(f.eventListeners[r]||(f.eventListeners[r]=[]),f.eventListeners[r].push(a));return f}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),o=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,a=new Is.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),f=a.getContext(),h=new Is.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(i||o)&&f.translate(-1*i,-1*o),this.drawScene(a,void 0,h),f.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,Re.Util._urlToImage(this.toDataURL(e),function(o){n(o),i==null||i(o)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{n(o),i==null||i(o)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ii.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,n,r){this._fire(e+Db,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[CS+Re.Util._capitalize(e)];return Re.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ii.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!Re.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===SS&&(n.target=this);const i=[bb,Ub,Gb,Vb,Ob,Bb];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const s=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const o=(n=this._cache.get(Oc))!==null&&n!==void 0?n:{};let s=o==null?void 0:o[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){const f=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];s.push(...f),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(Oc,o)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const o=r._getPointerById(n)||r._changedPointerPositions[0]||i;Gn.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Gn.DD._dragElements.has(this._id)||this._createDragElement(e);const r=Gn.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const s=o.call(this,i,e);s?i=s:Re.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Gn.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Gn.DD._endDragBefore(e),Gn.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Gn.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ii.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Gn.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Gn.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Gn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Re.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return Re.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=Dg.prototype.getClassName.call(e),i=e.children,o,s,a;n&&(e.attrs.container=n),Ii.Konva[r]||(Re.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const f=Ii.Konva[r];if(o=new f(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(Dg._createNode(i[a]));return o}};st.Node=xe;xe.prototype.nodeType="Node";xe.prototype._attrsAffectingSize=[];xe.prototype.eventListeners={};xe.prototype.on.call(xe.prototype,Hb,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ni),this._clearSelfAndDescendantCache(Kr)});xe.prototype.on.call(xe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ng)});xe.prototype.on.call(xe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Rg)});xe.prototype.on.call(xe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ad)});const Ke=hu.Factory.addGetterSetter;Ke(xe,"zIndex");Ke(xe,"absolutePosition");Ke(xe,"position");Ke(xe,"x",0,(0,_t.getNumberValidator)());Ke(xe,"y",0,(0,_t.getNumberValidator)());Ke(xe,"globalCompositeOperation","source-over",(0,_t.getStringValidator)());Ke(xe,"opacity",1,(0,_t.getNumberValidator)());Ke(xe,"name","",(0,_t.getStringValidator)());Ke(xe,"id","",(0,_t.getStringValidator)());Ke(xe,"rotation",0,(0,_t.getNumberValidator)());hu.Factory.addComponentsGetterSetter(xe,"scale",["x","y"]);Ke(xe,"scaleX",1,(0,_t.getNumberValidator)());Ke(xe,"scaleY",1,(0,_t.getNumberValidator)());hu.Factory.addComponentsGetterSetter(xe,"skew",["x","y"]);Ke(xe,"skewX",0,(0,_t.getNumberValidator)());Ke(xe,"skewY",0,(0,_t.getNumberValidator)());hu.Factory.addComponentsGetterSetter(xe,"offset",["x","y"]);Ke(xe,"offsetX",0,(0,_t.getNumberValidator)());Ke(xe,"offsetY",0,(0,_t.getNumberValidator)());Ke(xe,"dragDistance",void 0,(0,_t.getNumberValidator)());Ke(xe,"width",0,(0,_t.getNumberValidator)());Ke(xe,"height",0,(0,_t.getNumberValidator)());Ke(xe,"listening",!0,(0,_t.getBooleanValidator)());Ke(xe,"preventDefault",!0,(0,_t.getBooleanValidator)());Ke(xe,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ke(xe,"visible",!0,(0,_t.getBooleanValidator)());Ke(xe,"transformsEnabled","all",(0,_t.getStringValidator)());Ke(xe,"size");Ke(xe,"dragBoundFunc");Ke(xe,"draggable",!1,(0,_t.getBooleanValidator)());hu.Factory.backCompat(xe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.Container=void 0;const Al=Me,am=st,vf=ve;class ns extends am.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const o=i._isMatch(e);return o&&r.push(i),!!(o&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=am.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=am.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),f=a&&a.scene,h=o&&o.isCache;if(!this.isVisible()&&!h)return this;if(f){s.save();const p=this.getAbsoluteTransform(n).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();const f=this.getAbsoluteTransform(n).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var o;const s=n&&n.getContext(),a=this.clipWidth(),f=this.clipHeight(),h=this.clipFunc(),p=typeof a=="number"&&typeof f=="number"||h,g=r===this;if(p){s.save();const _=this.getAbsoluteTransform(r);let x=_.getMatrix();s.transform(x[0],x[1],x[2],x[3],x[4],x[5]),s.beginPath();let T;if(h)T=h.call(this,s,this);else{const M=this.clipX(),w=this.clipY();s.rect(M||0,w||0,a,f)}s.clip.apply(s,T),x=_.copy().invert().getMatrix(),s.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const y=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";y&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(_){_[e](n,r,i)}),y&&s.restore(),p&&s.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let o,s,a,f,h={x:1/0,y:1/0,width:0,height:0};const p=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(!_.visible())return;const x=_.getClientRect({relativeTo:p,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(o===void 0?(o=x.x,s=x.y,a=x.x+x.width,f=x.y+x.height):(o=Math.min(o,x.x),s=Math.min(s,x.y),a=Math.max(a,x.x+x.width),f=Math.max(f,x.y+x.height)))});const g=this.find("Shape");let y=!1;for(let _=0;_<g.length;_++)if(g[_]._isVisible(this)){y=!0;break}return y&&o!==void 0?h={x:o,y:s,width:a-o,height:f-s}:h={x:0,y:0,width:0,height:0},r?h:this._transformedRect(h,i)}}ts.Container=ns;Al.Factory.addComponentsGetterSetter(ns,"clip",["x","y","width","height"]);Al.Factory.addGetterSetter(ns,"clipX",void 0,(0,vf.getNumberValidator)());Al.Factory.addGetterSetter(ns,"clipY",void 0,(0,vf.getNumberValidator)());Al.Factory.addGetterSetter(ns,"clipWidth",void 0,(0,vf.getNumberValidator)());Al.Factory.addGetterSetter(ns,"clipHeight",void 0,(0,vf.getNumberValidator)());Al.Factory.addGetterSetter(ns,"clipFunc");var px={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.getCapturedShape=$b;uo.createEvent=ny;uo.hasPointerCapture=Kb;uo.setPointerCapture=Yb;uo.releaseCapture=gx;const qb=Ee,eu=new Map,mx=qb.Konva._global.PointerEvent!==void 0;function $b(t){return eu.get(t)}function ny(t){return{evt:t,pointerId:t.pointerId}}function Kb(t,e){return eu.get(t)===e}function Yb(t,e){gx(t),e.getStage()&&(eu.set(t,e),mx&&e._fire("gotpointercapture",ny(new PointerEvent("gotpointercapture"))))}function gx(t,e){const n=eu.get(t);if(!n)return;const r=n.getStage();r&&r.content,eu.delete(t),mx&&n._fire("lostpointercapture",ny(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=ft,n=Me,r=ts,i=Ee,o=dr,s=yf,a=Ee,f=uo,h="Stage",p="string",g="px",y="mouseout",_="mouseleave",x="mouseover",T="mouseenter",M="mousemove",w="mousedown",E="mouseup",C="pointermove",k="pointerdown",I="pointerup",N="pointercancel",F="lostpointercapture",R="pointerout",b="pointerleave",L="pointerover",z="pointerenter",W="contextmenu",X="touchstart",Q="touchend",J="touchmove",fe="touchcancel",pe="wheel",B=5,ee=[[T,"_pointerenter"],[w,"_pointerdown"],[M,"_pointermove"],[E,"_pointerup"],[_,"_pointerleave"],[X,"_pointerdown"],[J,"_pointermove"],[Q,"_pointerup"],[fe,"_pointercancel"],[x,"_pointerover"],[pe,"_wheel"],[W,"_contextmenu"],[k,"_pointerdown"],[C,"_pointermove"],[I,"_pointerup"],[N,"_pointercancel"],[b,"_pointerleave"],[F,"_lostpointercapture"]],Y={mouse:{[R]:y,[b]:_,[L]:x,[z]:T,[C]:M,[k]:w,[I]:E,[N]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[b]:"touchleave",[L]:"touchover",[z]:"touchenter",[C]:J,[k]:X,[I]:Q,[N]:fe,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[b]:b,[L]:L,[z]:z,[C]:C,[k]:k,[I]:I,[N]:N,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},re=ze=>ze.indexOf("pointer")>=0?"pointer":ze.indexOf("touch")>=0?"touch":"mouse",ne=ze=>{const U=re(ze);if(U==="pointer")return i.Konva.pointerEventsEnabled&&Y.pointer;if(U==="touch")return Y.touch;if(U==="mouse")return Y.mouse};function ge(ze={}){return(ze.clipFunc||ze.clipWidth||ze.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ze}const Te="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Qe extends r.Container{constructor(U){super(ge(U)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ge(this.attrs)}),this._checkVisibility()}_validateAdd(U){const Z=U.getType()==="Layer",he=U.getType()==="FastLayer";Z||he||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const U=this.visible()?"":"none";this.content.style.display=U}setContainer(U){if(typeof U===p){let Z;if(U.charAt(0)==="."){const he=U.slice(1);U=document.getElementsByClassName(he)[0]}else U.charAt(0)!=="#"?Z=U:Z=U.slice(1),U=document.getElementById(Z);if(!U)throw"Can not find container in document with id "+Z}return this._setAttr("container",U),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),U.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const U=this.children,Z=U.length;for(let he=0;he<Z;he++)U[he].clear();return this}clone(U){return U||(U={}),U.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,U)}destroy(){super.destroy();const U=this.content;U&&e.Util._isInDocument(U)&&this.container().removeChild(U);const Z=t.stages.indexOf(this);return Z>-1&&t.stages.splice(Z,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const U=this._pointerPositions[0]||this._changedPointerPositions[0];return U?{x:U.x,y:U.y}:(e.Util.warn(Te),null)}_getPointerById(U){return this._pointerPositions.find(Z=>Z.id===U)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(U){U=U||{},U.x=U.x||0,U.y=U.y||0,U.width=U.width||this.width(),U.height=U.height||this.height();const Z=new o.SceneCanvas({width:U.width,height:U.height,pixelRatio:U.pixelRatio||1}),he=Z.getContext()._context,De=this.children;return(U.x||U.y)&&he.translate(-1*U.x,-1*U.y),De.forEach(function(Ce){if(!Ce.isVisible())return;const Ge=Ce._toKonvaCanvas(U);he.drawImage(Ge._canvas,U.x,U.y,Ge.getWidth()/Ge.getPixelRatio(),Ge.getHeight()/Ge.getPixelRatio())}),Z}getIntersection(U){if(!U)return null;const Z=this.children,he=Z.length,De=he-1;for(let Ce=De;Ce>=0;Ce--){const Ge=Z[Ce].getIntersection(U);if(Ge)return Ge}return null}_resizeDOM(){const U=this.width(),Z=this.height();this.content&&(this.content.style.width=U+g,this.content.style.height=Z+g),this.bufferCanvas.setSize(U,Z),this.bufferHitCanvas.setSize(U,Z),this.children.forEach(he=>{he.setSize({width:U,height:Z}),he.draw()})}add(U,...Z){if(arguments.length>1){for(let De=0;De<arguments.length;De++)this.add(arguments[De]);return this}super.add(U);const he=this.children.length;return he>B&&e.Util.warn("The stage has "+he+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),U.setSize({width:this.width(),height:this.height()}),U.draw(),i.Konva.isBrowser&&this.content.appendChild(U.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(U){return f.hasPointerCapture(U,this)}setPointerCapture(U){f.setPointerCapture(U,this)}releaseCapture(U){f.releaseCapture(U,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&ee.forEach(([U,Z])=>{this.content.addEventListener(U,he=>{this[Z](he)},{passive:!1})})}_pointerenter(U){this.setPointersPositions(U);const Z=ne(U.type);Z&&this._fire(Z.pointerenter,{evt:U,target:this,currentTarget:this})}_pointerover(U){this.setPointersPositions(U);const Z=ne(U.type);Z&&this._fire(Z.pointerover,{evt:U,target:this,currentTarget:this})}_getTargetShape(U){let Z=this[U+"targetShape"];return Z&&!Z.getStage()&&(Z=null),Z}_pointerleave(U){const Z=ne(U.type),he=re(U.type);if(!Z)return;this.setPointersPositions(U);const De=this._getTargetShape(he),Ce=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;De&&Ce?(De._fireAndBubble(Z.pointerout,{evt:U}),De._fireAndBubble(Z.pointerleave,{evt:U}),this._fire(Z.pointerleave,{evt:U,target:this,currentTarget:this}),this[he+"targetShape"]=null):Ce&&(this._fire(Z.pointerleave,{evt:U,target:this,currentTarget:this}),this._fire(Z.pointerout,{evt:U,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(U){const Z=ne(U.type),he=re(U.type);if(!Z)return;this.setPointersPositions(U);let De=!1;this._changedPointerPositions.forEach(Ce=>{const Ge=this.getIntersection(Ce);if(s.DD.justDragged=!1,i.Konva["_"+he+"ListenClick"]=!0,!Ge||!Ge.isListening()){this[he+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Ge.setPointerCapture(Ce.id),this[he+"ClickStartShape"]=Ge,Ge._fireAndBubble(Z.pointerdown,{evt:U,pointerId:Ce.id}),De=!0;const Xe=U.type.indexOf("touch")>=0;Ge.preventDefault()&&U.cancelable&&Xe&&U.preventDefault()}),De||this._fire(Z.pointerdown,{evt:U,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(U){const Z=ne(U.type),he=re(U.type);if(!Z||(i.Konva.isDragging()&&s.DD.node.preventDefault()&&U.cancelable&&U.preventDefault(),this.setPointersPositions(U),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const Ce={};let Ge=!1;const Xe=this._getTargetShape(he);this._changedPointerPositions.forEach(mr=>{const We=f.getCapturedShape(mr.id)||this.getIntersection(mr),mi=mr.id,Jn={evt:U,pointerId:mi},gi=Xe!==We;if(gi&&Xe&&(Xe._fireAndBubble(Z.pointerout,{...Jn},We),Xe._fireAndBubble(Z.pointerleave,{...Jn},We)),We){if(Ce[We._id])return;Ce[We._id]=!0}We&&We.isListening()?(Ge=!0,gi&&(We._fireAndBubble(Z.pointerover,{...Jn},Xe),We._fireAndBubble(Z.pointerenter,{...Jn},Xe),this[he+"targetShape"]=We),We._fireAndBubble(Z.pointermove,{...Jn})):Xe&&(this._fire(Z.pointerover,{evt:U,target:this,currentTarget:this,pointerId:mi}),this[he+"targetShape"]=null)}),Ge||this._fire(Z.pointermove,{evt:U,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(U){const Z=ne(U.type),he=re(U.type);if(!Z)return;this.setPointersPositions(U);const De=this[he+"ClickStartShape"],Ce=this[he+"ClickEndShape"],Ge={};let Xe=!1;this._changedPointerPositions.forEach(mr=>{const We=f.getCapturedShape(mr.id)||this.getIntersection(mr);if(We){if(We.releaseCapture(mr.id),Ge[We._id])return;Ge[We._id]=!0}const mi=mr.id,Jn={evt:U,pointerId:mi};let gi=!1;i.Konva["_"+he+"InDblClickWindow"]?(gi=!0,clearTimeout(this[he+"DblTimeout"])):s.DD.justDragged||(i.Konva["_"+he+"InDblClickWindow"]=!0,clearTimeout(this[he+"DblTimeout"])),this[he+"DblTimeout"]=setTimeout(function(){i.Konva["_"+he+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),We&&We.isListening()?(Xe=!0,this[he+"ClickEndShape"]=We,We._fireAndBubble(Z.pointerup,{...Jn}),i.Konva["_"+he+"ListenClick"]&&De&&De===We&&(We._fireAndBubble(Z.pointerclick,{...Jn}),gi&&Ce&&Ce===We&&We._fireAndBubble(Z.pointerdblclick,{...Jn}))):(this[he+"ClickEndShape"]=null,i.Konva["_"+he+"ListenClick"]&&this._fire(Z.pointerclick,{evt:U,target:this,currentTarget:this,pointerId:mi}),gi&&this._fire(Z.pointerdblclick,{evt:U,target:this,currentTarget:this,pointerId:mi}))}),Xe||this._fire(Z.pointerup,{evt:U,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+he+"ListenClick"]=!1,U.cancelable&&he!=="touch"&&he!=="pointer"&&U.preventDefault()}_contextmenu(U){this.setPointersPositions(U);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(W,{evt:U}):this._fire(W,{evt:U,target:this,currentTarget:this})}_wheel(U){this.setPointersPositions(U);const Z=this.getIntersection(this.getPointerPosition());Z&&Z.isListening()?Z._fireAndBubble(pe,{evt:U}):this._fire(pe,{evt:U,target:this,currentTarget:this})}_pointercancel(U){this.setPointersPositions(U);const Z=f.getCapturedShape(U.pointerId)||this.getIntersection(this.getPointerPosition());Z&&Z._fireAndBubble(I,f.createEvent(U)),f.releaseCapture(U.pointerId)}_lostpointercapture(U){f.releaseCapture(U.pointerId)}setPointersPositions(U){const Z=this._getContentPosition();let he=null,De=null;U=U||window.event,U.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(U.touches,Ce=>{this._pointerPositions.push({id:Ce.identifier,x:(Ce.clientX-Z.left)/Z.scaleX,y:(Ce.clientY-Z.top)/Z.scaleY})}),Array.prototype.forEach.call(U.changedTouches||U.touches,Ce=>{this._changedPointerPositions.push({id:Ce.identifier,x:(Ce.clientX-Z.left)/Z.scaleX,y:(Ce.clientY-Z.top)/Z.scaleY})})):(he=(U.clientX-Z.left)/Z.scaleX,De=(U.clientY-Z.top)/Z.scaleY,this.pointerPos={x:he,y:De},this._pointerPositions=[{x:he,y:De,id:e.Util._getFirstPointerId(U)}],this._changedPointerPositions=[{x:he,y:De,id:e.Util._getFirstPointerId(U)}])}_setPointerPosition(U){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(U)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const U=this.content.getBoundingClientRect();return{top:U.top,left:U.left,scaleX:U.width/this.content.clientWidth||1,scaleY:U.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const U=this.container();if(!U)throw"Stage has no container. A container is required.";U.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),U.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(U){U.batchDraw()}),this}}t.Stage=Qe,Qe.prototype.nodeType=h,(0,a._registerNode)(Qe),n.Factory.addGetterSetter(Qe,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(ze=>{ze.batchDraw()})})})(px);var pu={},Rt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Ee,n=ft,r=Me,i=st,o=ve,s=Ee,a=uo,f="hasShadow",h="shadowRGBA",p="patternImage",g="linearGradient",y="radialGradient";let _;function x(){return _||(_=n.Util.createCanvasElement().getContext("2d"),_)}t.shapes={};function T(b){const L=this.attrs.fillRule;L?b.fill(L):b.fill()}function M(b){b.stroke()}function w(b){const L=this.attrs.fillRule;L?b.fill(L):b.fill()}function E(b){b.stroke()}function C(){this._clearCache(f)}function k(){this._clearCache(h)}function I(){this._clearCache(p)}function N(){this._clearCache(g)}function F(){this._clearCache(y)}class R extends i.Node{constructor(L){super(L);let z;for(;z=n.Util.getRandomColor(),!(z&&!(z in t.shapes)););this.colorKey=z,t.shapes[z]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const z=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(z&&z.setTransform){const W=new n.Transform;W.translate(this.fillPatternX(),this.fillPatternY()),W.rotate(e.Konva.getAngle(this.fillPatternRotation())),W.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),W.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const X=W.getMatrix(),Q=typeof DOMMatrix>"u"?{a:X[0],b:X[1],c:X[2],d:X[3],e:X[4],f:X[5]}:new DOMMatrix(X);z.setTransform(Q)}return z}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const L=this.fillLinearGradientColorStops();if(L){const z=x(),W=this.fillLinearGradientStartPoint(),X=this.fillLinearGradientEndPoint(),Q=z.createLinearGradient(W.x,W.y,X.x,X.y);for(let J=0;J<L.length;J+=2)Q.addColorStop(L[J],L[J+1]);return Q}}_getRadialGradient(){return this._getCache(y,this.__getRadialGradient)}__getRadialGradient(){const L=this.fillRadialGradientColorStops();if(L){const z=x(),W=this.fillRadialGradientStartPoint(),X=this.fillRadialGradientEndPoint(),Q=z.createRadialGradient(W.x,W.y,this.fillRadialGradientStartRadius(),X.x,X.y,this.fillRadialGradientEndRadius());for(let J=0;J<L.length;J+=2)Q.addColorStop(L[J],L[J+1]);return Q}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const L=n.Util.colorToRGBA(this.shadowColor());if(L)return"rgba("+L.r+","+L.g+","+L.b+","+L.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const L=this.hitStrokeWidth();return L==="auto"?this.hasStroke():this.strokeEnabled()&&!!L}intersects(L){const z=this.getStage();if(!z)return!1;const W=z.bufferHitCanvas;return W.getContext().clear(),this.drawHit(W,void 0,!0),W.context.getImageData(Math.round(L.x),Math.round(L.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(L){var z;if(!((z=this.attrs.perfectDrawEnabled)!==null&&z!==void 0?z:!0))return!1;const X=L||this.hasFill(),Q=this.hasStroke(),J=this.getAbsoluteOpacity()!==1;if(X&&Q&&J)return!0;const fe=this.hasShadow(),pe=this.shadowForStrokeEnabled();return!!(X&&Q&&fe&&pe)}setStrokeHitEnabled(L){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),L?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const L=this.size();return{x:this._centroid?-L.width/2:0,y:this._centroid?-L.height/2:0,width:L.width,height:L.height}}getClientRect(L={}){let z=!1,W=this.getParent();for(;W;){if(W.isCached()){z=!0;break}W=W.getParent()}const X=L.skipTransform,Q=L.relativeTo||z&&this.getStage()||void 0,J=this.getSelfRect(),pe=!L.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,B=J.width+pe,ee=J.height+pe,Y=!L.skipShadow&&this.hasShadow(),re=Y?this.shadowOffsetX():0,ne=Y?this.shadowOffsetY():0,ge=B+Math.abs(re),Te=ee+Math.abs(ne),Qe=Y&&this.shadowBlur()||0,ze=ge+Qe*2,U=Te+Qe*2,Z={width:ze,height:U,x:-(pe/2+Qe)+Math.min(re,0)+J.x,y:-(pe/2+Qe)+Math.min(ne,0)+J.y};return X?Z:this._transformedRect(Z,Q)}drawScene(L,z,W){const X=this.getLayer(),Q=L||X.getCanvas(),J=Q.getContext(),fe=this._getCanvasCache(),pe=this.getSceneFunc(),B=this.hasShadow();let ee;const Y=!1,re=z===this;if(!this.isVisible()&&!re)return this;if(fe){J.save();const ne=this.getAbsoluteTransform(z).getMatrix();return J.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),this._drawCachedSceneCanvas(J),J.restore(),this}if(!pe)return this;if(J.save(),this._useBufferCanvas()&&!Y){ee=this.getStage();const ne=W||ee.bufferCanvas,ge=ne.getContext();ge.clear(),ge.save(),ge._applyLineJoin(this);const Te=this.getAbsoluteTransform(z).getMatrix();ge.transform(Te[0],Te[1],Te[2],Te[3],Te[4],Te[5]),pe.call(this,ge,this),ge.restore();const Qe=ne.pixelRatio;B&&J._applyShadow(this),J._applyOpacity(this),J._applyGlobalCompositeOperation(this),J.drawImage(ne._canvas,ne.x||0,ne.y||0,ne.width/Qe,ne.height/Qe)}else{if(J._applyLineJoin(this),!re){const ne=this.getAbsoluteTransform(z).getMatrix();J.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),J._applyOpacity(this),J._applyGlobalCompositeOperation(this)}B&&J._applyShadow(this),pe.call(this,J,this)}return J.restore(),this}drawHit(L,z,W=!1){if(!this.shouldDrawHit(z,W))return this;const X=this.getLayer(),Q=L||X.hitCanvas,J=Q&&Q.getContext(),fe=this.hitFunc()||this.sceneFunc(),pe=this._getCanvasCache(),B=pe&&pe.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){J.save();const Y=this.getAbsoluteTransform(z).getMatrix();return J.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),this._drawCachedHitCanvas(J),J.restore(),this}if(!fe)return this;if(J.save(),J._applyLineJoin(this),!(this===z)){const Y=this.getAbsoluteTransform(z).getMatrix();J.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}return fe.call(this,J,this),J.restore(),this}drawHitFromCache(L=0){const z=this._getCanvasCache(),W=this._getCachedSceneCanvas(),X=z.hit,Q=X.getContext(),J=X.getWidth(),fe=X.getHeight();Q.clear(),Q.drawImage(W._canvas,0,0,J,fe);try{const pe=Q.getImageData(0,0,J,fe),B=pe.data,ee=B.length,Y=n.Util._hexToRgb(this.colorKey);for(let re=0;re<ee;re+=4)B[re+3]>L?(B[re]=Y.r,B[re+1]=Y.g,B[re+2]=Y.b,B[re+3]=255):B[re+3]=0;Q.putImageData(pe,0,0)}catch(pe){n.Util.error("Unable to draw hit graph from cached scene canvas. "+pe.message)}return this}hasPointerCapture(L){return a.hasPointerCapture(L,this)}setPointerCapture(L){a.setPointerCapture(L,this)}releaseCapture(L){a.releaseCapture(L,this)}}t.Shape=R,R.prototype._fillFunc=T,R.prototype._strokeFunc=M,R.prototype._fillFuncHit=w,R.prototype._strokeFuncHit=E,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,s._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",k),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",I),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",N),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),r.Factory.addGetterSetter(R,"stroke",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(R,"strokeWidth",2,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(R,"lineJoin"),r.Factory.addGetterSetter(R,"lineCap"),r.Factory.addGetterSetter(R,"sceneFunc"),r.Factory.addGetterSetter(R,"hitFunc"),r.Factory.addGetterSetter(R,"dash"),r.Factory.addGetterSetter(R,"dashOffset",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowColor",void 0,(0,o.getStringValidator)()),r.Factory.addGetterSetter(R,"shadowBlur",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowOpacity",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternImage"),r.Factory.addGetterSetter(R,"fill",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(R,"fillPatternX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(R,"fillEnabled",!0),r.Factory.addGetterSetter(R,"strokeEnabled",!0),r.Factory.addGetterSetter(R,"shadowEnabled",!0),r.Factory.addGetterSetter(R,"dashEnabled",!0),r.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(R,"fillPriority","color"),r.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(R,"fillPatternRotation",0),r.Factory.addGetterSetter(R,"fillRule",void 0,(0,o.getStringValidator)()),r.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Rt);Object.defineProperty(pu,"__esModule",{value:!0});pu.Layer=void 0;const qr=ft,um=ts,As=st,ry=Me,xS=dr,Jb=ve,Qb=Rt,Xb=Ee,Zb="#",jb="beforeDraw",eU="draw",yx=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],tU=yx.length;let Rl=class extends um.Container{constructor(e){super(e),this.canvas=new xS.SceneCanvas,this.hitCanvas=new xS.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){As.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!As.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(As.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(As.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return As.Node.prototype.remove.call(this),e&&e.parentNode&&qr.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&qr.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),As.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){qr.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){qr.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,qr.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<tU;i++){const o=yx[i],s=this._getIntersection({x:e.x+o.x*n,y:e.y+o.y*n}),a=s.shape;if(a)return a;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const o=qr.Util._rgbToHex(r[0],r[1],r[2]),s=Qb.shapes[Zb+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(jb,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),um.Container.prototype.drawScene.call(this,o,n,r),this._fire(eU,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),um.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){qr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return qr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return qr.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};pu.Layer=Rl;Rl.prototype.nodeType="Layer";(0,Xb._registerNode)(Rl);ry.Factory.addGetterSetter(Rl,"imageSmoothingEnabled",!0);ry.Factory.addGetterSetter(Rl,"clearBeforeDraw",!0);ry.Factory.addGetterSetter(Rl,"hitGraphEnabled",!0,(0,Jb.getBooleanValidator)());var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.FastLayer=void 0;const nU=ft,rU=pu,iU=Ee;class iy extends rU.Layer{constructor(e){super(e),this.listening(!1),nU.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Cf.FastLayer=iy;iy.prototype.nodeType="FastLayer";(0,iU._registerNode)(iy);var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.Group=void 0;const oU=ft,sU=ts,lU=Ee;class oy extends sU.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oU.Util.throw("You may only add groups and shapes to groups.")}}Nl.Group=oy;oy.prototype.nodeType="Group";(0,lU._registerNode)(oy);var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.Animation=void 0;const cm=Ee,TS=ft,dm=function(){return cm.glob.performance&&cm.glob.performance.now?function(){return cm.glob.performance.now()}:function(){return new Date().getTime()}}();class Rr{constructor(e,n){this.id=Rr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:dm(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Rr.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=dm(),Rr._addAnimation(this),this}stop(){return Rr._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],o=i.layers,s=i.func;i._updateFrameObject(dm());const a=o.length;let f;if(s?f=s.call(i,i.frame)!==!1:f=!0,!!f)for(let h=0;h<a;h++){const p=o[h];p._id!==void 0&&(e[p._id]=p)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Rr;e.animations.length?(e._runFrames(),TS.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,TS.Util.requestAnimFrame(this._animationLoop))}}Dl.Animation=Rr;Rr.animations=[];Rr.animIdCounter=0;Rr.animRunning=!1;var vx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=ft,n=Dl,r=st,i=Ee,o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,a=2,f=3,h=["fill","stroke","shadowColor"];let p=0;class g{constructor(x,T,M,w,E,C,k){this.prop=x,this.propFunc=T,this.begin=w,this._pos=w,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=k,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=M,this._change=E-this.begin,this.pause()}fire(x){const T=this[x];T&&T()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=f,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===a?this.setTime(x):this.state===f&&this.setTime(this.duration-x)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class y{constructor(x){const T=this,M=x.node,w=M._id,E=x.easing||t.Easings.Linear,C=!!x.yoyo;let k,I;typeof x.duration>"u"?k=.3:x.duration===0?k=.001:k=x.duration,this.node=M,this._id=p++;const N=M.getLayer()||(M instanceof i.Konva.Stage?M.getLayers():null);N||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){T.tween.onEnterFrame()},N),this.tween=new g(I,function(F){T._tweenFunc(F)},E,0,1,k*1e3,C),this._addListeners(),y.attrs[w]||(y.attrs[w]={}),y.attrs[w][this._id]||(y.attrs[w][this._id]={}),y.tweens[w]||(y.tweens[w]={});for(I in x)o[I]===void 0&&this._addAttr(I,x[I]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,T){const M=this.node,w=M._id;let E,C,k,I,N;const F=y.tweens[w][x];F&&delete y.attrs[w][F][x];let R=M.getAttr(x);if(e.Util._isArray(T))if(E=[],C=Math.max(T.length,R.length),x==="points"&&T.length!==R.length&&(T.length>R.length?(I=R,R=e.Util._prepareArrayForTween(R,T,M.closed())):(k=T,T=e.Util._prepareArrayForTween(T,R,M.closed()))),x.indexOf("fill")===0)for(let b=0;b<C;b++)if(b%2===0)E.push(T[b]-R[b]);else{const L=e.Util.colorToRGBA(R[b]);N=e.Util.colorToRGBA(T[b]),R[b]=L,E.push({r:N.r-L.r,g:N.g-L.g,b:N.b-L.b,a:N.a-L.a})}else for(let b=0;b<C;b++)E.push(T[b]-R[b]);else h.indexOf(x)!==-1?(R=e.Util.colorToRGBA(R),N=e.Util.colorToRGBA(T),E={r:N.r-R.r,g:N.g-R.g,b:N.b-R.b,a:N.a-R.a}):E=T-R;y.attrs[w][this._id][x]={start:R,diff:E,end:T,trueEnd:k,trueStart:I},y.tweens[w][x]=this._id}_tweenFunc(x){const T=this.node,M=y.attrs[T._id][this._id];let w,E,C,k,I,N,F,R;for(w in M){if(E=M[w],C=E.start,k=E.diff,R=E.end,e.Util._isArray(C))if(I=[],F=Math.max(C.length,R.length),w.indexOf("fill")===0)for(N=0;N<F;N++)N%2===0?I.push((C[N]||0)+k[N]*x):I.push("rgba("+Math.round(C[N].r+k[N].r*x)+","+Math.round(C[N].g+k[N].g*x)+","+Math.round(C[N].b+k[N].b*x)+","+(C[N].a+k[N].a*x)+")");else for(N=0;N<F;N++)I.push((C[N]||0)+k[N]*x);else h.indexOf(w)!==-1?I="rgba("+Math.round(C.r+k.r*x)+","+Math.round(C.g+k.g*x)+","+Math.round(C.b+k.b*x)+","+(C.a+k.a*x)+")":I=C+k*x;T.setAttr(w,I)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,T=y.attrs[x._id][this._id];T.points&&T.points.trueEnd&&x.setAttr("points",T.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,T=y.attrs[x._id][this._id];T.points&&T.points.trueStart&&x.points(T.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const x=this.node._id,T=this._id,M=y.tweens[x];this.pause(),this.anim&&this.anim.stop();for(const w in M)delete y.tweens[x][w];delete y.attrs[x][T],y.tweens[x]&&(Object.keys(y.tweens[x]).length===0&&delete y.tweens[x],Object.keys(y.attrs[x]).length===0&&delete y.attrs[x])}}t.Tween=y,y.attrs={},y.tweens={},r.Node.prototype.to=function(_){const x=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),x&&x()},new y(_).play()},t.Easings={BackEaseIn(_,x,T,M){return T*(_/=M)*_*((1.70158+1)*_-1.70158)+x},BackEaseOut(_,x,T,M){return T*((_=_/M-1)*_*((1.70158+1)*_+1.70158)+1)+x},BackEaseInOut(_,x,T,M){let w=1.70158;return(_/=M/2)<1?T/2*(_*_*(((w*=1.525)+1)*_-w))+x:T/2*((_-=2)*_*(((w*=1.525)+1)*_+w)+2)+x},ElasticEaseIn(_,x,T,M,w,E){let C=0;return _===0?x:(_/=M)===1?x+T:(E||(E=M*.3),!w||w<Math.abs(T)?(w=T,C=E/4):C=E/(2*Math.PI)*Math.asin(T/w),-(w*Math.pow(2,10*(_-=1))*Math.sin((_*M-C)*(2*Math.PI)/E))+x)},ElasticEaseOut(_,x,T,M,w,E){let C=0;return _===0?x:(_/=M)===1?x+T:(E||(E=M*.3),!w||w<Math.abs(T)?(w=T,C=E/4):C=E/(2*Math.PI)*Math.asin(T/w),w*Math.pow(2,-10*_)*Math.sin((_*M-C)*(2*Math.PI)/E)+T+x)},ElasticEaseInOut(_,x,T,M,w,E){let C=0;return _===0?x:(_/=M/2)===2?x+T:(E||(E=M*(.3*1.5)),!w||w<Math.abs(T)?(w=T,C=E/4):C=E/(2*Math.PI)*Math.asin(T/w),_<1?-.5*(w*Math.pow(2,10*(_-=1))*Math.sin((_*M-C)*(2*Math.PI)/E))+x:w*Math.pow(2,-10*(_-=1))*Math.sin((_*M-C)*(2*Math.PI)/E)*.5+T+x)},BounceEaseOut(_,x,T,M){return(_/=M)<1/2.75?T*(7.5625*_*_)+x:_<2/2.75?T*(7.5625*(_-=1.5/2.75)*_+.75)+x:_<2.5/2.75?T*(7.5625*(_-=2.25/2.75)*_+.9375)+x:T*(7.5625*(_-=2.625/2.75)*_+.984375)+x},BounceEaseIn(_,x,T,M){return T-t.Easings.BounceEaseOut(M-_,0,T,M)+x},BounceEaseInOut(_,x,T,M){return _<M/2?t.Easings.BounceEaseIn(_*2,0,T,M)*.5+x:t.Easings.BounceEaseOut(_*2-M,0,T,M)*.5+T*.5+x},EaseIn(_,x,T,M){return T*(_/=M)*_+x},EaseOut(_,x,T,M){return-T*(_/=M)*(_-2)+x},EaseInOut(_,x,T,M){return(_/=M/2)<1?T/2*_*_+x:-T/2*(--_*(_-2)-1)+x},StrongEaseIn(_,x,T,M){return T*(_/=M)*_*_*_*_+x},StrongEaseOut(_,x,T,M){return T*((_=_/M-1)*_*_*_*_+1)+x},StrongEaseInOut(_,x,T,M){return(_/=M/2)<1?T/2*_*_*_*_*_+x:T/2*((_-=2)*_*_*_*_+2)+x},Linear(_,x,T,M){return T*_/M+x}}})(vx);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Ee,n=ft,r=st,i=ts,o=px,s=pu,a=Cf,f=Nl,h=yf,p=Rt,g=Dl,y=vx,_=ni,x=dr;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:o.Stage,stages:o.stages,Layer:s.Layer,FastLayer:a.FastLayer,Group:f.Group,DD:h.DD,Shape:p.Shape,shapes:p.shapes,Animation:g.Animation,Tween:y.Tween,Easings:y.Easings,Context:_.Context,Canvas:x.Canvas}),t.default=t.Konva})(Vd);var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.Arc=void 0;const _f=Me,aU=Rt,wS=Ee,xf=ve,uU=Ee;class hi extends aU.Shape{_sceneFunc(e){const n=wS.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=wS.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),f=Math.sin(Math.min(i,Math.PI/2)),h=o*(o>0?e:n),p=s*n,g=a*(a>0?e:n),y=f*(f>0?n:e);return{x:h,y:r?-1*y:g,width:p-h,height:y-g}}}Sf.Arc=hi;hi.prototype._centroid=!0;hi.prototype.className="Arc";hi.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,uU._registerNode)(hi);_f.Factory.addGetterSetter(hi,"innerRadius",0,(0,xf.getNumberValidator)());_f.Factory.addGetterSetter(hi,"outerRadius",0,(0,xf.getNumberValidator)());_f.Factory.addGetterSetter(hi,"angle",0,(0,xf.getNumberValidator)());_f.Factory.addGetterSetter(hi,"clockwise",!1,(0,xf.getBooleanValidator)());var Tf={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.Line=void 0;const wf=Me,cU=Ee,dU=Rt,Cx=ve;function Fg(t,e,n,r,i,o,s){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),f=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),h=s*a/(a+f),p=s*f/(a+f),g=n-h*(i-t),y=r-h*(o-e),_=n+p*(i-t),x=r+p*(o-e);return[g,y,_,x]}function ES(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const o=Fg(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(t[i]),r.push(t[i+1]),r.push(o[2]),r.push(o[3]))}return r}let co=class extends dU.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),o=this.closed(),s=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const f=this.getTensionPoints(),h=f.length;for(a=o?0:4,o||e.quadraticCurveTo(f[0],f[1],f[2],f[3]);a<h-2;)e.bezierCurveTo(f[a++],f[a++],f[a++],f[a++],f[a++],f[a++]);o||e.quadraticCurveTo(f[h-2],f[h-1],n[r-2],n[r-1])}else if(s)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ES(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=Fg(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),o=Fg(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),s=ES(e,r);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[n-2],e[n-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let f=0;f<e.length/2;f++)s=e[f*2],a=e[f*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);return{x:n,y:i,width:r-n,height:o-i}}};mu.Line=co;co.prototype.className="Line";co.prototype._attrsAffectingSize=["points","bezier","tension"];(0,cU._registerNode)(co);wf.Factory.addGetterSetter(co,"closed",!1);wf.Factory.addGetterSetter(co,"bezier",!1);wf.Factory.addGetterSetter(co,"tension",0,(0,Cx.getNumberValidator)());wf.Factory.addGetterSetter(co,"points",[],(0,Cx.getNumberArrayValidator)());var Fl={},Sx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,a,f)=>{let h,p;const y=f/2;h=0;for(let _=0;_<20;_++)p=y*t.tValues[20][_]+y,h+=t.cValues[20][_]*r(s,a,p);return y*h};t.getCubicArcLength=e;const n=(s,a,f)=>{f===void 0&&(f=1);const h=s[0]-2*s[1]+s[2],p=a[0]-2*a[1]+a[2],g=2*s[1]-2*s[0],y=2*a[1]-2*a[0],_=4*(h*h+p*p),x=4*(h*g+p*y),T=g*g+y*y;if(_===0)return f*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(a[2]-a[0],2));const M=x/(2*_),w=T/_,E=f+M,C=w-M*M,k=E*E+C>0?Math.sqrt(E*E+C):0,I=M*M+C>0?Math.sqrt(M*M+C):0,N=M+Math.sqrt(M*M+C)!==0?C*Math.log(Math.abs((E+k)/(M+I))):0;return Math.sqrt(_)/2*(E*k-M*I+N)};t.getQuadraticArcLength=n;function r(s,a,f){const h=i(1,f,s),p=i(1,f,a),g=h*h+p*p;return Math.sqrt(g)}const i=(s,a,f)=>{const h=f.length-1;let p,g;if(h===0)return 0;if(s===0){g=0;for(let y=0;y<=h;y++)g+=t.binomialCoefficients[h][y]*Math.pow(1-a,h-y)*Math.pow(a,y)*f[y];return g}else{p=new Array(h);for(let y=0;y<h;y++)p[y]=h*(f[y+1]-f[y]);return i(s-1,a,p)}},o=(s,a,f)=>{let h=1,p=s/a,g=(s-f(p))/a,y=0;for(;h>.001;){const _=f(p+g),x=Math.abs(s-_)/a;if(x<h)h=x,p+=g;else{const T=f(p-g),M=Math.abs(s-T)/a;M<h?(h=M,p-=g):g/=2}if(y++,y>500)break}return p};t.t2length=o})(Sx);Object.defineProperty(Fl,"__esModule",{value:!0});Fl.Path=void 0;const fU=Me,hU=Ee,pU=Rt,Rs=Sx;class Pt extends pU.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Pt.parsePathData(this.data()),this.pathLength=Pt.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const o=n[i].command,s=n[i].points;switch(o){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":const a=s[0],f=s[1],h=s[2],p=s[3],g=s[4],y=s[5],_=s[6],x=s[7],T=h>p?h:p,M=h>p?1:h/p,w=h>p?p/h:1;e.translate(a,f),e.rotate(_),e.scale(M,w),e.arc(0,0,T,g,g+y,1-x),e.scale(1/M,1/w),e.rotate(-_),e.translate(-a,-f);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(f){if(f.command==="A"){const h=f.points[4],p=f.points[5],g=f.points[4]+p;let y=Math.PI/180;if(Math.abs(h-g)<y&&(y=Math.abs(h-g)),p<0)for(let _=h-y;_>g;_-=y){const x=Pt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,0);e.push(x.x,x.y)}else for(let _=h+y;_<g;_+=y){const x=Pt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,0);e.push(x.x,x.y)}}else if(f.command==="C")for(let h=0;h<=1;h+=.01){const p=Pt.getPointOnCubicBezier(h,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);e.push(p.x,p.y)}else e=e.concat(f.points)});let n=e[0],r=e[0],i=e[1],o=e[1],s,a;for(let f=0;f<e.length/2;f++)s=e[f*2],a=e[f*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:n,y:i,width:r-n,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return Pt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,o=n.length;if(!o)return null;for(;i<o&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===o)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const s=n[i],a=s.points;switch(s.command){case"L":return Pt.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return Pt.getPointOnCubicBezier((0,Rs.t2length)(e,Pt.getPathLength(n),T=>(0,Rs.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],T)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Pt.getPointOnQuadraticBezier((0,Rs.t2length)(e,Pt.getPathLength(n),T=>(0,Rs.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],T)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":const f=a[0],h=a[1],p=a[2],g=a[3],y=a[5],_=a[6];let x=a[4];return x+=y*e/s.pathLength,Pt.getPointOnEllipticalArc(f,h,p,g,x,_)}return null}static getPointOnLine(e,n,r,i,o,s,a){s=s??n,a=a??r;const f=this.getLineLength(n,r,i,o);if(f<1e-10)return{x:n,y:r};if(i===n)return{x:s,y:a+(o>r?e:-e)};const h=(o-r)/(i-n),p=Math.sqrt(e*e/(1+h*h))*(i<n?-1:1),g=h*p;if(Math.abs(a-r-h*(s-n))<1e-10)return{x:s+p,y:a+g};const y=((s-n)*(i-n)+(a-r)*(o-r))/(f*f),_=n+y*(i-n),x=r+y*(o-r),T=this.getLineLength(s,a,_,x),M=Math.sqrt(e*e-T*T),w=Math.sqrt(M*M/(1+h*h))*(i<n?-1:1),E=h*w;return{x:_+w,y:x+E}}static getPointOnCubicBezier(e,n,r,i,o,s,a,f,h){function p(M){return M*M*M}function g(M){return 3*M*M*(1-M)}function y(M){return 3*M*(1-M)*(1-M)}function _(M){return(1-M)*(1-M)*(1-M)}const x=f*p(e)+s*g(e)+i*y(e)+n*_(e),T=h*p(e)+a*g(e)+o*y(e)+r*_(e);return{x,y:T}}static getPointOnQuadraticBezier(e,n,r,i,o,s,a){function f(_){return _*_}function h(_){return 2*_*(1-_)}function p(_){return(1-_)*(1-_)}const g=s*f(e)+i*h(e)+n*p(e),y=a*f(e)+o*h(e)+r*p(e);return{x:g,y}}static getPointOnEllipticalArc(e,n,r,i,o,s){const a=Math.cos(s),f=Math.sin(s),h={x:r*Math.cos(o),y:i*Math.sin(o)};return{x:e+(h.x*a-h.y*f),y:n+(h.x*f+h.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<r.length;g++)n=n.replace(new RegExp(r[g],"g"),"|"+r[g]);const i=n.split("|"),o=[],s=[];let a=0,f=0;const h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let p;for(let g=1;g<i.length;g++){let y=i[g],_=y.charAt(0);for(y=y.slice(1),s.length=0;p=h.exec(y);)s.push(p[0]);const x=[];for(let T=0,M=s.length;T<M;T++){if(s[T]==="00"){x.push(0,0);continue}const w=parseFloat(s[T]);isNaN(w)?x.push(0):x.push(w)}for(;x.length>0&&!isNaN(x[0]);){let T="",M=[];const w=a,E=f;let C,k,I,N,F,R,b,L,z,W;switch(_){case"l":a+=x.shift(),f+=x.shift(),T="L",M.push(a,f);break;case"L":a=x.shift(),f=x.shift(),M.push(a,f);break;case"m":const X=x.shift(),Q=x.shift();if(a+=X,f+=Q,T="M",o.length>2&&o[o.length-1].command==="z"){for(let J=o.length-2;J>=0;J--)if(o[J].command==="M"){a=o[J].points[0]+X,f=o[J].points[1]+Q;break}}M.push(a,f),_="l";break;case"M":a=x.shift(),f=x.shift(),T="M",M.push(a,f),_="L";break;case"h":a+=x.shift(),T="L",M.push(a,f);break;case"H":a=x.shift(),T="L",M.push(a,f);break;case"v":f+=x.shift(),T="L",M.push(a,f);break;case"V":f=x.shift(),T="L",M.push(a,f);break;case"C":M.push(x.shift(),x.shift(),x.shift(),x.shift()),a=x.shift(),f=x.shift(),M.push(a,f);break;case"c":M.push(a+x.shift(),f+x.shift(),a+x.shift(),f+x.shift()),a+=x.shift(),f+=x.shift(),T="C",M.push(a,f);break;case"S":k=a,I=f,C=o[o.length-1],C.command==="C"&&(k=a+(a-C.points[2]),I=f+(f-C.points[3])),M.push(k,I,x.shift(),x.shift()),a=x.shift(),f=x.shift(),T="C",M.push(a,f);break;case"s":k=a,I=f,C=o[o.length-1],C.command==="C"&&(k=a+(a-C.points[2]),I=f+(f-C.points[3])),M.push(k,I,a+x.shift(),f+x.shift()),a+=x.shift(),f+=x.shift(),T="C",M.push(a,f);break;case"Q":M.push(x.shift(),x.shift()),a=x.shift(),f=x.shift(),M.push(a,f);break;case"q":M.push(a+x.shift(),f+x.shift()),a+=x.shift(),f+=x.shift(),T="Q",M.push(a,f);break;case"T":k=a,I=f,C=o[o.length-1],C.command==="Q"&&(k=a+(a-C.points[0]),I=f+(f-C.points[1])),a=x.shift(),f=x.shift(),T="Q",M.push(k,I,a,f);break;case"t":k=a,I=f,C=o[o.length-1],C.command==="Q"&&(k=a+(a-C.points[0]),I=f+(f-C.points[1])),a+=x.shift(),f+=x.shift(),T="Q",M.push(k,I,a,f);break;case"A":N=x.shift(),F=x.shift(),R=x.shift(),b=x.shift(),L=x.shift(),z=a,W=f,a=x.shift(),f=x.shift(),T="A",M=this.convertEndpointToCenterParameterization(z,W,a,f,b,L,N,F,R);break;case"a":N=x.shift(),F=x.shift(),R=x.shift(),b=x.shift(),L=x.shift(),z=a,W=f,a+=x.shift(),f+=x.shift(),T="A",M=this.convertEndpointToCenterParameterization(z,W,a,f,b,L,N,F,R);break}o.push({command:T||_,points:M,start:{x:w,y:E},pathLength:this.calcLength(w,E,T||_,M)})}(_==="z"||_==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,i){let o,s,a,f;const h=Pt;switch(r){case"L":return h.getLineLength(e,n,i[0],i[1]);case"C":return(0,Rs.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,Rs.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":o=0;const p=i[4],g=i[5],y=i[4]+g;let _=Math.PI/180;if(Math.abs(p-y)<_&&(_=Math.abs(p-y)),s=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),g<0)for(f=p-_;f>y;f-=_)a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=h.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(f=p+_;f<y;f+=_)a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=h.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],y,0),o+=h.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,n,r,i,o,s,a,f,h){const p=h*(Math.PI/180),g=Math.cos(p)*(e-r)/2+Math.sin(p)*(n-i)/2,y=-1*Math.sin(p)*(e-r)/2+Math.cos(p)*(n-i)/2,_=g*g/(a*a)+y*y/(f*f);_>1&&(a*=Math.sqrt(_),f*=Math.sqrt(_));let x=Math.sqrt((a*a*(f*f)-a*a*(y*y)-f*f*(g*g))/(a*a*(y*y)+f*f*(g*g)));o===s&&(x*=-1),isNaN(x)&&(x=0);const T=x*a*y/f,M=x*-f*g/a,w=(e+r)/2+Math.cos(p)*T-Math.sin(p)*M,E=(n+i)/2+Math.sin(p)*T+Math.cos(p)*M,C=function(L){return Math.sqrt(L[0]*L[0]+L[1]*L[1])},k=function(L,z){return(L[0]*z[0]+L[1]*z[1])/(C(L)*C(z))},I=function(L,z){return(L[0]*z[1]<L[1]*z[0]?-1:1)*Math.acos(k(L,z))},N=I([1,0],[(g-T)/a,(y-M)/f]),F=[(g-T)/a,(y-M)/f],R=[(-1*g-T)/a,(-1*y-M)/f];let b=I(F,R);return k(F,R)<=-1&&(b=Math.PI),k(F,R)>=1&&(b=0),s===0&&b>0&&(b=b-2*Math.PI),s===1&&b<0&&(b=b+2*Math.PI),[w,E,a,f,N,b,p,s]}}Fl.Path=Pt;Pt.prototype.className="Path";Pt.prototype._attrsAffectingSize=["data"];(0,hU._registerNode)(Pt);fU.Factory.addGetterSetter(Pt,"data");Object.defineProperty(Tf,"__esModule",{value:!0});Tf.Arrow=void 0;const Ef=Me,mU=mu,_x=ve,gU=Ee,kS=Fl;class rs extends mU.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const o=this.tension()!==0&&r.length>4;o&&(i=this.getTensionPoints());const s=this.pointerLength(),a=r.length;let f,h;if(o){const y=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],_=kS.Path.calcLength(i[i.length-4],i[i.length-3],"C",y),x=kS.Path.getPointOnQuadraticBezier(Math.min(1,1-s/_),y[0],y[1],y[2],y[3],y[4],y[5]);f=r[a-2]-x.x,h=r[a-1]-x.y}else f=r[a-2]-r[a-4],h=r[a-1]-r[a-3];const p=(Math.atan2(h,f)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(p),e.moveTo(0,0),e.lineTo(-s,g/2),e.lineTo(-s,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(f=(i[0]+i[2])/2-r[0],h=(i[1]+i[3])/2-r[1]):(f=r[2]-r[0],h=r[3]-r[1]),e.rotate((Math.atan2(-h,-f)+n)%n),e.moveTo(0,0),e.lineTo(-s,g/2),e.lineTo(-s,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Tf.Arrow=rs;rs.prototype.className="Arrow";(0,gU._registerNode)(rs);Ef.Factory.addGetterSetter(rs,"pointerLength",10,(0,_x.getNumberValidator)());Ef.Factory.addGetterSetter(rs,"pointerWidth",10,(0,_x.getNumberValidator)());Ef.Factory.addGetterSetter(rs,"pointerAtBeginning",!1);Ef.Factory.addGetterSetter(rs,"pointerAtEnding",!0);var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.Circle=void 0;const yU=Me,vU=Rt,CU=ve,SU=Ee;class Ll extends vU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}kf.Circle=Ll;Ll.prototype._centroid=!0;Ll.prototype.className="Circle";Ll.prototype._attrsAffectingSize=["radius"];(0,SU._registerNode)(Ll);yU.Factory.addGetterSetter(Ll,"radius",0,(0,CU.getNumberValidator)());var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.Ellipse=void 0;const sy=Me,_U=Rt,xx=ve,xU=Ee;class fo extends _U.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Pf.Ellipse=fo;fo.prototype.className="Ellipse";fo.prototype._centroid=!0;fo.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,xU._registerNode)(fo);sy.Factory.addComponentsGetterSetter(fo,"radius",["x","y"]);sy.Factory.addGetterSetter(fo,"radiusX",0,(0,xx.getNumberValidator)());sy.Factory.addGetterSetter(fo,"radiusY",0,(0,xx.getNumberValidator)());var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.Image=void 0;const fm=ft,is=Me,TU=Rt,wU=Ee,gu=ve;let Lr=class Tx extends TU.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image;let s;if(o){const a=this.attrs.cropWidth,f=this.attrs.cropHeight;a&&f?s=[o,this.cropX(),this.cropY(),a,f,0,0,n,r]:s=[o,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?fm.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?fm.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const i=fm.Util.createImageElement();i.onload=function(){const o=new Tx({image:i});n(o)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Mf.Image=Lr;Lr.prototype.className="Image";(0,wU._registerNode)(Lr);is.Factory.addGetterSetter(Lr,"cornerRadius",0,(0,gu.getNumberOrArrayOfNumbersValidator)(4));is.Factory.addGetterSetter(Lr,"image");is.Factory.addComponentsGetterSetter(Lr,"crop",["x","y","width","height"]);is.Factory.addGetterSetter(Lr,"cropX",0,(0,gu.getNumberValidator)());is.Factory.addGetterSetter(Lr,"cropY",0,(0,gu.getNumberValidator)());is.Factory.addGetterSetter(Lr,"cropWidth",0,(0,gu.getNumberValidator)());is.Factory.addGetterSetter(Lr,"cropHeight",0,(0,gu.getNumberValidator)());var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.Tag=vl.Label=void 0;const If=Me,EU=Rt,kU=Nl,ly=ve,wx=Ee,Ex=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],PU="Change.konva",MU="none",Lg="up",bg="right",Ug="down",Gg="left",IU=Ex.length;class ay extends kU.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<IU;r++)e.on(Ex[r]+PU,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,o,s,a,f,h;if(e&&n){switch(r=e.width(),i=e.height(),o=n.pointerDirection(),s=n.pointerWidth(),h=n.pointerHeight(),a=0,f=0,o){case Lg:a=r/2,f=-1*h;break;case bg:a=r+s,f=i/2;break;case Ug:a=r/2,f=i+h;break;case Gg:a=-1*s,f=i/2;break}n.setAttrs({x:-1*a,y:-1*f,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*f})}}}vl.Label=ay;ay.prototype.className="Label";(0,wx._registerNode)(ay);class os extends EU.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let f=0,h=0,p=0,g=0;typeof a=="number"?f=h=p=g=Math.min(a,n/2,r/2):(f=Math.min(a[0]||0,n/2,r/2),h=Math.min(a[1]||0,n/2,r/2),g=Math.min(a[2]||0,n/2,r/2),p=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(f,0),i===Lg&&(e.lineTo((n-o)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+o)/2,0)),e.lineTo(n-h,0),e.arc(n-h,h,h,Math.PI*3/2,0,!1),i===bg&&(e.lineTo(n,(r-s)/2),e.lineTo(n+o,r/2),e.lineTo(n,(r+s)/2)),e.lineTo(n,r-g),e.arc(n-g,r-g,g,0,Math.PI/2,!1),i===Ug&&(e.lineTo((n+o)/2,r),e.lineTo(n/2,r+s),e.lineTo((n-o)/2,r)),e.lineTo(p,r),e.arc(p,r-p,p,Math.PI/2,Math.PI,!1),i===Gg&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,f),e.arc(f,f,f,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===Lg?(n-=i,a+=i):o===Ug?a+=i:o===Gg?(e-=r*1.5,s+=r):o===bg&&(s+=r*1.5),{x:e,y:n,width:s,height:a}}}vl.Tag=os;os.prototype.className="Tag";(0,wx._registerNode)(os);If.Factory.addGetterSetter(os,"pointerDirection",MU);If.Factory.addGetterSetter(os,"pointerWidth",0,(0,ly.getNumberValidator)());If.Factory.addGetterSetter(os,"pointerHeight",0,(0,ly.getNumberValidator)());If.Factory.addGetterSetter(os,"cornerRadius",0,(0,ly.getNumberOrArrayOfNumbersValidator)(4));var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.Rect=void 0;const AU=Me,RU=Rt,NU=Ee,DU=ft,FU=ve;class Af extends RU.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?DU.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}yu.Rect=Af;Af.prototype.className="Rect";(0,NU._registerNode)(Af);AU.Factory.addGetterSetter(Af,"cornerRadius",0,(0,FU.getNumberOrArrayOfNumbersValidator)(4));var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.RegularPolygon=void 0;const kx=Me,LU=Rt,Px=ve,bU=Ee;class ss extends LU.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:n,y:i,width:r-n,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Rf.RegularPolygon=ss;ss.prototype.className="RegularPolygon";ss.prototype._centroid=!0;ss.prototype._attrsAffectingSize=["radius"];(0,bU._registerNode)(ss);kx.Factory.addGetterSetter(ss,"radius",0,(0,Px.getNumberValidator)());kx.Factory.addGetterSetter(ss,"sides",0,(0,Px.getNumberValidator)());var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Ring=void 0;const Mx=Me,UU=Rt,Ix=ve,GU=Ee,PS=Math.PI*2;class ls extends UU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,PS,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),PS,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Nf.Ring=ls;ls.prototype.className="Ring";ls.prototype._centroid=!0;ls.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,GU._registerNode)(ls);Mx.Factory.addGetterSetter(ls,"innerRadius",0,(0,Ix.getNumberValidator)());Mx.Factory.addGetterSetter(ls,"outerRadius",0,(0,Ix.getNumberValidator)());var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.Sprite=void 0;const as=Me,VU=Rt,OU=Dl,Ax=ve,BU=Ee;class br extends VU.Shape{constructor(e){super(e),this._updated=!0,this.anim=new OU.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[n],s=this.frameOffsets(),a=o[i+0],f=o[i+1],h=o[i+2],p=o[i+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,p),e.closePath(),e.fillStrokeShape(this)),g)if(s){const y=s[n],_=r*2;e.drawImage(g,a,f,h,p,y[_+0],y[_+1],h,p)}else e.drawImage(g,a,f,h,p,0,0,h,p)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,o=this.animations()[n],s=this.frameOffsets(),a=o[i+2],f=o[i+3];if(e.beginPath(),s){const h=s[n],p=r*2;e.rect(h[p+0],h[p+1],a,f)}else e.rect(0,0,a,f);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}}Df.Sprite=br;br.prototype.className="Sprite";(0,BU._registerNode)(br);as.Factory.addGetterSetter(br,"animation");as.Factory.addGetterSetter(br,"animations");as.Factory.addGetterSetter(br,"frameOffsets");as.Factory.addGetterSetter(br,"image");as.Factory.addGetterSetter(br,"frameIndex",0,(0,Ax.getNumberValidator)());as.Factory.addGetterSetter(br,"frameRate",17,(0,Ax.getNumberValidator)());as.Factory.backCompat(br,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.Star=void 0;const uy=Me,zU=Rt,cy=ve,HU=Ee;class ho extends zU.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<i*2;o++){const s=o%2===0?r:n,a=s*Math.sin(o*Math.PI/i),f=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,f)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ff.Star=ho;ho.prototype.className="Star";ho.prototype._centroid=!0;ho.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,HU._registerNode)(ho);uy.Factory.addGetterSetter(ho,"numPoints",5,(0,cy.getNumberValidator)());uy.Factory.addGetterSetter(ho,"innerRadius",0,(0,cy.getNumberValidator)());uy.Factory.addGetterSetter(ho,"outerRadius",0,(0,cy.getNumberValidator)());var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.Text=void 0;bl.stringToArray=Ro;const Vg=ft,nn=Me,WU=Rt,hm=Ee,po=ve,qU=Ee;function Ro(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(n+o),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Ns="auto",$U="center",Rx="inherit",pa="justify",KU="Change.konva",YU="2d",MS="-",Nx="left",JU="text",QU="Text",XU="top",ZU="bottom",IS="middle",Dx="normal",jU="px ",Bc=" ",eG="right",AS="rtl",tG="word",nG="char",RS="none",pm="",Fx=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],rG=Fx.length;function iG(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let zc;function mm(){return zc||(zc=Vg.Util.createCanvasElement().getContext(YU),zc)}function oG(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function sG(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function lG(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class yt extends WU.Shape{constructor(e){super(lG(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<rG;n++)this.on(Fx[n]+KU,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),f=this.direction(),h=0,p=this.align(),g=this.getWidth(),y=this.letterSpacing(),_=this.fill(),x=this.textDecoration(),T=x.indexOf("underline")!==-1,M=x.indexOf("line-through")!==-1,w;f=f===Rx?e.direction:f;let E=s/2,C=IS;if(hm.Konva._fixTextRendering){const k=this.measureSize("M");C="alphabetic",E=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+s/2}for(f===AS&&e.setAttr("direction",f),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",C),e.setAttr("textAlign",Nx),a===IS?h=(this.getHeight()-r*s-i*2)/2:a===ZU&&(h=this.getHeight()-r*s-i*2),e.translate(i,h+i),w=0;w<r;w++){let k=0,I=0;const N=n[w],F=N.text,R=N.width,b=N.lastInParagraph;if(e.save(),p===eG?k+=g-R-i*2:p===$U&&(k+=(g-R-i*2)/2),T){e.save(),e.beginPath();const L=hm.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),z=k,W=E+I+L;e.moveTo(z,W);const X=p===pa&&!b?g-i*2:R;e.lineTo(z+Math.round(X),W),e.lineWidth=o/15;const Q=this._getLinearGradient();e.strokeStyle=Q||_,e.stroke(),e.restore()}if(M){e.save(),e.beginPath();const L=hm.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(k,E+I+L);const z=p===pa&&!b?g-i*2:R;e.lineTo(k+Math.round(z),E+I+L),e.lineWidth=o/15;const W=this._getLinearGradient();e.strokeStyle=W||_,e.stroke(),e.restore()}if(f!==AS&&(y!==0||p===pa)){const L=F.split(" ").length-1,z=Ro(F);for(let W=0;W<z.length;W++){const X=z[W];X===" "&&!b&&p===pa&&(k+=(g-i*2-R)/L),this._partialTextX=k,this._partialTextY=E+I,this._partialText=X,e.fillStrokeShape(this),k+=this.measureSize(X).width+y}}else y!==0&&e.setAttr("letterSpacing",`${y}px`),this._partialTextX=k,this._partialTextY=E+I,this._partialText=F,e.fillStrokeShape(this);e.restore(),r>1&&(E+=s)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Vg.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(JU,n),this}getWidth(){return this.attrs.width===Ns||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Ns||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Vg.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,o,s,a,f,h,p,g,y;let _=mm(),x=this.fontSize(),T;_.save(),_.font=this._getContextFont(),T=_.measureText(e),_.restore();const M=x/100;return{actualBoundingBoxAscent:(n=T.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*M,actualBoundingBoxDescent:(r=T.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=T.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*M,actualBoundingBoxRight:(o=T.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*M,alphabeticBaseline:(s=T.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=T.emHeightAscent)!==null&&a!==void 0?a:100*M,emHeightDescent:(f=T.emHeightDescent)!==null&&f!==void 0?f:-20*M,fontBoundingBoxAscent:(h=T.fontBoundingBoxAscent)!==null&&h!==void 0?h:91*M,fontBoundingBoxDescent:(p=T.fontBoundingBoxDescent)!==null&&p!==void 0?p:21*M,hangingBaseline:(g=T.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*M,ideographicBaseline:(y=T.ideographicBaseline)!==null&&y!==void 0?y:-21*M,width:T.width,height:x}}_getContextFont(){return this.fontStyle()+Bc+this.fontVariant()+Bc+(this.fontSize()+jU)+iG(this.fontFamily())}_addTextLine(e){this.align()===pa&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return mm().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,o=this.attrs.width,s=this.attrs.height,a=o!==Ns&&o!==void 0,f=s!==Ns&&s!==void 0,h=this.padding(),p=o-h*2,g=s-h*2,y=0,_=this.wrap(),x=_!==RS,T=_!==nG&&x,M=this.ellipsis();this.textArr=[],mm().font=this._getContextFont();const w=M?this._getTextWidth(pm):0;for(let E=0,C=e.length;E<C;++E){let k=e[E],I=this._getTextWidth(k);if(a&&I>p)for(;k.length>0;){let N=0,F=Ro(k).length,R="",b=0;for(;N<F;){const L=N+F>>>1,z=Ro(k),W=z.slice(0,L+1).join(""),X=this._getTextWidth(W);(M&&f&&y+i>g?X+w:X)<=p?(N=L+1,R=W,b=X):F=L}if(R){if(T){const W=Ro(k),X=Ro(R),Q=W[X.length],J=Q===Bc||Q===MS;let fe;if(J&&b<=p)fe=X.length;else{const pe=X.lastIndexOf(Bc),B=X.lastIndexOf(MS);fe=Math.max(pe,B)+1}fe>0&&(N=fe,R=W.slice(0,N).join(""),b=this._getTextWidth(R))}if(R=R.trimRight(),this._addTextLine(R),r=Math.max(r,b),y+=i,this._shouldHandleEllipsis(y)){this._tryToAddEllipsisToLastLine();break}if(k=Ro(k).slice(N).join("").trimLeft(),k.length>0&&(I=this._getTextWidth(k),I<=p)){this._addTextLine(k),y+=i,r=Math.max(r,I);break}}else break}else this._addTextLine(k),y+=i,r=Math.max(r,I),this._shouldHandleEllipsis(y)&&E<C-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),f&&y+i>g)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,o=i!==Ns&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==RS)||o&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Ns&&e!==void 0,r=this.padding(),i=e-r*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(n&&(this._getTextWidth(s.text+pm)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+pm))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}bl.Text=yt;yt.prototype._fillFunc=oG;yt.prototype._strokeFunc=sG;yt.prototype.className=QU;yt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,qU._registerNode)(yt);nn.Factory.overWriteSetter(yt,"width",(0,po.getNumberOrAutoValidator)());nn.Factory.overWriteSetter(yt,"height",(0,po.getNumberOrAutoValidator)());nn.Factory.addGetterSetter(yt,"direction",Rx);nn.Factory.addGetterSetter(yt,"fontFamily","Arial");nn.Factory.addGetterSetter(yt,"fontSize",12,(0,po.getNumberValidator)());nn.Factory.addGetterSetter(yt,"fontStyle",Dx);nn.Factory.addGetterSetter(yt,"fontVariant",Dx);nn.Factory.addGetterSetter(yt,"padding",0,(0,po.getNumberValidator)());nn.Factory.addGetterSetter(yt,"align",Nx);nn.Factory.addGetterSetter(yt,"verticalAlign",XU);nn.Factory.addGetterSetter(yt,"lineHeight",1,(0,po.getNumberValidator)());nn.Factory.addGetterSetter(yt,"wrap",tG);nn.Factory.addGetterSetter(yt,"ellipsis",!1,(0,po.getBooleanValidator)());nn.Factory.addGetterSetter(yt,"letterSpacing",0,(0,po.getNumberValidator)());nn.Factory.addGetterSetter(yt,"text","",(0,po.getStringValidator)());nn.Factory.addGetterSetter(yt,"textDecoration","");var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.TextPath=void 0;const gm=ft,pr=Me,aG=Rt,ma=Fl,ym=bl,Lx=ve,uG=Ee,cG="",bx="normal";function Ux(t){t.fillText(this.partialText,0,0)}function Gx(t){t.strokeText(this.partialText,0,0)}class Nt extends aG.Shape{constructor(e){super(e),this.dummyCanvas=gm.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ma.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:ma.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ma.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),o=this.glyphInfo;n==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();const a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),n==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return gm.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return ym.Text.prototype.setText.call(this,e)}_getContextFont(){return ym.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));const f=(0,ym.stringToArray)(this.text());let h=a;for(let p=0;p<f.length;p++){const g=this._getPointAtLength(h);if(!g)return;let y=this._getTextSize(f[p]).width+r;if(f[p]===" "&&i==="justify"){const E=this.text().split(" ").length-1;y+=(this.pathLength-s)/E}const _=this._getPointAtLength(h+y);if(!_)return;const x=ma.Path.getLineLength(g.x,g.y,_.x,_.y);let T=0;if(o)try{T=o(f[p-1],f[p])*this.fontSize()}catch{T=0}g.x+=T,_.x+=T,this.textWidth+=T;const M=ma.Path.getPointOnLine(T+x/2,g.x,g.y,_.x,_.y),w=Math.atan2(_.y-g.y,_.x-g.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:f[p],rotation:w,p0:g,p1:_}),h+=y}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let h=0;h<e.length/2;h++)s=e[h*2],a=e[h*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,a),o=Math.max(o,a);const f=this.fontSize();return{x:n-f/2,y:i-f/2,width:r-n+f,height:o-i+f}}destroy(){return gm.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Lf.TextPath=Nt;Nt.prototype._fillFunc=Ux;Nt.prototype._strokeFunc=Gx;Nt.prototype._fillFuncHit=Ux;Nt.prototype._strokeFuncHit=Gx;Nt.prototype.className="TextPath";Nt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,uG._registerNode)(Nt);pr.Factory.addGetterSetter(Nt,"data");pr.Factory.addGetterSetter(Nt,"fontFamily","Arial");pr.Factory.addGetterSetter(Nt,"fontSize",12,(0,Lx.getNumberValidator)());pr.Factory.addGetterSetter(Nt,"fontStyle",bx);pr.Factory.addGetterSetter(Nt,"align","left");pr.Factory.addGetterSetter(Nt,"letterSpacing",0,(0,Lx.getNumberValidator)());pr.Factory.addGetterSetter(Nt,"textBaseline","middle");pr.Factory.addGetterSetter(Nt,"fontVariant",bx);pr.Factory.addGetterSetter(Nt,"text",cG);pr.Factory.addGetterSetter(Nt,"textDecoration","");pr.Factory.addGetterSetter(Nt,"kerningFunc",void 0);var bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.Transformer=void 0;const He=ft,Oe=Me,NS=st,dG=Rt,fG=yu,DS=Nl,rr=Ee,mo=ve,hG=Ee,Vx="tr-konva",pG=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Vx}`).join(" "),FS="nodesRect",mG=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],gG={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},yG="ontouchstart"in rr.Konva._global;function vG(t,e,n){if(t==="rotater")return n;e+=He.Util.degToRad(gG[t]||0);const r=(He.Util.radToDeg(e)%360+360)%360;return He.Util._inRange(r,315+22.5,360)||He.Util._inRange(r,0,22.5)?"ns-resize":He.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":He.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":He.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":He.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":He.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":He.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":He.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(He.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Bd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],LS=1e8;function CG(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Ox(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function SG(t,e){const n=CG(t);return Ox(t,e,n)}function _G(t,e,n){let r=e;for(let i=0;i<t.length;i++){const o=rr.Konva.getAngle(t[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=o)}return r}let Og=0;class Ne extends DS.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(pG,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return He.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Vx+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(He.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(mG.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),o=i.x-n.x,s=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const f=a.getAbsolutePosition();a.setAbsolutePosition({x:f.x+o,y:f.y+s}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(FS),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(FS,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),a=i.x*o.x-e.offsetX()*o.x,f=i.y*o.y-e.offsetY()*o.y,h=(rr.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),p={x:s.x+a*Math.cos(h)+f*Math.sin(-h),y:s.y+f*Math.cos(h)+a*Math.sin(h),width:i.width*o.x,height:i.height*o.y,rotation:h};return Ox(p,-rr.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-LS,y:-LS,width:0,height:0,rotation:0};const n=[];this.nodes().map(h=>{const p=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}],y=h.getAbsoluteTransform();g.forEach(function(_){const x=y.point(_);n.push(x)})});const r=new He.Transform;r.rotate(-rr.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;n.forEach(function(h){const p=r.point(h);i===void 0&&(i=s=p.x,o=a=p.y),i=Math.min(i,p.x),o=Math.min(o,p.y),s=Math.max(s,p.x),a=Math.max(a,p.y)}),r.invert();const f=r.point({x:i,y:o});return{x:f.x,y:f.y,width:s-i,height:a-o,rotation:rr.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Bd.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new fG.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:yG?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=rr.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=vG(e,i,o);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new dG.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const i=r.getParent(),o=i.padding();n.beginPath(),n.rect(-o,-o,r.width()+o*2,r.height()+o*2),n.moveTo(r.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*He.Util._sign(r.height())-o),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},Og++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(f=>{f._fire("transformstart",{evt:e.evt,target:f})})}_handleMouseMove(e){let n,r,i;const o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);const a=s.getPointerPosition();let f={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const h=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(f=this.anchorDragBoundFunc()(h,f,e)),o.setAbsolutePosition(f);const p=o.getAbsolutePosition();if(h.x===p.x&&h.y===p.y)return;if(this._movingAnchorName==="rotater"){const E=this._getNodeRect();n=o.x()-E.width/2,r=-o.y()+E.height/2;let C=Math.atan2(-r,n)+Math.PI/2;E.height<0&&(C-=Math.PI);const I=rr.Konva.getAngle(this.rotation())+C,N=rr.Konva.getAngle(this.rotationSnapTolerance()),R=_G(this.rotationSnaps(),I,N)-E.rotation,b=SG(E,R);this._fitNodesInto(b,e);return}const g=this.shiftBehavior();let y;g==="inverted"?y=this.keepRatio()&&!e.shiftKey:g==="none"?y=this.keepRatio():y=this.keepRatio()||e.shiftKey;let _=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(y){const E=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(E.y-o.y(),2));const C=this.findOne(".top-left").x()>E.x?-1:1,k=this.findOne(".top-left").y()>E.y?-1:1;n=i*this.cos*C,r=i*this.sin*k,this.findOne(".top-left").x(E.x-n),this.findOne(".top-left").y(E.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(y){const E=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(E.y-o.y(),2));const C=this.findOne(".top-right").x()<E.x?-1:1,k=this.findOne(".top-right").y()>E.y?-1:1;n=i*this.cos*C,r=i*this.sin*k,this.findOne(".top-right").x(E.x+n),this.findOne(".top-right").y(E.y-r)}var x=o.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(y){const E=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(E.x-o.x(),2)+Math.pow(o.y()-E.y,2));const C=E.x<o.x()?-1:1,k=o.y()<E.y?-1:1;n=i*this.cos*C,r=i*this.sin*k,o.x(E.x-n),o.y(E.y+r)}x=o.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(y){const E=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-E.x,2)+Math.pow(o.y()-E.y,2));const C=this.findOne(".bottom-right").x()<E.x?-1:1,k=this.findOne(".bottom-right").y()<E.y?-1:1;n=i*this.cos*C,r=i*this.sin*k,this.findOne(".bottom-right").x(E.x+n),this.findOne(".bottom-right").y(E.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(_=this.centeredScaling()||e.altKey,_){const E=this.findOne(".top-left"),C=this.findOne(".bottom-right"),k=E.x(),I=E.y(),N=this.getWidth()-C.x(),F=this.getHeight()-C.y();C.move({x:-k,y:-I}),E.move({x:N,y:F})}const T=this.findOne(".top-left").getAbsolutePosition();n=T.x,r=T.y;const M=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:M,height:w,rotation:rr.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();Og--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(He.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(He.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const o=new He.Transform;if(o.rotate(rr.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const y=o.point({x:-this.padding()*2,y:0});e.x+=y.x,e.y+=y.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const y=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const y=o.point({x:0,y:-this.padding()*2});e.x+=y.x,e.y+=y.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const y=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const y=this.boundBoxFunc()(r,e);y?e=y:He.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new He.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/s,r.height/s);const f=new He.Transform,h=e.width/s,p=e.height/s;this.flipEnabled()===!1?(f.translate(e.x,e.y),f.rotate(e.rotation),f.translate(e.width<0?e.width:0,e.height<0?e.height:0),f.scale(Math.abs(h),Math.abs(p))):(f.translate(e.x,e.y),f.rotate(e.rotation),f.scale(h,p));const g=f.multiply(a.invert());this._nodes.forEach(y=>{var _;const x=y.getParent().getAbsoluteTransform(),T=y.getTransform().copy();T.translate(y.offsetX(),y.offsetY());const M=new He.Transform;M.multiply(x.copy().invert()).multiply(g).multiply(x).multiply(T);const w=M.decompose();y.setAttrs(w),(_=y.getLayer())===null||_===void 0||_.batchDraw()}),this.rotation(He.Util._getRotation(e.rotation)),this._nodes.forEach(y=>{this._fire("transform",{evt:n,target:y}),y._fire("transform",{evt:n,target:y})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(He.Util._getRotation(n.rotation));const r=n.width,i=n.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),f=this.anchorSize(),h=this.find("._anchor");h.forEach(g=>{g.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:f/2+a,offsetY:f/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:f/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:f/2-a,offsetY:f/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:f/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:f/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:f/2+a,offsetY:f/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:f/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:f/2-a,offsetY:f/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*He.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const p=this.anchorStyleFunc();p&&h.forEach(g=>{p(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),DS.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return NS.Node.prototype.toObject.call(this)}clone(e){return NS.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}bf.Transformer=Ne;Ne.isTransforming=()=>Og>0;function xG(t){return t instanceof Array||He.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Bd.indexOf(e)===-1&&He.Util.warn("Unknown anchor name: "+e+". Available names are: "+Bd.join(", "))}),t||[]}Ne.prototype.className="Transformer";(0,hG._registerNode)(Ne);Oe.Factory.addGetterSetter(Ne,"enabledAnchors",Bd,xG);Oe.Factory.addGetterSetter(Ne,"flipEnabled",!0,(0,mo.getBooleanValidator)());Oe.Factory.addGetterSetter(Ne,"resizeEnabled",!0);Oe.Factory.addGetterSetter(Ne,"anchorSize",10,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"rotateEnabled",!0);Oe.Factory.addGetterSetter(Ne,"rotateLineVisible",!0);Oe.Factory.addGetterSetter(Ne,"rotationSnaps",[]);Oe.Factory.addGetterSetter(Ne,"rotateAnchorOffset",50,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"rotateAnchorCursor","crosshair");Oe.Factory.addGetterSetter(Ne,"rotationSnapTolerance",5,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"borderEnabled",!0);Oe.Factory.addGetterSetter(Ne,"anchorStroke","rgb(0, 161, 255)");Oe.Factory.addGetterSetter(Ne,"anchorStrokeWidth",1,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"anchorFill","white");Oe.Factory.addGetterSetter(Ne,"anchorCornerRadius",0,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"borderStroke","rgb(0, 161, 255)");Oe.Factory.addGetterSetter(Ne,"borderStrokeWidth",1,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"borderDash");Oe.Factory.addGetterSetter(Ne,"keepRatio",!0);Oe.Factory.addGetterSetter(Ne,"shiftBehavior","default");Oe.Factory.addGetterSetter(Ne,"centeredScaling",!1);Oe.Factory.addGetterSetter(Ne,"ignoreStroke",!1);Oe.Factory.addGetterSetter(Ne,"padding",0,(0,mo.getNumberValidator)());Oe.Factory.addGetterSetter(Ne,"nodes");Oe.Factory.addGetterSetter(Ne,"node");Oe.Factory.addGetterSetter(Ne,"boundBoxFunc");Oe.Factory.addGetterSetter(Ne,"anchorDragBoundFunc");Oe.Factory.addGetterSetter(Ne,"anchorStyleFunc");Oe.Factory.addGetterSetter(Ne,"shouldOverdrawWholeArea",!1);Oe.Factory.addGetterSetter(Ne,"useSingleNodeRotation",!0);Oe.Factory.backCompat(Ne,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.Wedge=void 0;const Gf=Me,TG=Rt,wG=Ee,Bx=ve,EG=Ee;class pi extends TG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,wG.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Uf.Wedge=pi;pi.prototype.className="Wedge";pi.prototype._centroid=!0;pi.prototype._attrsAffectingSize=["radius"];(0,EG._registerNode)(pi);Gf.Factory.addGetterSetter(pi,"radius",0,(0,Bx.getNumberValidator)());Gf.Factory.addGetterSetter(pi,"angle",0,(0,Bx.getNumberValidator)());Gf.Factory.addGetterSetter(pi,"clockwise",!1);Gf.Factory.backCompat(pi,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.Blur=void 0;const bS=Me,kG=st,PG=ve;function US(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const MG=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],IG=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function AG(t,e){const n=t.data,r=t.width,i=t.height;let o,s,a,f,h,p,g,y,_,x,T,M,w,E,C,k,I,N,F,R;const b=e+e+1,L=r-1,z=i-1,W=e+1,X=W*(W+1)/2,Q=new US,J=MG[e],fe=IG[e];let pe=null,B=Q,ee=null,Y=null;for(let re=1;re<b;re++)B=B.next=new US,re===W&&(pe=B);B.next=Q,a=s=0;for(let re=0;re<i;re++){M=w=E=C=f=h=p=g=0,y=W*(k=n[s]),_=W*(I=n[s+1]),x=W*(N=n[s+2]),T=W*(F=n[s+3]),f+=X*k,h+=X*I,p+=X*N,g+=X*F,B=Q;for(let ne=0;ne<W;ne++)B.r=k,B.g=I,B.b=N,B.a=F,B=B.next;for(let ne=1;ne<W;ne++)o=s+((L<ne?L:ne)<<2),f+=(B.r=k=n[o])*(R=W-ne),h+=(B.g=I=n[o+1])*R,p+=(B.b=N=n[o+2])*R,g+=(B.a=F=n[o+3])*R,M+=k,w+=I,E+=N,C+=F,B=B.next;ee=Q,Y=pe;for(let ne=0;ne<r;ne++)n[s+3]=F=g*J>>fe,F!==0?(F=255/F,n[s]=(f*J>>fe)*F,n[s+1]=(h*J>>fe)*F,n[s+2]=(p*J>>fe)*F):n[s]=n[s+1]=n[s+2]=0,f-=y,h-=_,p-=x,g-=T,y-=ee.r,_-=ee.g,x-=ee.b,T-=ee.a,o=a+((o=ne+e+1)<L?o:L)<<2,M+=ee.r=n[o],w+=ee.g=n[o+1],E+=ee.b=n[o+2],C+=ee.a=n[o+3],f+=M,h+=w,p+=E,g+=C,ee=ee.next,y+=k=Y.r,_+=I=Y.g,x+=N=Y.b,T+=F=Y.a,M-=k,w-=I,E-=N,C-=F,Y=Y.next,s+=4;a+=r}for(let re=0;re<r;re++){w=E=C=M=h=p=g=f=0,s=re<<2,y=W*(k=n[s]),_=W*(I=n[s+1]),x=W*(N=n[s+2]),T=W*(F=n[s+3]),f+=X*k,h+=X*I,p+=X*N,g+=X*F,B=Q;for(let ge=0;ge<W;ge++)B.r=k,B.g=I,B.b=N,B.a=F,B=B.next;let ne=r;for(let ge=1;ge<=e;ge++)s=ne+re<<2,f+=(B.r=k=n[s])*(R=W-ge),h+=(B.g=I=n[s+1])*R,p+=(B.b=N=n[s+2])*R,g+=(B.a=F=n[s+3])*R,M+=k,w+=I,E+=N,C+=F,B=B.next,ge<z&&(ne+=r);s=re,ee=Q,Y=pe;for(let ge=0;ge<i;ge++)o=s<<2,n[o+3]=F=g*J>>fe,F>0?(F=255/F,n[o]=(f*J>>fe)*F,n[o+1]=(h*J>>fe)*F,n[o+2]=(p*J>>fe)*F):n[o]=n[o+1]=n[o+2]=0,f-=y,h-=_,p-=x,g-=T,y-=ee.r,_-=ee.g,x-=ee.b,T-=ee.a,o=re+((o=ge+W)<z?o:z)*r<<2,f+=M+=ee.r=n[o],h+=w+=ee.g=n[o+1],p+=E+=ee.b=n[o+2],g+=C+=ee.a=n[o+3],ee=ee.next,y+=k=Y.r,_+=I=Y.g,x+=N=Y.b,T+=F=Y.a,M-=k,w-=I,E-=N,C-=F,Y=Y.next,s+=r}}const RG=function(e){const n=Math.round(this.blurRadius());n>0&&AG(e,n)};Vf.Blur=RG;bS.Factory.addGetterSetter(kG.Node,"blurRadius",0,(0,PG.getNumberValidator)(),bS.Factory.afterSetFilter);var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.Brighten=void 0;const GS=Me,NG=st,DG=ve,FG=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Of.Brighten=FG;GS.Factory.addGetterSetter(NG.Node,"brightness",0,(0,DG.getNumberValidator)(),GS.Factory.afterSetFilter);var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Contrast=void 0;const VS=Me,LG=st,bG=ve,UG=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,o=150,s=150;for(let a=0;a<r;a+=4)i=n[a],o=n[a+1],s=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,n[a]=i,n[a+1]=o,n[a+2]=s};Bf.Contrast=UG;VS.Factory.addGetterSetter(LG.Node,"contrast",0,(0,bG.getNumberValidator)(),VS.Factory.afterSetFilter);var zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.Emboss=void 0;const oo=Me,Hf=st,GG=ft,zx=ve,VG=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),o=t.data,s=t.width,a=t.height,f=s*4;let h=0,p=0,g=a;switch(r){case"top-left":h=-1,p=-1;break;case"top":h=-1,p=0;break;case"top-right":h=-1,p=1;break;case"right":h=0,p=1;break;case"bottom-right":h=1,p=1;break;case"bottom":h=1,p=0;break;case"bottom-left":h=1,p=-1;break;case"left":h=0,p=-1;break;default:GG.Util.error("Unknown emboss direction: "+r)}do{const y=(g-1)*f;let _=h;g+_<1&&(_=0),g+_>a&&(_=0);const x=(g-1+_)*s*4;let T=s;do{const M=y+(T-1)*4;let w=p;T+w<1&&(w=0),T+w>s&&(w=0);const E=x+(T-1+w)*4,C=o[M]-o[E],k=o[M+1]-o[E+1],I=o[M+2]-o[E+2];let N=C;const F=N>0?N:-N,R=k>0?k:-k,b=I>0?I:-I;if(R>F&&(N=k),b>F&&(N=I),N*=e,i){const L=o[M]+N,z=o[M+1]+N,W=o[M+2]+N;o[M]=L>255?255:L<0?0:L,o[M+1]=z>255?255:z<0?0:z,o[M+2]=W>255?255:W<0?0:W}else{let L=n-N;L<0?L=0:L>255&&(L=255),o[M]=o[M+1]=o[M+2]=L}}while(--T)}while(--g)};zf.Emboss=VG;oo.Factory.addGetterSetter(Hf.Node,"embossStrength",.5,(0,zx.getNumberValidator)(),oo.Factory.afterSetFilter);oo.Factory.addGetterSetter(Hf.Node,"embossWhiteLevel",.5,(0,zx.getNumberValidator)(),oo.Factory.afterSetFilter);oo.Factory.addGetterSetter(Hf.Node,"embossDirection","top-left",void 0,oo.Factory.afterSetFilter);oo.Factory.addGetterSetter(Hf.Node,"embossBlend",!1,void 0,oo.Factory.afterSetFilter);var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.Enhance=void 0;const OS=Me,OG=st,BG=ve;function vm(t,e,n,r,i){const o=n-e,s=i-r;if(o===0)return r+s/2;if(s===0)return r;let a=(t-e)/o;return a=s*a+r,a}const zG=function(t){const e=t.data,n=e.length;let r=e[0],i=r,o,s=e[1],a=s,f,h=e[2],p=h,g;const y=this.enhance();if(y===0)return;for(let C=0;C<n;C+=4)o=e[C+0],o<r?r=o:o>i&&(i=o),f=e[C+1],f<s?s=f:f>a&&(a=f),g=e[C+2],g<h?h=g:g>p&&(p=g);i===r&&(i=255,r=0),a===s&&(a=255,s=0),p===h&&(p=255,h=0);let _,x,T,M,w,E;if(y>0)_=i+y*(255-i),x=r-y*(r-0),T=a+y*(255-a),M=s-y*(s-0),w=p+y*(255-p),E=h-y*(h-0);else{const C=(i+r)*.5;_=i+y*(i-C),x=r+y*(r-C);const k=(a+s)*.5;T=a+y*(a-k),M=s+y*(s-k);const I=(p+h)*.5;w=p+y*(p-I),E=h+y*(h-I)}for(let C=0;C<n;C+=4)e[C+0]=vm(e[C+0],r,i,x,_),e[C+1]=vm(e[C+1],s,a,M,T),e[C+2]=vm(e[C+2],h,p,E,w)};Wf.Enhance=zG;OS.Factory.addGetterSetter(OG.Node,"enhance",0,(0,BG.getNumberValidator)(),OS.Factory.afterSetFilter);var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.Grayscale=void 0;const HG=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};qf.Grayscale=HG;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.HSL=void 0;const Cl=Me,dy=st,fy=ve;Cl.Factory.addGetterSetter(dy.Node,"hue",0,(0,fy.getNumberValidator)(),Cl.Factory.afterSetFilter);Cl.Factory.addGetterSetter(dy.Node,"saturation",0,(0,fy.getNumberValidator)(),Cl.Factory.afterSetFilter);Cl.Factory.addGetterSetter(dy.Node,"luminance",0,(0,fy.getNumberValidator)(),Cl.Factory.afterSetFilter);const WG=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=r*i*Math.cos(o*Math.PI/180),f=r*i*Math.sin(o*Math.PI/180),h=.299*r+.701*a+.167*f,p=.587*r-.587*a+.33*f,g=.114*r-.114*a-.497*f,y=.299*r-.299*a-.328*f,_=.587*r+.413*a+.035*f,x=.114*r-.114*a+.293*f,T=.299*r-.3*a+1.25*f,M=.587*r-.586*a-1.05*f,w=.114*r+.886*a-.2*f;let E,C,k,I;for(let N=0;N<n;N+=4)E=e[N+0],C=e[N+1],k=e[N+2],I=e[N+3],e[N+0]=h*E+p*C+g*k+s,e[N+1]=y*E+_*C+x*k+s,e[N+2]=T*E+M*C+w*k+s,e[N+3]=I};$f.HSL=WG;var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.HSV=void 0;const Sl=Me,hy=st,py=ve,qG=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=r*i*Math.cos(o*Math.PI/180),a=r*i*Math.sin(o*Math.PI/180),f=.299*r+.701*s+.167*a,h=.587*r-.587*s+.33*a,p=.114*r-.114*s-.497*a,g=.299*r-.299*s-.328*a,y=.587*r+.413*s+.035*a,_=.114*r-.114*s+.293*a,x=.299*r-.3*s+1.25*a,T=.587*r-.586*s-1.05*a,M=.114*r+.886*s-.2*a;for(let w=0;w<n;w+=4){const E=e[w+0],C=e[w+1],k=e[w+2],I=e[w+3];e[w+0]=f*E+h*C+p*k,e[w+1]=g*E+y*C+_*k,e[w+2]=x*E+T*C+M*k,e[w+3]=I}};Kf.HSV=qG;Sl.Factory.addGetterSetter(hy.Node,"hue",0,(0,py.getNumberValidator)(),Sl.Factory.afterSetFilter);Sl.Factory.addGetterSetter(hy.Node,"saturation",0,(0,py.getNumberValidator)(),Sl.Factory.afterSetFilter);Sl.Factory.addGetterSetter(hy.Node,"value",0,(0,py.getNumberValidator)(),Sl.Factory.afterSetFilter);var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Invert=void 0;const $G=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Yf.Invert=$G;var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.Kaleidoscope=void 0;const zd=Me,Hx=st,BS=ft,Wx=ve,KG=function(t,e,n){const r=t.data,i=e.data,o=t.width,s=t.height,a=n.polarCenterX||o/2,f=n.polarCenterY||s/2;let h=Math.sqrt(a*a+f*f),p=o-a,g=s-f;const y=Math.sqrt(p*p+g*g);h=y>h?y:h;const _=s,x=o,T=360/x*Math.PI/180;for(let M=0;M<x;M+=1){const w=Math.sin(M*T),E=Math.cos(M*T);for(let C=0;C<_;C+=1){p=Math.floor(a+h*C/_*E),g=Math.floor(f+h*C/_*w);let k=(g*o+p)*4;const I=r[k+0],N=r[k+1],F=r[k+2],R=r[k+3];k=(M+C*o)*4,i[k+0]=I,i[k+1]=N,i[k+2]=F,i[k+3]=R}}},YG=function(t,e,n){const r=t.data,i=e.data,o=t.width,s=t.height,a=n.polarCenterX||o/2,f=n.polarCenterY||s/2;let h=Math.sqrt(a*a+f*f),p=o-a,g=s-f;const y=Math.sqrt(p*p+g*g);h=y>h?y:h;const _=s,x=o,T=0;let M,w;for(p=0;p<o;p+=1)for(g=0;g<s;g+=1){const E=p-a,C=g-f,k=Math.sqrt(E*E+C*C)*_/h;let I=(Math.atan2(C,E)*180/Math.PI+360+T)%360;I=I*x/360,M=Math.floor(I),w=Math.floor(k);let N=(w*o+M)*4;const F=r[N+0],R=r[N+1],b=r[N+2],L=r[N+3];N=(g*o+p)*4,i[N+0]=F,i[N+1]=R,i[N+2]=b,i[N+3]=L}},JG=function(t){const e=t.width,n=t.height;let r,i,o,s,a,f,h,p,g,y,_=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),T=Math.floor(e*(x%360)/360);if(_<1)return;const M=BS.Util.createCanvasElement();M.width=e,M.height=n;const w=M.getContext("2d").getImageData(0,0,e,n);BS.Util.releaseCanvas(M),KG(t,w,{polarCenterX:e/2,polarCenterY:n/2});let E=e/Math.pow(2,_);for(;E<=8;)E=E*2,_-=1;E=Math.ceil(E);let C=E,k=0,I=C,N=1;for(T+E>e&&(k=C,I=0,N=-1),i=0;i<n;i+=1)for(r=k;r!==I;r+=N)o=Math.round(r+T)%e,g=(e*i+o)*4,a=w.data[g+0],f=w.data[g+1],h=w.data[g+2],p=w.data[g+3],y=(e*i+r)*4,w.data[y+0]=a,w.data[y+1]=f,w.data[y+2]=h,w.data[y+3]=p;for(i=0;i<n;i+=1)for(C=Math.floor(E),s=0;s<_;s+=1){for(r=0;r<C+1;r+=1)g=(e*i+r)*4,a=w.data[g+0],f=w.data[g+1],h=w.data[g+2],p=w.data[g+3],y=(e*i+C*2-r-1)*4,w.data[y+0]=a,w.data[y+1]=f,w.data[y+2]=h,w.data[y+3]=p;C*=2}YG(w,t,{polarRotation:0})};Jf.Kaleidoscope=JG;zd.Factory.addGetterSetter(Hx.Node,"kaleidoscopePower",2,(0,Wx.getNumberValidator)(),zd.Factory.afterSetFilter);zd.Factory.addGetterSetter(Hx.Node,"kaleidoscopeAngle",0,(0,Wx.getNumberValidator)(),zd.Factory.afterSetFilter);var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Mask=void 0;const zS=Me,QG=st,XG=ve;function Hc(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function ga(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function ZG(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function jG(t,e){const n=Hc(t,0,0),r=Hc(t,t.width-1,0),i=Hc(t,0,t.height-1),o=Hc(t,t.width-1,t.height-1),s=e||10;if(ga(n,r)<s&&ga(r,o)<s&&ga(o,i)<s&&ga(i,n)<s){const a=ZG([r,n,o,i]),f=[];for(let h=0;h<t.width*t.height;h++){const p=ga(a,[t.data[h*4],t.data[h*4+1],t.data[h*4+2]]);f[h]=p<s?0:255}return f}}function eV(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function tV(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<n;a++)for(let f=0;f<e;f++){const h=a*e+f;let p=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){const _=a+g-o,x=f+y-o;if(_>=0&&_<n&&x>=0&&x<e){const T=_*e+x,M=r[g*i+y];p+=t[T]*M}}s[h]=p===255*8?255:0}return s}function nV(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<n;a++)for(let f=0;f<e;f++){const h=a*e+f;let p=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){const _=a+g-o,x=f+y-o;if(_>=0&&_<n&&x>=0&&x<e){const T=_*e+x,M=r[g*i+y];p+=t[T]*M}}s[h]=p>=255*4?255:0}return s}function rV(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),s=[];for(let a=0;a<n;a++)for(let f=0;f<e;f++){const h=a*e+f;let p=0;for(let g=0;g<i;g++)for(let y=0;y<i;y++){const _=a+g-o,x=f+y-o;if(_>=0&&_<n&&x>=0&&x<e){const T=_*e+x,M=r[g*i+y];p+=t[T]*M}}s[h]=p}return s}const iV=function(t){const e=this.threshold();let n=jG(t,e);return n&&(n=tV(n,t.width,t.height),n=nV(n,t.width,t.height),n=rV(n,t.width,t.height),eV(t,n)),t};Qf.Mask=iV;zS.Factory.addGetterSetter(QG.Node,"threshold",0,(0,XG.getNumberValidator)(),zS.Factory.afterSetFilter);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Noise=void 0;const HS=Me,oV=st,sV=ve,lV=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let o=0;o<r;o+=4)n[o+0]+=i-2*i*Math.random(),n[o+1]+=i-2*i*Math.random(),n[o+2]+=i-2*i*Math.random()};Xf.Noise=lV;HS.Factory.addGetterSetter(oV.Node,"noise",.2,(0,sV.getNumberValidator)(),HS.Factory.afterSetFilter);var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Pixelate=void 0;const WS=Me,aV=ft,uV=st,cV=ve,dV=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),o=Math.ceil(r/e),s=t.data;if(e<=0){aV.Util.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let f=0;f<o;f+=1){let h=0,p=0,g=0,y=0;const _=a*e,x=_+e,T=f*e,M=T+e;let w=0;for(let E=_;E<x;E+=1)if(!(E>=n))for(let C=T;C<M;C+=1){if(C>=r)continue;const k=(n*C+E)*4;h+=s[k+0],p+=s[k+1],g+=s[k+2],y+=s[k+3],w+=1}h=h/w,p=p/w,g=g/w,y=y/w;for(let E=_;E<x;E+=1)if(!(E>=n))for(let C=T;C<M;C+=1){if(C>=r)continue;const k=(n*C+E)*4;s[k+0]=h,s[k+1]=p,s[k+2]=g,s[k+3]=y}}};Zf.Pixelate=dV;WS.Factory.addGetterSetter(uV.Node,"pixelSize",8,(0,cV.getNumberValidator)(),WS.Factory.afterSetFilter);var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.Posterize=void 0;const qS=Me,fV=st,hV=ve,pV=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let o=0;o<r;o+=1)n[o]=Math.floor(n[o]/i)*i};jf.Posterize=pV;qS.Factory.addGetterSetter(fV.Node,"levels",.5,(0,hV.getNumberValidator)(),qS.Factory.afterSetFilter);var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.RGB=void 0;const Hd=Me,my=st,mV=ve,gV=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),o=this.blue();for(let s=0;s<n;s+=4){const a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*r,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};eh.RGB=gV;Hd.Factory.addGetterSetter(my.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Hd.Factory.addGetterSetter(my.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Hd.Factory.addGetterSetter(my.Node,"blue",0,mV.RGBComponent,Hd.Factory.afterSetFilter);var th={};Object.defineProperty(th,"__esModule",{value:!0});th.RGBA=void 0;const tu=Me,nh=st,yV=ve,vV=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<n;a+=4){const f=1-s;e[a]=r*s+e[a]*f,e[a+1]=i*s+e[a+1]*f,e[a+2]=o*s+e[a+2]*f}};th.RGBA=vV;tu.Factory.addGetterSetter(nh.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});tu.Factory.addGetterSetter(nh.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});tu.Factory.addGetterSetter(nh.Node,"blue",0,yV.RGBComponent,tu.Factory.afterSetFilter);tu.Factory.addGetterSetter(nh.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.Sepia=void 0;const CV=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],o=e[r+1],s=e[r+2];e[r+0]=Math.min(255,i*.393+o*.769+s*.189),e[r+1]=Math.min(255,i*.349+o*.686+s*.168),e[r+2]=Math.min(255,i*.272+o*.534+s*.131)}};rh.Sepia=CV;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.Solarize=void 0;const SV=function(t){const e=t.data,n=t.width,r=t.height,i=n*4;let o=r;do{const s=(o-1)*i;let a=n;do{const f=s+(a-1)*4;let h=e[f],p=e[f+1],g=e[f+2];h>127&&(h=255-h),p>127&&(p=255-p),g>127&&(g=255-g),e[f]=h,e[f+1]=p,e[f+2]=g}while(--a)}while(--o)};ih.Solarize=SV;var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.Threshold=void 0;const $S=Me,_V=st,xV=ve,TV=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};oh.Threshold=TV;$S.Factory.addGetterSetter(_V.Node,"threshold",.5,(0,xV.getNumberValidator)(),$S.Factory.afterSetFilter);Object.defineProperty(mf,"__esModule",{value:!0});mf.Konva=void 0;const KS=Vd,wV=Sf,EV=Tf,kV=kf,PV=Pf,MV=Mf,YS=vl,IV=mu,AV=Fl,RV=yu,NV=Rf,DV=Nf,FV=Df,LV=Ff,bV=bl,UV=Lf,GV=bf,VV=Uf,OV=Vf,BV=Of,zV=Bf,HV=zf,WV=Wf,qV=qf,$V=$f,KV=Kf,YV=Yf,JV=Jf,QV=Qf,XV=Xf,ZV=Zf,jV=jf,eO=eh,tO=th,nO=rh,rO=ih,iO=oh;mf.Konva=KS.Konva.Util._assign(KS.Konva,{Arc:wV.Arc,Arrow:EV.Arrow,Circle:kV.Circle,Ellipse:PV.Ellipse,Image:MV.Image,Label:YS.Label,Tag:YS.Tag,Line:IV.Line,Path:AV.Path,Rect:RV.Rect,RegularPolygon:NV.RegularPolygon,Ring:DV.Ring,Sprite:FV.Sprite,Star:LV.Star,Text:bV.Text,TextPath:UV.TextPath,Transformer:GV.Transformer,Wedge:VV.Wedge,Filters:{Blur:OV.Blur,Brighten:BV.Brighten,Contrast:zV.Contrast,Emboss:HV.Emboss,Enhance:WV.Enhance,Grayscale:qV.Grayscale,HSL:$V.HSL,HSV:KV.HSV,Invert:YV.Invert,Kaleidoscope:JV.Kaleidoscope,Mask:QV.Mask,Noise:XV.Noise,Pixelate:ZV.Pixelate,Posterize:jV.Posterize,RGB:eO.RGB,RGBA:tO.RGBA,Sepia:nO.Sepia,Solarize:rO.Solarize,Threshold:iO.Threshold}});var oO=cx.exports;Object.defineProperty(oO,"__esModule",{value:!0});const sO=mf;cx.exports=sO.Konva;var Bg={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=Vd;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=Vd;t.exports=r.Konva})(Bg,Bg.exports);var lO=Bg.exports;const nu=Wd(lO);var qx={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO=function(e){var n={},r=V,i=xa,o=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),I=Symbol.iterator;function N(l){return l===null||typeof l!="object"?null:(l=I&&l[I]||l["@@iterator"],typeof l=="function"?l:null)}function F(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case p:return"Fragment";case h:return"Portal";case y:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case w:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case x:return(l.displayName||"Context")+".Consumer";case _:return(l._context.displayName||"Context")+".Provider";case T:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return u=l.displayName||null,u!==null?u:F(l.type)||"Memo";case C:u=l._payload,l=l._init;try{return F(l(u))}catch{}}return null}function R(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(u);case 8:return u===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function b(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,u.flags&4098&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function L(l){if(b(l)!==l)throw Error(s(188))}function z(l){var u=l.alternate;if(!u){if(u=b(l),u===null)throw Error(s(188));return u!==l?null:l}for(var m=l,v=u;;){var S=m.return;if(S===null)break;var P=S.alternate;if(P===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===m)return L(S),l;if(P===v)return L(S),u;P=P.sibling}throw Error(s(188))}if(m.return!==v.return)m=S,v=P;else{for(var D=!1,G=S.child;G;){if(G===m){D=!0,m=S,v=P;break}if(G===v){D=!0,v=S,m=P;break}G=G.sibling}if(!D){for(G=P.child;G;){if(G===m){D=!0,m=P,v=S;break}if(G===v){D=!0,v=P,m=S;break}G=G.sibling}if(!D)throw Error(s(189))}}if(m.alternate!==v)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:u}function W(l){return l=z(l),l!==null?X(l):null}function X(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=X(l);if(u!==null)return u;l=l.sibling}return null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=Q(l);if(u!==null)return u}l=l.sibling}return null}var J=Array.isArray,fe=e.getPublicInstance,pe=e.getRootHostContext,B=e.getChildHostContext,ee=e.prepareForCommit,Y=e.resetAfterCommit,re=e.createInstance,ne=e.appendInitialChild,ge=e.finalizeInitialChildren,Te=e.prepareUpdate,Qe=e.shouldSetTextContent,ze=e.createTextInstance,U=e.scheduleTimeout,Z=e.cancelTimeout,he=e.noTimeout,De=e.isPrimaryRenderer,Ce=e.supportsMutation,Ge=e.supportsPersistence,Xe=e.supportsHydration,mr=e.getInstanceFromNode,We=e.preparePortalMount,mi=e.getCurrentEventPriority,Jn=e.detachDeletedInstance,gi=e.supportsMicrotasks,jx=e.scheduleMicrotask,Ul=e.supportsTestSelectors,e6=e.findFiberRoot,t6=e.getBoundingRect,n6=e.getTextContent,Gl=e.isHiddenSubtree,r6=e.matchAccessibilityRole,i6=e.setFocusIfFocusable,o6=e.setupIntersectionObserver,s6=e.appendChild,l6=e.appendChildToContainer,a6=e.commitTextUpdate,u6=e.commitMount,c6=e.commitUpdate,d6=e.insertBefore,f6=e.insertInContainerBefore,h6=e.removeChild,p6=e.removeChildFromContainer,vy=e.resetTextContent,m6=e.hideInstance,g6=e.hideTextInstance,y6=e.unhideInstance,v6=e.unhideTextInstance,C6=e.clearContainer,S6=e.cloneInstance,Cy=e.createContainerChildSet,Sy=e.appendChildToContainerChildSet,_6=e.finalizeContainerChildren,lh=e.replaceContainerChildren,_y=e.cloneHiddenInstance,xy=e.cloneHiddenTextInstance,x6=e.canHydrateInstance,T6=e.canHydrateTextInstance,w6=e.canHydrateSuspenseInstance,Ty=e.isSuspenseInstancePending,ah=e.isSuspenseInstanceFallback,E6=e.getSuspenseInstanceFallbackErrorDetails,k6=e.registerSuspenseInstanceRetry,vu=e.getNextHydratableSibling,P6=e.getFirstHydratableChild,M6=e.getFirstHydratableChildWithinContainer,I6=e.getFirstHydratableChildWithinSuspenseInstance,A6=e.hydrateInstance,R6=e.hydrateTextInstance,N6=e.hydrateSuspenseInstance,D6=e.getNextHydratableInstanceAfterSuspenseInstance,F6=e.commitHydratedContainer,L6=e.commitHydratedSuspenseInstance,b6=e.clearSuspenseBoundary,U6=e.clearSuspenseBoundaryFromContainer,G6=e.shouldDeleteUnhydratedTailInstances,V6=e.didNotMatchHydratedContainerTextInstance,O6=e.didNotMatchHydratedTextInstance,uh;function Vl(l){if(uh===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);uh=u&&u[1]||""}return`
`+uh+l}var ch=!1;function dh(l,u){if(!l||ch)return"";ch=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(te){var v=te}Reflect.construct(l,[],u)}else{try{u.call()}catch(te){v=te}l.call(u.prototype)}else{try{throw Error()}catch(te){v=te}l()}}catch(te){if(te&&v&&typeof te.stack=="string"){for(var S=te.stack.split(`
`),P=v.stack.split(`
`),D=S.length-1,G=P.length-1;1<=D&&0<=G&&S[D]!==P[G];)G--;for(;1<=D&&0<=G;D--,G--)if(S[D]!==P[G]){if(D!==1||G!==1)do if(D--,G--,0>G||S[D]!==P[G]){var q=`
`+S[D].replace(" at new "," at ");return l.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",l.displayName)),q}while(1<=D&&0<=G);break}}}finally{ch=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Vl(l):""}var B6=Object.prototype.hasOwnProperty,fh=[],cs=-1;function yi(l){return{current:l}}function Ze(l){0>cs||(l.current=fh[cs],fh[cs]=null,cs--)}function Ye(l,u){cs++,fh[cs]=l.current,l.current=u}var vi={},$t=yi(vi),cn=yi(!1),yo=vi;function ds(l,u){var m=l.type.contextTypes;if(!m)return vi;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var S={},P;for(P in m)S[P]=u[P];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function dn(l){return l=l.childContextTypes,l!=null}function Cu(){Ze(cn),Ze($t)}function wy(l,u,m){if($t.current!==vi)throw Error(s(168));Ye($t,u),Ye(cn,m)}function Ey(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var S in v)if(!(S in u))throw Error(s(108,R(l)||"Unknown",S));return o({},m,v)}function Su(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||vi,yo=$t.current,Ye($t,l),Ye(cn,cn.current),!0}function ky(l,u,m){var v=l.stateNode;if(!v)throw Error(s(169));m?(l=Ey(l,u,yo),v.__reactInternalMemoizedMergedChildContext=l,Ze(cn),Ze($t),Ye($t,l)):Ze(cn),Ye(cn,m)}var Qn=Math.clz32?Math.clz32:W6,z6=Math.log,H6=Math.LN2;function W6(l){return l>>>=0,l===0?32:31-(z6(l)/H6|0)|0}var _u=64,xu=4194304;function Ol(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Tu(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,S=l.suspendedLanes,P=l.pingedLanes,D=m&268435455;if(D!==0){var G=D&~S;G!==0?v=Ol(G):(P&=D,P!==0&&(v=Ol(P)))}else D=m&~S,D!==0?v=Ol(D):P!==0&&(v=Ol(P));if(v===0)return 0;if(u!==0&&u!==v&&!(u&S)&&(S=v&-v,P=u&-u,S>=P||S===16&&(P&4194240)!==0))return u;if(v&4&&(v|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)m=31-Qn(u),S=1<<m,v|=l[m],u&=~S;return v}function q6(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $6(l,u){for(var m=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,P=l.pendingLanes;0<P;){var D=31-Qn(P),G=1<<D,q=S[D];q===-1?(!(G&m)||G&v)&&(S[D]=q6(G,u)):q<=u&&(l.expiredLanes|=G),P&=~G}}function hh(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Py(){var l=_u;return _u<<=1,!(_u&4194240)&&(_u=64),l}function ph(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Bl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Qn(u),l[u]=m}function K6(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-Qn(m),P=1<<S;u[S]=0,v[S]=-1,l[S]=-1,m&=~P}}function mh(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-Qn(m),S=1<<v;S&u|l[v]&u&&(l[v]|=u),m&=~S}}var Le=0;function My(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var gh=i.unstable_scheduleCallback,Iy=i.unstable_cancelCallback,Y6=i.unstable_shouldYield,J6=i.unstable_requestPaint,Dt=i.unstable_now,yh=i.unstable_ImmediatePriority,Q6=i.unstable_UserBlockingPriority,vh=i.unstable_NormalPriority,X6=i.unstable_IdlePriority,wu=null,gr=null;function Z6(l){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(wu,l,void 0,(l.current.flags&128)===128)}catch{}}function j6(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Xn=typeof Object.is=="function"?Object.is:j6,Ur=null,Eu=!1,Ch=!1;function Ay(l){Ur===null?Ur=[l]:Ur.push(l)}function eT(l){Eu=!0,Ay(l)}function yr(){if(!Ch&&Ur!==null){Ch=!0;var l=0,u=Le;try{var m=Ur;for(Le=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Ur=null,Eu=!1}catch(S){throw Ur!==null&&(Ur=Ur.slice(l+1)),gh(yh,yr),S}finally{Le=u,Ch=!1}}return null}var fs=[],hs=0,ku=null,Pu=0,An=[],Rn=0,vo=null,Gr=1,Vr="";function Co(l,u){fs[hs++]=Pu,fs[hs++]=ku,ku=l,Pu=u}function Ry(l,u,m){An[Rn++]=Gr,An[Rn++]=Vr,An[Rn++]=vo,vo=l;var v=Gr;l=Vr;var S=32-Qn(v)-1;v&=~(1<<S),m+=1;var P=32-Qn(u)+S;if(30<P){var D=S-S%5;P=(v&(1<<D)-1).toString(32),v>>=D,S-=D,Gr=1<<32-Qn(u)+S|m<<S|v,Vr=P+l}else Gr=1<<P|m<<S|v,Vr=l}function Sh(l){l.return!==null&&(Co(l,1),Ry(l,1,0))}function _h(l){for(;l===ku;)ku=fs[--hs],fs[hs]=null,Pu=fs[--hs],fs[hs]=null;for(;l===vo;)vo=An[--Rn],An[Rn]=null,Vr=An[--Rn],An[Rn]=null,Gr=An[--Rn],An[Rn]=null}var xn=null,Nn=null,rt=!1,zl=!1,Zn=null;function Ny(l,u){var m=Un(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function Dy(l,u){switch(l.tag){case 5:return u=x6(u,l.type,l.pendingProps),u!==null?(l.stateNode=u,xn=l,Nn=P6(u),!0):!1;case 6:return u=T6(u,l.pendingProps),u!==null?(l.stateNode=u,xn=l,Nn=null,!0):!1;case 13:if(u=w6(u),u!==null){var m=vo!==null?{id:Gr,overflow:Vr}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Un(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,xn=l,Nn=null,!0}return!1;default:return!1}}function xh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Th(l){if(rt){var u=Nn;if(u){var m=u;if(!Dy(l,u)){if(xh(l))throw Error(s(418));u=vu(m);var v=xn;u&&Dy(l,u)?Ny(v,m):(l.flags=l.flags&-4097|2,rt=!1,xn=l)}}else{if(xh(l))throw Error(s(418));l.flags=l.flags&-4097|2,rt=!1,xn=l}}}function Fy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xn=l}function Mu(l){if(!Xe||l!==xn)return!1;if(!rt)return Fy(l),rt=!0,!1;if(l.tag!==3&&(l.tag!==5||G6(l.type)&&!Qe(l.type,l.memoizedProps))){var u=Nn;if(u){if(xh(l))throw Ly(),Error(s(418));for(;u;)Ny(l,u),u=vu(u)}}if(Fy(l),l.tag===13){if(!Xe)throw Error(s(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));Nn=D6(l)}else Nn=xn?vu(l.stateNode):null;return!0}function Ly(){for(var l=Nn;l;)l=vu(l)}function ps(){Xe&&(Nn=xn=null,zl=rt=!1)}function wh(l){Zn===null?Zn=[l]:Zn.push(l)}var tT=a.ReactCurrentBatchConfig;function Iu(l,u){if(Xn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!B6.call(u,S)||!Xn(l[S],u[S]))return!1}return!0}function nT(l){switch(l.tag){case 5:return Vl(l.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return l=dh(l.type,!1),l;case 11:return l=dh(l.type.render,!1),l;case 1:return l=dh(l.type,!0),l;default:return""}}function Hl(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(s(309));var v=m.stateNode}if(!v)throw Error(s(147,l));var S=v,P=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(D){var G=S.refs;D===null?delete G[P]:G[P]=D},u._stringRef=P,u)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function Au(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function by(l){var u=l._init;return u(l._payload)}function Uy(l){function u(H,O){if(l){var K=H.deletions;K===null?(H.deletions=[O],H.flags|=16):K.push(O)}}function m(H,O){if(!l)return null;for(;O!==null;)u(H,O),O=O.sibling;return null}function v(H,O){for(H=new Map;O!==null;)O.key!==null?H.set(O.key,O):H.set(O.index,O),O=O.sibling;return H}function S(H,O){return H=Ei(H,O),H.index=0,H.sibling=null,H}function P(H,O,K){return H.index=K,l?(K=H.alternate,K!==null?(K=K.index,K<O?(H.flags|=2,O):K):(H.flags|=2,O)):(H.flags|=1048576,O)}function D(H){return l&&H.alternate===null&&(H.flags|=2),H}function G(H,O,K,oe){return O===null||O.tag!==6?(O=Cp(K,H.mode,oe),O.return=H,O):(O=S(O,K),O.return=H,O)}function q(H,O,K,oe){var me=K.type;return me===p?ae(H,O,K.props.children,oe,K.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&by(me)===O.type)?(oe=S(O,K.props),oe.ref=Hl(H,O,K),oe.return=H,oe):(oe=lc(K.type,K.key,K.props,null,H.mode,oe),oe.ref=Hl(H,O,K),oe.return=H,oe)}function te(H,O,K,oe){return O===null||O.tag!==4||O.stateNode.containerInfo!==K.containerInfo||O.stateNode.implementation!==K.implementation?(O=Sp(K,H.mode,oe),O.return=H,O):(O=S(O,K.children||[]),O.return=H,O)}function ae(H,O,K,oe,me){return O===null||O.tag!==7?(O=ko(K,H.mode,oe,me),O.return=H,O):(O=S(O,K),O.return=H,O)}function Se(H,O,K){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Cp(""+O,H.mode,K),O.return=H,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return K=lc(O.type,O.key,O.props,null,H.mode,K),K.ref=Hl(H,null,O),K.return=H,K;case h:return O=Sp(O,H.mode,K),O.return=H,O;case C:var oe=O._init;return Se(H,oe(O._payload),K)}if(J(O)||N(O))return O=ko(O,H.mode,K,null),O.return=H,O;Au(H,O)}return null}function ie(H,O,K,oe){var me=O!==null?O.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:G(H,O,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case f:return K.key===me?q(H,O,K,oe):null;case h:return K.key===me?te(H,O,K,oe):null;case C:return me=K._init,ie(H,O,me(K._payload),oe)}if(J(K)||N(K))return me!==null?null:ae(H,O,K,oe,null);Au(H,K)}return null}function je(H,O,K,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,G(O,H,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case f:return H=H.get(oe.key===null?K:oe.key)||null,q(O,H,oe,me);case h:return H=H.get(oe.key===null?K:oe.key)||null,te(O,H,oe,me);case C:var we=oe._init;return je(H,O,K,we(oe._payload),me)}if(J(oe)||N(oe))return H=H.get(K)||null,ae(O,H,oe,me,null);Au(O,oe)}return null}function qe(H,O,K,oe){for(var me=null,we=null,_e=O,be=O=0,bt=null;_e!==null&&be<K.length;be++){_e.index>be?(bt=_e,_e=null):bt=_e.sibling;var Ue=ie(H,_e,K[be],oe);if(Ue===null){_e===null&&(_e=bt);break}l&&_e&&Ue.alternate===null&&u(H,_e),O=P(Ue,O,be),we===null?me=Ue:we.sibling=Ue,we=Ue,_e=bt}if(be===K.length)return m(H,_e),rt&&Co(H,be),me;if(_e===null){for(;be<K.length;be++)_e=Se(H,K[be],oe),_e!==null&&(O=P(_e,O,be),we===null?me=_e:we.sibling=_e,we=_e);return rt&&Co(H,be),me}for(_e=v(H,_e);be<K.length;be++)bt=je(_e,H,be,K[be],oe),bt!==null&&(l&&bt.alternate!==null&&_e.delete(bt.key===null?be:bt.key),O=P(bt,O,be),we===null?me=bt:we.sibling=bt,we=bt);return l&&_e.forEach(function(ki){return u(H,ki)}),rt&&Co(H,be),me}function mn(H,O,K,oe){var me=N(K);if(typeof me!="function")throw Error(s(150));if(K=me.call(K),K==null)throw Error(s(151));for(var we=me=null,_e=O,be=O=0,bt=null,Ue=K.next();_e!==null&&!Ue.done;be++,Ue=K.next()){_e.index>be?(bt=_e,_e=null):bt=_e.sibling;var ki=ie(H,_e,Ue.value,oe);if(ki===null){_e===null&&(_e=bt);break}l&&_e&&ki.alternate===null&&u(H,_e),O=P(ki,O,be),we===null?me=ki:we.sibling=ki,we=ki,_e=bt}if(Ue.done)return m(H,_e),rt&&Co(H,be),me;if(_e===null){for(;!Ue.done;be++,Ue=K.next())Ue=Se(H,Ue.value,oe),Ue!==null&&(O=P(Ue,O,be),we===null?me=Ue:we.sibling=Ue,we=Ue);return rt&&Co(H,be),me}for(_e=v(H,_e);!Ue.done;be++,Ue=K.next())Ue=je(_e,H,be,Ue.value,oe),Ue!==null&&(l&&Ue.alternate!==null&&_e.delete(Ue.key===null?be:Ue.key),O=P(Ue,O,be),we===null?me=Ue:we.sibling=Ue,we=Ue);return l&&_e.forEach(function(NT){return u(H,NT)}),rt&&Co(H,be),me}function Hr(H,O,K,oe){if(typeof K=="object"&&K!==null&&K.type===p&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case f:e:{for(var me=K.key,we=O;we!==null;){if(we.key===me){if(me=K.type,me===p){if(we.tag===7){m(H,we.sibling),O=S(we,K.props.children),O.return=H,H=O;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&by(me)===we.type){m(H,we.sibling),O=S(we,K.props),O.ref=Hl(H,we,K),O.return=H,H=O;break e}m(H,we);break}else u(H,we);we=we.sibling}K.type===p?(O=ko(K.props.children,H.mode,oe,K.key),O.return=H,H=O):(oe=lc(K.type,K.key,K.props,null,H.mode,oe),oe.ref=Hl(H,O,K),oe.return=H,H=oe)}return D(H);case h:e:{for(we=K.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===K.containerInfo&&O.stateNode.implementation===K.implementation){m(H,O.sibling),O=S(O,K.children||[]),O.return=H,H=O;break e}else{m(H,O);break}else u(H,O);O=O.sibling}O=Sp(K,H.mode,oe),O.return=H,H=O}return D(H);case C:return we=K._init,Hr(H,O,we(K._payload),oe)}if(J(K))return qe(H,O,K,oe);if(N(K))return mn(H,O,K,oe);Au(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,O!==null&&O.tag===6?(m(H,O.sibling),O=S(O,K),O.return=H,H=O):(m(H,O),O=Cp(K,H.mode,oe),O.return=H,H=O),D(H)):m(H,O)}return Hr}var ms=Uy(!0),Gy=Uy(!1),Ru=yi(null),Nu=null,gs=null,Eh=null;function kh(){Eh=gs=Nu=null}function Vy(l,u,m){De?(Ye(Ru,u._currentValue),u._currentValue=m):(Ye(Ru,u._currentValue2),u._currentValue2=m)}function Ph(l){var u=Ru.current;Ze(Ru),De?l._currentValue=u:l._currentValue2=u}function Mh(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function ys(l,u){Nu=l,Eh=gs=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&u&&(fn=!0),l.firstContext=null)}function Dn(l){var u=De?l._currentValue:l._currentValue2;if(Eh!==l)if(l={context:l,memoizedValue:u,next:null},gs===null){if(Nu===null)throw Error(s(308));gs=l,Nu.dependencies={lanes:0,firstContext:l}}else gs=gs.next=l;return u}var So=null;function Ih(l){So===null?So=[l]:So.push(l)}function Oy(l,u,m,v){var S=u.interleaved;return S===null?(m.next=m,Ih(u)):(m.next=S.next,S.next=m),u.interleaved=m,vr(l,v)}function vr(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Ci=!1;function Ah(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Or(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Si(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,Pe&2){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,vr(l,m)}return S=v.interleaved,S===null?(u.next=u,Ih(v)):(u.next=S.next,S.next=u),v.interleaved=u,vr(l,m)}function Du(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,mh(l,m)}}function zy(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var D={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?S=P=D:P=P.next=D,m=m.next}while(m!==null);P===null?S=P=u:P=P.next=u}else S=P=u;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Fu(l,u,m,v){var S=l.updateQueue;Ci=!1;var P=S.firstBaseUpdate,D=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var q=G,te=q.next;q.next=null,D===null?P=te:D.next=te,D=q;var ae=l.alternate;ae!==null&&(ae=ae.updateQueue,G=ae.lastBaseUpdate,G!==D&&(G===null?ae.firstBaseUpdate=te:G.next=te,ae.lastBaseUpdate=q))}if(P!==null){var Se=S.baseState;D=0,ae=te=q=null,G=P;do{var ie=G.lane,je=G.eventTime;if((v&ie)===ie){ae!==null&&(ae=ae.next={eventTime:je,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var qe=l,mn=G;switch(ie=u,je=m,mn.tag){case 1:if(qe=mn.payload,typeof qe=="function"){Se=qe.call(je,Se,ie);break e}Se=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=mn.payload,ie=typeof qe=="function"?qe.call(je,Se,ie):qe,ie==null)break e;Se=o({},Se,ie);break e;case 2:Ci=!0}}G.callback!==null&&G.lane!==0&&(l.flags|=64,ie=S.effects,ie===null?S.effects=[G]:ie.push(G))}else je={eventTime:je,lane:ie,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ae===null?(te=ae=je,q=Se):ae=ae.next=je,D|=ie;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;ie=G,G=ie.next,ie.next=null,S.lastBaseUpdate=ie,S.shared.pending=null}}while(!0);if(ae===null&&(q=Se),S.baseState=q,S.firstBaseUpdate=te,S.lastBaseUpdate=ae,u=S.shared.interleaved,u!==null){S=u;do D|=S.lane,S=S.next;while(S!==u)}else P===null&&(S.shared.lanes=0);xo|=D,l.lanes=D,l.memoizedState=Se}}function Hy(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],S=v.callback;if(S!==null){if(v.callback=null,v=m,typeof S!="function")throw Error(s(191,S));S.call(v)}}}var Wl={},Fn=yi(Wl),ql=yi(Wl),vs=yi(Wl);function Cr(l){if(l===Wl)throw Error(s(174));return l}function Rh(l,u){Ye(vs,u),Ye(ql,l),Ye(Fn,Wl),l=pe(u),Ze(Fn),Ye(Fn,l)}function Cs(){Ze(Fn),Ze(ql),Ze(vs)}function Wy(l){var u=Cr(vs.current),m=Cr(Fn.current);u=B(m,l.type,u),m!==u&&(Ye(ql,l),Ye(Fn,u))}function Nh(l){ql.current===l&&(Ze(Fn),Ze(ql))}var lt=yi(0);function Lu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Ty(m)||ah(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Dh=[];function Fh(){for(var l=0;l<Dh.length;l++){var u=Dh[l];De?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Dh.length=0}var bu=a.ReactCurrentDispatcher,Lh=a.ReactCurrentBatchConfig,_o=0,at=null,wt=null,Ft=null,Uu=!1,$l=!1,Kl=0,rT=0;function Kt(){throw Error(s(321))}function bh(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Xn(l[m],u[m]))return!1;return!0}function Uh(l,u,m,v,S,P){if(_o=P,at=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,bu.current=l===null||l.memoizedState===null?lT:aT,l=m(v,S),$l){P=0;do{if($l=!1,Kl=0,25<=P)throw Error(s(301));P+=1,Ft=wt=null,u.updateQueue=null,bu.current=uT,l=m(v,S)}while($l)}if(bu.current=Ou,u=wt!==null&&wt.next!==null,_o=0,Ft=wt=at=null,Uu=!1,u)throw Error(s(300));return l}function Gh(){var l=Kl!==0;return Kl=0,l}function Sr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?at.memoizedState=Ft=l:Ft=Ft.next=l,Ft}function Ln(){if(wt===null){var l=at.alternate;l=l!==null?l.memoizedState:null}else l=wt.next;var u=Ft===null?at.memoizedState:Ft.next;if(u!==null)Ft=u,wt=l;else{if(l===null)throw Error(s(310));wt=l,l={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ft===null?at.memoizedState=Ft=l:Ft=Ft.next=l}return Ft}function Yl(l,u){return typeof u=="function"?u(l):u}function Vh(l){var u=Ln(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=wt,S=v.baseQueue,P=m.pending;if(P!==null){if(S!==null){var D=S.next;S.next=P.next,P.next=D}v.baseQueue=S=P,m.pending=null}if(S!==null){P=S.next,v=v.baseState;var G=D=null,q=null,te=P;do{var ae=te.lane;if((_o&ae)===ae)q!==null&&(q=q.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),v=te.hasEagerState?te.eagerState:l(v,te.action);else{var Se={lane:ae,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};q===null?(G=q=Se,D=v):q=q.next=Se,at.lanes|=ae,xo|=ae}te=te.next}while(te!==null&&te!==P);q===null?D=v:q.next=G,Xn(v,u.memoizedState)||(fn=!0),u.memoizedState=v,u.baseState=D,u.baseQueue=q,m.lastRenderedState=v}if(l=m.interleaved,l!==null){S=l;do P=S.lane,at.lanes|=P,xo|=P,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Oh(l){var u=Ln(),m=u.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var v=m.dispatch,S=m.pending,P=u.memoizedState;if(S!==null){m.pending=null;var D=S=S.next;do P=l(P,D.action),D=D.next;while(D!==S);Xn(P,u.memoizedState)||(fn=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),m.lastRenderedState=P}return[P,v]}function qy(){}function $y(l,u){var m=at,v=Ln(),S=u(),P=!Xn(v.memoizedState,S);if(P&&(v.memoizedState=S,fn=!0),v=v.queue,Bh(Jy.bind(null,m,v,l),[l]),v.getSnapshot!==u||P||Ft!==null&&Ft.memoizedState.tag&1){if(m.flags|=2048,Jl(9,Yy.bind(null,m,v,S,u),void 0,null),Lt===null)throw Error(s(349));_o&30||Ky(m,u,S)}return S}function Ky(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=at.updateQueue,u===null?(u={lastEffect:null,stores:null},at.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function Yy(l,u,m,v){u.value=m,u.getSnapshot=v,Qy(u)&&Xy(l)}function Jy(l,u,m){return m(function(){Qy(u)&&Xy(l)})}function Qy(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Xn(l,m)}catch{return!0}}function Xy(l){var u=vr(l,1);u!==null&&bn(u,l,1,-1)}function Zy(l){var u=Sr();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:l},u.queue=l,l=l.dispatch=sT.bind(null,at,l),[u.memoizedState,l]}function Jl(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},u=at.updateQueue,u===null?(u={lastEffect:null,stores:null},at.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l)),l}function jy(){return Ln().memoizedState}function Gu(l,u,m,v){var S=Sr();at.flags|=l,S.memoizedState=Jl(1|u,m,void 0,v===void 0?null:v)}function Vu(l,u,m,v){var S=Ln();v=v===void 0?null:v;var P=void 0;if(wt!==null){var D=wt.memoizedState;if(P=D.destroy,v!==null&&bh(v,D.deps)){S.memoizedState=Jl(u,m,P,v);return}}at.flags|=l,S.memoizedState=Jl(1|u,m,P,v)}function e1(l,u){return Gu(8390656,8,l,u)}function Bh(l,u){return Vu(2048,8,l,u)}function t1(l,u){return Vu(4,2,l,u)}function n1(l,u){return Vu(4,4,l,u)}function r1(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function i1(l,u,m){return m=m!=null?m.concat([l]):null,Vu(4,4,r1.bind(null,u,l),m)}function zh(){}function o1(l,u){var m=Ln();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&bh(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function s1(l,u){var m=Ln();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&bh(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function l1(l,u,m){return _o&21?(Xn(m,u)||(m=Py(),at.lanes|=m,xo|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,fn=!0),l.memoizedState=m)}function iT(l,u){var m=Le;Le=m!==0&&4>m?m:4,l(!0);var v=Lh.transition;Lh.transition={};try{l(!1),u()}finally{Le=m,Lh.transition=v}}function a1(){return Ln().memoizedState}function oT(l,u,m){var v=Ti(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},u1(l))c1(u,m);else if(m=Oy(l,u,m,v),m!==null){var S=Qt();bn(m,l,v,S),d1(m,u,v)}}function sT(l,u,m){var v=Ti(l),S={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(u1(l))c1(u,S);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var D=u.lastRenderedState,G=P(D,m);if(S.hasEagerState=!0,S.eagerState=G,Xn(G,D)){var q=u.interleaved;q===null?(S.next=S,Ih(u)):(S.next=q.next,q.next=S),u.interleaved=S;return}}catch{}finally{}m=Oy(l,u,S,v),m!==null&&(S=Qt(),bn(m,l,v,S),d1(m,u,v))}}function u1(l){var u=l.alternate;return l===at||u!==null&&u===at}function c1(l,u){$l=Uu=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function d1(l,u,m){if(m&4194240){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,mh(l,m)}}var Ou={readContext:Dn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},lT={readContext:Dn,useCallback:function(l,u){return Sr().memoizedState=[l,u===void 0?null:u],l},useContext:Dn,useEffect:e1,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,Gu(4194308,4,r1.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Gu(4194308,4,l,u)},useInsertionEffect:function(l,u){return Gu(4,2,l,u)},useMemo:function(l,u){var m=Sr();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Sr();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=oT.bind(null,at,l),[v.memoizedState,l]},useRef:function(l){var u=Sr();return l={current:l},u.memoizedState=l},useState:Zy,useDebugValue:zh,useDeferredValue:function(l){return Sr().memoizedState=l},useTransition:function(){var l=Zy(!1),u=l[0];return l=iT.bind(null,l[1]),Sr().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=at,S=Sr();if(rt){if(m===void 0)throw Error(s(407));m=m()}else{if(m=u(),Lt===null)throw Error(s(349));_o&30||Ky(v,u,m)}S.memoizedState=m;var P={value:m,getSnapshot:u};return S.queue=P,e1(Jy.bind(null,v,P,l),[l]),v.flags|=2048,Jl(9,Yy.bind(null,v,P,m,u),void 0,null),m},useId:function(){var l=Sr(),u=Lt.identifierPrefix;if(rt){var m=Vr,v=Gr;m=(v&~(1<<32-Qn(v)-1)).toString(32)+m,u=":"+u+"R"+m,m=Kl++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=rT++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},aT={readContext:Dn,useCallback:o1,useContext:Dn,useEffect:Bh,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:s1,useReducer:Vh,useRef:jy,useState:function(){return Vh(Yl)},useDebugValue:zh,useDeferredValue:function(l){var u=Ln();return l1(u,wt.memoizedState,l)},useTransition:function(){var l=Vh(Yl)[0],u=Ln().memoizedState;return[l,u]},useMutableSource:qy,useSyncExternalStore:$y,useId:a1,unstable_isNewReconciler:!1},uT={readContext:Dn,useCallback:o1,useContext:Dn,useEffect:Bh,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:s1,useReducer:Oh,useRef:jy,useState:function(){return Oh(Yl)},useDebugValue:zh,useDeferredValue:function(l){var u=Ln();return wt===null?u.memoizedState=l:l1(u,wt.memoizedState,l)},useTransition:function(){var l=Oh(Yl)[0],u=Ln().memoizedState;return[l,u]},useMutableSource:qy,useSyncExternalStore:$y,useId:a1,unstable_isNewReconciler:!1};function jn(l,u){if(l&&l.defaultProps){u=o({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function Hh(l,u,m,v){u=l.memoizedState,m=m(v,u),m=m==null?u:o({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Bu={isMounted:function(l){return(l=l._reactInternals)?b(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=Qt(),S=Ti(l),P=Or(v,S);P.payload=u,m!=null&&(P.callback=m),u=Si(l,P,S),u!==null&&(bn(u,l,S,v),Du(u,l,S))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=Qt(),S=Ti(l),P=Or(v,S);P.tag=1,P.payload=u,m!=null&&(P.callback=m),u=Si(l,P,S),u!==null&&(bn(u,l,S,v),Du(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=Qt(),v=Ti(l),S=Or(m,v);S.tag=2,u!=null&&(S.callback=u),u=Si(l,S,v),u!==null&&(bn(u,l,v,m),Du(u,l,v))}};function f1(l,u,m,v,S,P,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,P,D):u.prototype&&u.prototype.isPureReactComponent?!Iu(m,v)||!Iu(S,P):!0}function h1(l,u,m){var v=!1,S=vi,P=u.contextType;return typeof P=="object"&&P!==null?P=Dn(P):(S=dn(u)?yo:$t.current,v=u.contextTypes,P=(v=v!=null)?ds(l,S):vi),u=new u(m,P),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bu,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=P),u}function p1(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Bu.enqueueReplaceState(u,u.state,null)}function Wh(l,u,m,v){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},Ah(l);var P=u.contextType;typeof P=="object"&&P!==null?S.context=Dn(P):(P=dn(u)?yo:$t.current,S.context=ds(l,P)),S.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Hh(l,u,P,m),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Bu.enqueueReplaceState(S,S.state,null),Fu(l,m,S,v),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Ss(l,u){try{var m="",v=u;do m+=nT(v),v=v.return;while(v);var S=m}catch(P){S=`
Error generating stack: `+P.message+`
`+P.stack}return{value:l,source:u,stack:S,digest:null}}function qh(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function $h(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var cT=typeof WeakMap=="function"?WeakMap:Map;function m1(l,u,m){m=Or(-1,m),m.tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){tc||(tc=!0,fp=v),$h(l,u)},m}function g1(l,u,m){m=Or(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var S=u.value;m.payload=function(){return v(S)},m.callback=function(){$h(l,u)}}var P=l.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(m.callback=function(){$h(l,u),typeof v!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),m}function y1(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new cT;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(m)||(S.add(m),l=wT.bind(null,l,u,m),u.then(l,l))}function v1(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function C1(l,u,m,v,S){return l.mode&1?(l.flags|=65536,l.lanes=S,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Or(-1,1),u.tag=2,Si(m,u,1))),m.lanes|=1),l)}var dT=a.ReactCurrentOwner,fn=!1;function rn(l,u,m,v){u.child=l===null?Gy(u,null,m,v):ms(u,l.child,m,v)}function S1(l,u,m,v,S){m=m.render;var P=u.ref;return ys(u,S),v=Uh(l,u,m,v,P,S),m=Gh(),l!==null&&!fn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Br(l,u,S)):(rt&&m&&Sh(u),u.flags|=1,rn(l,u,v,S),u.child)}function _1(l,u,m,v,S){if(l===null){var P=m.type;return typeof P=="function"&&!vp(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=P,x1(l,u,P,v,S)):(l=lc(m.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,!(l.lanes&S)){var D=P.memoizedProps;if(m=m.compare,m=m!==null?m:Iu,m(D,v)&&l.ref===u.ref)return Br(l,u,S)}return u.flags|=1,l=Ei(P,v),l.ref=u.ref,l.return=u,u.child=l}function x1(l,u,m,v,S){if(l!==null){var P=l.memoizedProps;if(Iu(P,v)&&l.ref===u.ref)if(fn=!1,u.pendingProps=v=P,(l.lanes&S)!==0)l.flags&131072&&(fn=!0);else return u.lanes=l.lanes,Br(l,u,S)}return Kh(l,u,m,v,S)}function T1(l,u,m){var v=u.pendingProps,S=v.children,P=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(xs,Tn),Tn|=m;else{if(!(m&1073741824))return l=P!==null?P.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ye(xs,Tn),Tn|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=P!==null?P.baseLanes:m,Ye(xs,Tn),Tn|=v}else P!==null?(v=P.baseLanes|m,u.memoizedState=null):v=m,Ye(xs,Tn),Tn|=v;return rn(l,u,S,m),u.child}function w1(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Kh(l,u,m,v,S){var P=dn(m)?yo:$t.current;return P=ds(u,P),ys(u,S),m=Uh(l,u,m,v,P,S),v=Gh(),l!==null&&!fn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Br(l,u,S)):(rt&&v&&Sh(u),u.flags|=1,rn(l,u,m,S),u.child)}function E1(l,u,m,v,S){if(dn(m)){var P=!0;Su(u)}else P=!1;if(ys(u,S),u.stateNode===null)Hu(l,u),h1(u,m,v),Wh(u,m,v,S),v=!0;else if(l===null){var D=u.stateNode,G=u.memoizedProps;D.props=G;var q=D.context,te=m.contextType;typeof te=="object"&&te!==null?te=Dn(te):(te=dn(m)?yo:$t.current,te=ds(u,te));var ae=m.getDerivedStateFromProps,Se=typeof ae=="function"||typeof D.getSnapshotBeforeUpdate=="function";Se||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==v||q!==te)&&p1(u,D,v,te),Ci=!1;var ie=u.memoizedState;D.state=ie,Fu(u,v,D,S),q=u.memoizedState,G!==v||ie!==q||cn.current||Ci?(typeof ae=="function"&&(Hh(u,m,ae,v),q=u.memoizedState),(G=Ci||f1(u,m,G,v,ie,q,te))?(Se||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=q),D.props=v,D.state=q,D.context=te,v=G):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{D=u.stateNode,By(l,u),G=u.memoizedProps,te=u.type===u.elementType?G:jn(u.type,G),D.props=te,Se=u.pendingProps,ie=D.context,q=m.contextType,typeof q=="object"&&q!==null?q=Dn(q):(q=dn(m)?yo:$t.current,q=ds(u,q));var je=m.getDerivedStateFromProps;(ae=typeof je=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==Se||ie!==q)&&p1(u,D,v,q),Ci=!1,ie=u.memoizedState,D.state=ie,Fu(u,v,D,S);var qe=u.memoizedState;G!==Se||ie!==qe||cn.current||Ci?(typeof je=="function"&&(Hh(u,m,je,v),qe=u.memoizedState),(te=Ci||f1(u,m,te,v,ie,qe,q)||!1)?(ae||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,qe,q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,qe,q)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=qe),D.props=v,D.state=qe,D.context=q,v=te):(typeof D.componentDidUpdate!="function"||G===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),v=!1)}return Yh(l,u,m,v,P,S)}function Yh(l,u,m,v,S,P){w1(l,u);var D=(u.flags&128)!==0;if(!v&&!D)return S&&ky(u,m,!1),Br(l,u,P);v=u.stateNode,dT.current=u;var G=D&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&D?(u.child=ms(u,l.child,null,P),u.child=ms(u,null,G,P)):rn(l,u,G,P),u.memoizedState=v.state,S&&ky(u,m,!0),u.child}function k1(l){var u=l.stateNode;u.pendingContext?wy(l,u.pendingContext,u.pendingContext!==u.context):u.context&&wy(l,u.context,!1),Rh(l,u.containerInfo)}function P1(l,u,m,v,S){return ps(),wh(S),u.flags|=256,rn(l,u,m,v),u.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Qh(l){return{baseLanes:l,cachePool:null,transitions:null}}function M1(l,u,m){var v=u.pendingProps,S=lt.current,P=!1,D=(u.flags&128)!==0,G;if((G=D)||(G=l!==null&&l.memoizedState===null?!1:(S&2)!==0),G?(P=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),Ye(lt,S&1),l===null)return Th(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(u.mode&1?ah(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(D=v.children,l=v.fallback,P?(v=u.mode,P=u.child,D={mode:"hidden",children:D},!(v&1)&&P!==null?(P.childLanes=0,P.pendingProps=D):P=ac(D,v,0,null),l=ko(l,v,m,null),P.return=u,l.return=u,P.sibling=l,u.child=P,u.child.memoizedState=Qh(m),u.memoizedState=Jh,l):Xh(u,D));if(S=l.memoizedState,S!==null&&(G=S.dehydrated,G!==null))return fT(l,u,D,v,G,S,m);if(P){P=v.fallback,D=u.mode,S=l.child,G=S.sibling;var q={mode:"hidden",children:v.children};return!(D&1)&&u.child!==S?(v=u.child,v.childLanes=0,v.pendingProps=q,u.deletions=null):(v=Ei(S,q),v.subtreeFlags=S.subtreeFlags&14680064),G!==null?P=Ei(G,P):(P=ko(P,D,m,null),P.flags|=2),P.return=u,v.return=u,v.sibling=P,u.child=v,v=P,P=u.child,D=l.child.memoizedState,D=D===null?Qh(m):{baseLanes:D.baseLanes|m,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=l.childLanes&~m,u.memoizedState=Jh,v}return P=l.child,l=P.sibling,v=Ei(P,{mode:"visible",children:v.children}),!(u.mode&1)&&(v.lanes=m),v.return=u,v.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=v,u.memoizedState=null,v}function Xh(l,u){return u=ac({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function zu(l,u,m,v){return v!==null&&wh(v),ms(u,l.child,null,m),l=Xh(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function fT(l,u,m,v,S,P,D){if(m)return u.flags&256?(u.flags&=-257,v=qh(Error(s(422))),zu(l,u,D,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(P=v.fallback,S=u.mode,v=ac({mode:"visible",children:v.children},S,0,null),P=ko(P,S,D,null),P.flags|=2,v.return=u,P.return=u,v.sibling=P,u.child=v,u.mode&1&&ms(u,l.child,null,D),u.child.memoizedState=Qh(D),u.memoizedState=Jh,P);if(!(u.mode&1))return zu(l,u,D,null);if(ah(S))return v=E6(S).digest,P=Error(s(419)),v=qh(P,v,void 0),zu(l,u,D,v);if(m=(D&l.childLanes)!==0,fn||m){if(v=Lt,v!==null){switch(D&-D){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(v.suspendedLanes|D)?0:S,S!==0&&S!==P.retryLane&&(P.retryLane=S,vr(l,S),bn(v,l,S,-1))}return yp(),v=qh(Error(s(421))),zu(l,u,D,v)}return Ty(S)?(u.flags|=128,u.child=l.child,u=ET.bind(null,l),k6(S,u),null):(l=P.treeContext,Xe&&(Nn=I6(S),xn=u,rt=!0,Zn=null,zl=!1,l!==null&&(An[Rn++]=Gr,An[Rn++]=Vr,An[Rn++]=vo,Gr=l.id,Vr=l.overflow,vo=u)),u=Xh(u,v.children),u.flags|=4096,u)}function I1(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Mh(l.return,u,m)}function Zh(l,u,m,v,S){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=m,P.tailMode=S)}function A1(l,u,m){var v=u.pendingProps,S=v.revealOrder,P=v.tail;if(rn(l,u,v.children,m),v=lt.current,v&2)v=v&1|2,u.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&I1(l,m,u);else if(l.tag===19)I1(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Ye(lt,v),!(u.mode&1))u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)l=m.alternate,l!==null&&Lu(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),Zh(u,!1,S,m,P);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Lu(l)===null){u.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}Zh(u,!0,m,null,P);break;case"together":Zh(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Hu(l,u){!(u.mode&1)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Br(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),xo|=u.lanes,!(m&u.childLanes))return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(l=u.child,m=Ei(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Ei(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function hT(l,u,m){switch(u.tag){case 3:k1(u),ps();break;case 5:Wy(u);break;case 1:dn(u.type)&&Su(u);break;case 4:Rh(u,u.stateNode.containerInfo);break;case 10:Vy(u,u.type._context,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Ye(lt,lt.current&1),u.flags|=128,null):m&u.child.childLanes?M1(l,u,m):(Ye(lt,lt.current&1),l=Br(l,u,m),l!==null?l.sibling:null);Ye(lt,lt.current&1);break;case 19:if(v=(m&u.childLanes)!==0,l.flags&128){if(v)return A1(l,u,m);u.flags|=128}var S=u.memoizedState;if(S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Ye(lt,lt.current),v)break;return null;case 22:case 23:return u.lanes=0,T1(l,u,m)}return Br(l,u,m)}function _r(l){l.flags|=4}function R1(l,u){if(l!==null&&l.child===u.child)return!0;if(u.flags&16)return!1;for(l=u.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var Ql,Xl,Wu,qu;if(Ce)Ql=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)ne(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Xl=function(){},Wu=function(l,u,m,v,S){if(l=l.memoizedProps,l!==v){var P=u.stateNode,D=Cr(Fn.current);m=Te(P,m,l,v,S,D),(u.updateQueue=m)&&_r(u)}},qu=function(l,u,m,v){m!==v&&_r(u)};else if(Ge){Ql=function(l,u,m,v){for(var S=u.child;S!==null;){if(S.tag===5){var P=S.stateNode;m&&v&&(P=_y(P,S.type,S.memoizedProps,S)),ne(l,P)}else if(S.tag===6)P=S.stateNode,m&&v&&(P=xy(P,S.memoizedProps,S)),ne(l,P);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)P=S.child,P!==null&&(P.return=S),Ql(l,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};var N1=function(l,u,m,v){for(var S=u.child;S!==null;){if(S.tag===5){var P=S.stateNode;m&&v&&(P=_y(P,S.type,S.memoizedProps,S)),Sy(l,P)}else if(S.tag===6)P=S.stateNode,m&&v&&(P=xy(P,S.memoizedProps,S)),Sy(l,P);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)P=S.child,P!==null&&(P.return=S),N1(l,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};Xl=function(l,u){var m=u.stateNode;if(!R1(l,u)){l=m.containerInfo;var v=Cy(l);N1(v,u,!1,!1),m.pendingChildren=v,_r(u),_6(l,v)}},Wu=function(l,u,m,v,S){var P=l.stateNode,D=l.memoizedProps;if((l=R1(l,u))&&D===v)u.stateNode=P;else{var G=u.stateNode,q=Cr(Fn.current),te=null;D!==v&&(te=Te(G,m,D,v,S,q)),l&&te===null?u.stateNode=P:(P=S6(P,te,m,D,v,u,l,G),ge(P,m,v,S,q)&&_r(u),u.stateNode=P,l?_r(u):Ql(P,u,!1,!1))}},qu=function(l,u,m,v){m!==v?(l=Cr(vs.current),m=Cr(Fn.current),u.stateNode=ze(v,l,m,u),_r(u)):u.stateNode=l.stateNode}}else Xl=function(){},Wu=function(){},qu=function(){};function Zl(l,u){if(!rt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Yt(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function pT(l,u,m){var v=u.pendingProps;switch(_h(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(u),null;case 1:return dn(u.type)&&Cu(),Yt(u),null;case 3:return m=u.stateNode,Cs(),Ze(cn),Ze($t),Fh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(Mu(u)?_r(u):l===null||l.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Zn!==null&&(mp(Zn),Zn=null))),Xl(l,u),Yt(u),null;case 5:Nh(u),m=Cr(vs.current);var S=u.type;if(l!==null&&u.stateNode!=null)Wu(l,u,S,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(s(166));return Yt(u),null}if(l=Cr(Fn.current),Mu(u)){if(!Xe)throw Error(s(175));l=A6(u.stateNode,u.type,u.memoizedProps,m,l,u,!zl),u.updateQueue=l,l!==null&&_r(u)}else{var P=re(S,v,m,l,u);Ql(P,u,!1,!1),u.stateNode=P,ge(P,S,v,m,l)&&_r(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Yt(u),null;case 6:if(l&&u.stateNode!=null)qu(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(s(166));if(l=Cr(vs.current),m=Cr(Fn.current),Mu(u)){if(!Xe)throw Error(s(176));if(l=u.stateNode,m=u.memoizedProps,(v=R6(l,m,u,!zl))&&(S=xn,S!==null))switch(S.tag){case 3:V6(S.stateNode.containerInfo,l,m,(S.mode&1)!==0);break;case 5:O6(S.type,S.memoizedProps,S.stateNode,l,m,(S.mode&1)!==0)}v&&_r(u)}else u.stateNode=ze(v,l,m,u)}return Yt(u),null;case 13:if(Ze(lt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(rt&&Nn!==null&&u.mode&1&&!(u.flags&128))Ly(),ps(),u.flags|=98560,S=!1;else if(S=Mu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(s(318));if(!Xe)throw Error(s(344));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));N6(S,u)}else ps(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Yt(u),S=!1}else Zn!==null&&(mp(Zn),Zn=null),S=!0;if(!S)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(m=v!==null,m!==(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,u.mode&1&&(l===null||lt.current&1?Et===0&&(Et=3):yp())),u.updateQueue!==null&&(u.flags|=4),Yt(u),null);case 4:return Cs(),Xl(l,u),l===null&&We(u.stateNode.containerInfo),Yt(u),null;case 10:return Ph(u.type._context),Yt(u),null;case 17:return dn(u.type)&&Cu(),Yt(u),null;case 19:if(Ze(lt),S=u.memoizedState,S===null)return Yt(u),null;if(v=(u.flags&128)!==0,P=S.rendering,P===null)if(v)Zl(S,!1);else{if(Et!==0||l!==null&&l.flags&128)for(l=u.child;l!==null;){if(P=Lu(l),P!==null){for(u.flags|=128,Zl(S,!1),l=P.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)v=m,S=l,v.flags&=14680066,P=v.alternate,P===null?(v.childLanes=0,v.lanes=S,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=P.childLanes,v.lanes=P.lanes,v.child=P.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=P.memoizedProps,v.memoizedState=P.memoizedState,v.updateQueue=P.updateQueue,v.type=P.type,S=P.dependencies,v.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),m=m.sibling;return Ye(lt,lt.current&1|2),u.child}l=l.sibling}S.tail!==null&&Dt()>dp&&(u.flags|=128,v=!0,Zl(S,!1),u.lanes=4194304)}else{if(!v)if(l=Lu(P),l!==null){if(u.flags|=128,v=!0,l=l.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),Zl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!rt)return Yt(u),null}else 2*Dt()-S.renderingStartTime>dp&&m!==1073741824&&(u.flags|=128,v=!0,Zl(S,!1),u.lanes=4194304);S.isBackwards?(P.sibling=u.child,u.child=P):(l=S.last,l!==null?l.sibling=P:u.child=P,S.last=P)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=Dt(),u.sibling=null,l=lt.current,Ye(lt,v?l&1|2:l&1),u):(Yt(u),null);case 22:case 23:return gp(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&u.mode&1?Tn&1073741824&&(Yt(u),Ce&&u.subtreeFlags&6&&(u.flags|=8192)):Yt(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function mT(l,u){switch(_h(u),u.tag){case 1:return dn(u.type)&&Cu(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Cs(),Ze(cn),Ze($t),Fh(),l=u.flags,l&65536&&!(l&128)?(u.flags=l&-65537|128,u):null;case 5:return Nh(u),null;case 13:if(Ze(lt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));ps()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Ze(lt),null;case 4:return Cs(),null;case 10:return Ph(u.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var $u=!1,Jt=!1,gT=typeof WeakSet=="function"?WeakSet:Set,se=null;function _s(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){it(l,u,v)}else m.current=null}function jh(l,u,m){try{m()}catch(v){it(l,u,v)}}var D1=!1;function yT(l,u){for(ee(l.containerInfo),se=u;se!==null;)if(l=se,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,se=u;else for(;se!==null;){l=se;try{var m=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,P=l.stateNode,D=P.getSnapshotBeforeUpdate(l.elementType===l.type?v:jn(l.type,v),S);P.__reactInternalSnapshotBeforeUpdate=D}break;case 3:Ce&&C6(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(G){it(l,l.return,G)}if(u=l.sibling,u!==null){u.return=l.return,se=u;break}se=l.return}return m=D1,D1=!1,m}function jl(l,u,m){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&l)===l){var P=S.destroy;S.destroy=void 0,P!==void 0&&jh(u,m,P)}S=S.next}while(S!==v)}}function Ku(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function ep(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=fe(m);break;default:l=m}typeof u=="function"?u(l):u.current=l}}function F1(l){var u=l.alternate;u!==null&&(l.alternate=null,F1(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Jn(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function L1(l){return l.tag===5||l.tag===3||l.tag===4}function b1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||L1(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function tp(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?f6(m,l,u):l6(m,l);else if(v!==4&&(l=l.child,l!==null))for(tp(l,u,m),l=l.sibling;l!==null;)tp(l,u,m),l=l.sibling}function np(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?d6(m,l,u):s6(m,l);else if(v!==4&&(l=l.child,l!==null))for(np(l,u,m),l=l.sibling;l!==null;)np(l,u,m),l=l.sibling}var Ot=null,er=!1;function xr(l,u,m){for(m=m.child;m!==null;)rp(l,u,m),m=m.sibling}function rp(l,u,m){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(wu,m)}catch{}switch(m.tag){case 5:Jt||_s(m,u);case 6:if(Ce){var v=Ot,S=er;Ot=null,xr(l,u,m),Ot=v,er=S,Ot!==null&&(er?p6(Ot,m.stateNode):h6(Ot,m.stateNode))}else xr(l,u,m);break;case 18:Ce&&Ot!==null&&(er?U6(Ot,m.stateNode):b6(Ot,m.stateNode));break;case 4:Ce?(v=Ot,S=er,Ot=m.stateNode.containerInfo,er=!0,xr(l,u,m),Ot=v,er=S):(Ge&&(v=m.stateNode.containerInfo,S=Cy(v),lh(v,S)),xr(l,u,m));break;case 0:case 11:case 14:case 15:if(!Jt&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var P=S,D=P.destroy;P=P.tag,D!==void 0&&(P&2||P&4)&&jh(m,u,D),S=S.next}while(S!==v)}xr(l,u,m);break;case 1:if(!Jt&&(_s(m,u),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(G){it(m,u,G)}xr(l,u,m);break;case 21:xr(l,u,m);break;case 22:m.mode&1?(Jt=(v=Jt)||m.memoizedState!==null,xr(l,u,m),Jt=v):xr(l,u,m);break;default:xr(l,u,m)}}function U1(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new gT),u.forEach(function(v){var S=kT.bind(null,l,v);m.has(v)||(m.add(v),v.then(S,S))})}}function tr(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v];try{var P=l,D=u;if(Ce){var G=D;e:for(;G!==null;){switch(G.tag){case 5:Ot=G.stateNode,er=!1;break e;case 3:Ot=G.stateNode.containerInfo,er=!0;break e;case 4:Ot=G.stateNode.containerInfo,er=!0;break e}G=G.return}if(Ot===null)throw Error(s(160));rp(P,D,S),Ot=null,er=!1}else rp(P,D,S);var q=S.alternate;q!==null&&(q.return=null),S.return=null}catch(te){it(S,u,te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)G1(u,l),u=u.sibling}function G1(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(tr(u,l),Tr(l),v&4){try{jl(3,l,l.return),Ku(3,l)}catch(ie){it(l,l.return,ie)}try{jl(5,l,l.return)}catch(ie){it(l,l.return,ie)}}break;case 1:tr(u,l),Tr(l),v&512&&m!==null&&_s(m,m.return);break;case 5:if(tr(u,l),Tr(l),v&512&&m!==null&&_s(m,m.return),Ce){if(l.flags&32){var S=l.stateNode;try{vy(S)}catch(ie){it(l,l.return,ie)}}if(v&4&&(S=l.stateNode,S!=null)){var P=l.memoizedProps;if(m=m!==null?m.memoizedProps:P,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{c6(S,u,v,m,P,l)}catch(ie){it(l,l.return,ie)}}}break;case 6:if(tr(u,l),Tr(l),v&4&&Ce){if(l.stateNode===null)throw Error(s(162));S=l.stateNode,P=l.memoizedProps,m=m!==null?m.memoizedProps:P;try{a6(S,m,P)}catch(ie){it(l,l.return,ie)}}break;case 3:if(tr(u,l),Tr(l),v&4){if(Ce&&Xe&&m!==null&&m.memoizedState.isDehydrated)try{F6(u.containerInfo)}catch(ie){it(l,l.return,ie)}if(Ge){S=u.containerInfo,P=u.pendingChildren;try{lh(S,P)}catch(ie){it(l,l.return,ie)}}}break;case 4:if(tr(u,l),Tr(l),v&4&&Ge){P=l.stateNode,S=P.containerInfo,P=P.pendingChildren;try{lh(S,P)}catch(ie){it(l,l.return,ie)}}break;case 13:tr(u,l),Tr(l),S=l.child,S.flags&8192&&(P=S.memoizedState!==null,S.stateNode.isHidden=P,!P||S.alternate!==null&&S.alternate.memoizedState!==null||(cp=Dt())),v&4&&U1(l);break;case 22:var D=m!==null&&m.memoizedState!==null;if(l.mode&1?(Jt=(m=Jt)||D,tr(u,l),Jt=m):tr(u,l),Tr(l),v&8192){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!D&&l.mode&1)for(se=l,v=l.child;v!==null;){for(u=se=v;se!==null;){D=se;var G=D.child;switch(D.tag){case 0:case 11:case 14:case 15:jl(4,D,D.return);break;case 1:_s(D,D.return);var q=D.stateNode;if(typeof q.componentWillUnmount=="function"){var te=D,ae=D.return;try{var Se=te;q.props=Se.memoizedProps,q.state=Se.memoizedState,q.componentWillUnmount()}catch(ie){it(te,ae,ie)}}break;case 5:_s(D,D.return);break;case 22:if(D.memoizedState!==null){B1(u);continue}}G!==null?(G.return=D,se=G):B1(u)}v=v.sibling}if(Ce){e:if(v=null,Ce)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{S=u.stateNode,m?m6(S):y6(u.stateNode,u.memoizedProps)}catch(ie){it(l,l.return,ie)}}}else if(u.tag===6){if(v===null)try{P=u.stateNode,m?g6(P):v6(P,u.memoizedProps)}catch(ie){it(l,l.return,ie)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:tr(u,l),Tr(l),v&4&&U1(l);break;case 21:break;default:tr(u,l),Tr(l)}}function Tr(l){var u=l.flags;if(u&2){try{if(Ce){e:{for(var m=l.return;m!==null;){if(L1(m)){var v=m;break e}m=m.return}throw Error(s(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(vy(S),v.flags&=-33);var P=b1(l);np(l,P,S);break;case 3:case 4:var D=v.stateNode.containerInfo,G=b1(l);tp(l,G,D);break;default:throw Error(s(161))}}}catch(q){it(l,l.return,q)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function vT(l,u,m){se=l,V1(l)}function V1(l,u,m){for(var v=(l.mode&1)!==0;se!==null;){var S=se,P=S.child;if(S.tag===22&&v){var D=S.memoizedState!==null||$u;if(!D){var G=S.alternate,q=G!==null&&G.memoizedState!==null||Jt;G=$u;var te=Jt;if($u=D,(Jt=q)&&!te)for(se=S;se!==null;)D=se,q=D.child,D.tag===22&&D.memoizedState!==null?z1(S):q!==null?(q.return=D,se=q):z1(S);for(;P!==null;)se=P,V1(P),P=P.sibling;se=S,$u=G,Jt=te}O1(l)}else S.subtreeFlags&8772&&P!==null?(P.return=S,se=P):O1(l)}}function O1(l){for(;se!==null;){var u=se;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Jt||Ku(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Jt)if(m===null)v.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:jn(u.type,m.memoizedProps);v.componentDidUpdate(S,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&Hy(u,P,v);break;case 3:var D=u.updateQueue;if(D!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=fe(u.child.stateNode);break;case 1:m=u.child.stateNode}Hy(u,D,m)}break;case 5:var G=u.stateNode;m===null&&u.flags&4&&u6(G,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(Xe&&u.memoizedState===null){var q=u.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ae=te.dehydrated;ae!==null&&L6(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Jt||u.flags&512&&ep(u)}catch(Se){it(u,u.return,Se)}}if(u===l){se=null;break}if(m=u.sibling,m!==null){m.return=u.return,se=m;break}se=u.return}}function B1(l){for(;se!==null;){var u=se;if(u===l){se=null;break}var m=u.sibling;if(m!==null){m.return=u.return,se=m;break}se=u.return}}function z1(l){for(;se!==null;){var u=se;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Ku(4,u)}catch(q){it(u,m,q)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var S=u.return;try{v.componentDidMount()}catch(q){it(u,S,q)}}var P=u.return;try{ep(u)}catch(q){it(u,P,q)}break;case 5:var D=u.return;try{ep(u)}catch(q){it(u,D,q)}}}catch(q){it(u,u.return,q)}if(u===l){se=null;break}var G=u.sibling;if(G!==null){G.return=u.return,se=G;break}se=u.return}}var Yu=0,Ju=1,Qu=2,Xu=3,Zu=4;if(typeof Symbol=="function"&&Symbol.for){var ea=Symbol.for;Yu=ea("selector.component"),Ju=ea("selector.has_pseudo_class"),Qu=ea("selector.role"),Xu=ea("selector.test_id"),Zu=ea("selector.text")}function ip(l){var u=mr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if(l=e6(l),l===null)throw Error(s(362));return l.stateNode.current}function op(l,u){switch(u.$$typeof){case Yu:if(l.type===u.value)return!0;break;case Ju:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],S=l[m++],P=u[S];if(v.tag!==5||!Gl(v)){for(;P!=null&&op(v,P);)S++,P=u[S];if(S===u.length){u=!0;break e}else for(v=v.child;v!==null;)l.push(v,S),v=v.sibling}}u=!1}return u;case Qu:if(l.tag===5&&r6(l.stateNode,u.value))return!0;break;case Zu:if((l.tag===5||l.tag===6)&&(l=n6(l),l!==null&&0<=l.indexOf(u.value)))return!0;break;case Xu:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function sp(l){switch(l.$$typeof){case Yu:return"<"+(F(l.value)||"Unknown")+">";case Ju:return":has("+(sp(l)||"")+")";case Qu:return'[role="'+l.value+'"]';case Zu:return'"'+l.value+'"';case Xu:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function H1(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var S=l[v++],P=l[v++],D=u[P];if(S.tag!==5||!Gl(S)){for(;D!=null&&op(S,D);)P++,D=u[P];if(P===u.length)m.push(S);else for(S=S.child;S!==null;)l.push(S,P),S=S.sibling}}return m}function lp(l,u){if(!Ul)throw Error(s(363));l=ip(l),l=H1(l,u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)Gl(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var CT=Math.ceil,ju=a.ReactCurrentDispatcher,ap=a.ReactCurrentOwner,vt=a.ReactCurrentBatchConfig,Pe=0,Lt=null,xt=null,Bt=0,Tn=0,xs=yi(0),Et=0,ta=null,xo=0,ec=0,up=0,na=null,hn=null,cp=0,dp=1/0,zr=null;function Ts(){dp=Dt()+500}var tc=!1,fp=null,_i=null,nc=!1,xi=null,rc=0,ra=0,hp=null,ic=-1,oc=0;function Qt(){return Pe&6?Dt():ic!==-1?ic:ic=Dt()}function Ti(l){return l.mode&1?Pe&2&&Bt!==0?Bt&-Bt:tT.transition!==null?(oc===0&&(oc=Py()),oc):(l=Le,l!==0?l:mi()):1}function bn(l,u,m,v){if(50<ra)throw ra=0,hp=null,Error(s(185));Bl(l,m,v),(!(Pe&2)||l!==Lt)&&(l===Lt&&(!(Pe&2)&&(ec|=m),Et===4&&wi(l,Bt)),pn(l,v),m===1&&Pe===0&&!(u.mode&1)&&(Ts(),Eu&&yr()))}function pn(l,u){var m=l.callbackNode;$6(l,u);var v=Tu(l,l===Lt?Bt:0);if(v===0)m!==null&&Iy(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&Iy(m),u===1)l.tag===0?eT(q1.bind(null,l)):Ay(q1.bind(null,l)),gi?jx(function(){!(Pe&6)&&yr()}):gh(yh,yr),m=null;else{switch(My(v)){case 1:m=yh;break;case 4:m=Q6;break;case 16:m=vh;break;case 536870912:m=X6;break;default:m=vh}m=ev(m,W1.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function W1(l,u){if(ic=-1,oc=0,Pe&6)throw Error(s(327));var m=l.callbackNode;if(Eo()&&l.callbackNode!==m)return null;var v=Tu(l,l===Lt?Bt:0);if(v===0)return null;if(v&30||v&l.expiredLanes||u)u=sc(l,v);else{u=v;var S=Pe;Pe|=2;var P=Y1();(Lt!==l||Bt!==u)&&(zr=null,Ts(),To(l,u));do try{xT();break}catch(G){K1(l,G)}while(!0);kh(),ju.current=P,Pe=S,xt!==null?u=0:(Lt=null,Bt=0,u=Et)}if(u!==0){if(u===2&&(S=hh(l),S!==0&&(v=S,u=pp(l,S))),u===1)throw m=ta,To(l,0),wi(l,v),pn(l,Dt()),m;if(u===6)wi(l,v);else{if(S=l.current.alternate,!(v&30)&&!ST(S)&&(u=sc(l,v),u===2&&(P=hh(l),P!==0&&(v=P,u=pp(l,P))),u===1))throw m=ta,To(l,0),wi(l,v),pn(l,Dt()),m;switch(l.finishedWork=S,l.finishedLanes=v,u){case 0:case 1:throw Error(s(345));case 2:wo(l,hn,zr);break;case 3:if(wi(l,v),(v&130023424)===v&&(u=cp+500-Dt(),10<u)){if(Tu(l,0)!==0)break;if(S=l.suspendedLanes,(S&v)!==v){Qt(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=U(wo.bind(null,l,hn,zr),u);break}wo(l,hn,zr);break;case 4:if(wi(l,v),(v&4194240)===v)break;for(u=l.eventTimes,S=-1;0<v;){var D=31-Qn(v);P=1<<D,D=u[D],D>S&&(S=D),v&=~P}if(v=S,v=Dt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*CT(v/1960))-v,10<v){l.timeoutHandle=U(wo.bind(null,l,hn,zr),v);break}wo(l,hn,zr);break;case 5:wo(l,hn,zr);break;default:throw Error(s(329))}}}return pn(l,Dt()),l.callbackNode===m?W1.bind(null,l):null}function pp(l,u){var m=na;return l.current.memoizedState.isDehydrated&&(To(l,u).flags|=256),l=sc(l,u),l!==2&&(u=hn,hn=m,u!==null&&mp(u)),l}function mp(l){hn===null?hn=l:hn.push.apply(hn,l)}function ST(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var S=m[v],P=S.getSnapshot;S=S.value;try{if(!Xn(P(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function wi(l,u){for(u&=~up,u&=~ec,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-Qn(u),v=1<<m;l[m]=-1,u&=~v}}function q1(l){if(Pe&6)throw Error(s(327));Eo();var u=Tu(l,0);if(!(u&1))return pn(l,Dt()),null;var m=sc(l,u);if(l.tag!==0&&m===2){var v=hh(l);v!==0&&(u=v,m=pp(l,v))}if(m===1)throw m=ta,To(l,0),wi(l,u),pn(l,Dt()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,wo(l,hn,zr),pn(l,Dt()),null}function $1(l){xi!==null&&xi.tag===0&&!(Pe&6)&&Eo();var u=Pe;Pe|=1;var m=vt.transition,v=Le;try{if(vt.transition=null,Le=1,l)return l()}finally{Le=v,vt.transition=m,Pe=u,!(Pe&6)&&yr()}}function gp(){Tn=xs.current,Ze(xs)}function To(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==he&&(l.timeoutHandle=he,Z(m)),xt!==null)for(m=xt.return;m!==null;){var v=m;switch(_h(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Cu();break;case 3:Cs(),Ze(cn),Ze($t),Fh();break;case 5:Nh(v);break;case 4:Cs();break;case 13:Ze(lt);break;case 19:Ze(lt);break;case 10:Ph(v.type._context);break;case 22:case 23:gp()}m=m.return}if(Lt=l,xt=l=Ei(l.current,null),Bt=Tn=u,Et=0,ta=null,up=ec=xo=0,hn=na=null,So!==null){for(u=0;u<So.length;u++)if(m=So[u],v=m.interleaved,v!==null){m.interleaved=null;var S=v.next,P=m.pending;if(P!==null){var D=P.next;P.next=S,v.next=D}m.pending=v}So=null}return l}function K1(l,u){do{var m=xt;try{if(kh(),bu.current=Ou,Uu){for(var v=at.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Uu=!1}if(_o=0,Ft=wt=at=null,$l=!1,Kl=0,ap.current=null,m===null||m.return===null){Et=1,ta=u,xt=null;break}e:{var P=l,D=m.return,G=m,q=u;if(u=Bt,G.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var te=q,ae=G,Se=ae.tag;if(!(ae.mode&1)&&(Se===0||Se===11||Se===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var je=v1(D);if(je!==null){je.flags&=-257,C1(je,D,G,P,u),je.mode&1&&y1(P,te,u),u=je,q=te;var qe=u.updateQueue;if(qe===null){var mn=new Set;mn.add(q),u.updateQueue=mn}else qe.add(q);break e}else{if(!(u&1)){y1(P,te,u),yp();break e}q=Error(s(426))}}else if(rt&&G.mode&1){var Hr=v1(D);if(Hr!==null){!(Hr.flags&65536)&&(Hr.flags|=256),C1(Hr,D,G,P,u),wh(Ss(q,G));break e}}P=q=Ss(q,G),Et!==4&&(Et=2),na===null?na=[P]:na.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var H=m1(P,q,u);zy(P,H);break e;case 1:G=q;var O=P.type,K=P.stateNode;if(!(P.flags&128)&&(typeof O.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_i===null||!_i.has(K)))){P.flags|=65536,u&=-u,P.lanes|=u;var oe=g1(P,G,u);zy(P,oe);break e}}P=P.return}while(P!==null)}Q1(m)}catch(me){u=me,xt===m&&m!==null&&(xt=m=m.return);continue}break}while(!0)}function Y1(){var l=ju.current;return ju.current=Ou,l===null?Ou:l}function yp(){(Et===0||Et===3||Et===2)&&(Et=4),Lt===null||!(xo&268435455)&&!(ec&268435455)||wi(Lt,Bt)}function sc(l,u){var m=Pe;Pe|=2;var v=Y1();(Lt!==l||Bt!==u)&&(zr=null,To(l,u));do try{_T();break}catch(S){K1(l,S)}while(!0);if(kh(),Pe=m,ju.current=v,xt!==null)throw Error(s(261));return Lt=null,Bt=0,Et}function _T(){for(;xt!==null;)J1(xt)}function xT(){for(;xt!==null&&!Y6();)J1(xt)}function J1(l){var u=j1(l.alternate,l,Tn);l.memoizedProps=l.pendingProps,u===null?Q1(l):xt=u,ap.current=null}function Q1(l){var u=l;do{var m=u.alternate;if(l=u.return,u.flags&32768){if(m=mT(m,u),m!==null){m.flags&=32767,xt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Et=6,xt=null;return}}else if(m=pT(m,u,Tn),m!==null){xt=m;return}if(u=u.sibling,u!==null){xt=u;return}xt=u=l}while(u!==null);Et===0&&(Et=5)}function wo(l,u,m){var v=Le,S=vt.transition;try{vt.transition=null,Le=1,TT(l,u,m,v)}finally{vt.transition=S,Le=v}return null}function TT(l,u,m,v){do Eo();while(xi!==null);if(Pe&6)throw Error(s(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0;var P=m.lanes|m.childLanes;if(K6(l,P),l===Lt&&(xt=Lt=null,Bt=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||nc||(nc=!0,ev(vh,function(){return Eo(),null})),P=(m.flags&15990)!==0,m.subtreeFlags&15990||P){P=vt.transition,vt.transition=null;var D=Le;Le=1;var G=Pe;Pe|=4,ap.current=null,yT(l,m),G1(m,l),Y(l.containerInfo),l.current=m,vT(m),J6(),Pe=G,Le=D,vt.transition=P}else l.current=m;if(nc&&(nc=!1,xi=l,rc=S),P=l.pendingLanes,P===0&&(_i=null),Z6(m.stateNode),pn(l,Dt()),u!==null)for(v=l.onRecoverableError,m=0;m<u.length;m++)S=u[m],v(S.value,{componentStack:S.stack,digest:S.digest});if(tc)throw tc=!1,l=fp,fp=null,l;return rc&1&&l.tag!==0&&Eo(),P=l.pendingLanes,P&1?l===hp?ra++:(ra=0,hp=l):ra=0,yr(),null}function Eo(){if(xi!==null){var l=My(rc),u=vt.transition,m=Le;try{if(vt.transition=null,Le=16>l?16:l,xi===null)var v=!1;else{if(l=xi,xi=null,rc=0,Pe&6)throw Error(s(331));var S=Pe;for(Pe|=4,se=l.current;se!==null;){var P=se,D=P.child;if(se.flags&16){var G=P.deletions;if(G!==null){for(var q=0;q<G.length;q++){var te=G[q];for(se=te;se!==null;){var ae=se;switch(ae.tag){case 0:case 11:case 15:jl(8,ae,P)}var Se=ae.child;if(Se!==null)Se.return=ae,se=Se;else for(;se!==null;){ae=se;var ie=ae.sibling,je=ae.return;if(F1(ae),ae===te){se=null;break}if(ie!==null){ie.return=je,se=ie;break}se=je}}}var qe=P.alternate;if(qe!==null){var mn=qe.child;if(mn!==null){qe.child=null;do{var Hr=mn.sibling;mn.sibling=null,mn=Hr}while(mn!==null)}}se=P}}if(P.subtreeFlags&2064&&D!==null)D.return=P,se=D;else e:for(;se!==null;){if(P=se,P.flags&2048)switch(P.tag){case 0:case 11:case 15:jl(9,P,P.return)}var H=P.sibling;if(H!==null){H.return=P.return,se=H;break e}se=P.return}}var O=l.current;for(se=O;se!==null;){D=se;var K=D.child;if(D.subtreeFlags&2064&&K!==null)K.return=D,se=K;else e:for(D=O;se!==null;){if(G=se,G.flags&2048)try{switch(G.tag){case 0:case 11:case 15:Ku(9,G)}}catch(me){it(G,G.return,me)}if(G===D){se=null;break e}var oe=G.sibling;if(oe!==null){oe.return=G.return,se=oe;break e}se=G.return}}if(Pe=S,yr(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(wu,l)}catch{}v=!0}return v}finally{Le=m,vt.transition=u}}return!1}function X1(l,u,m){u=Ss(m,u),u=m1(l,u,1),l=Si(l,u,1),u=Qt(),l!==null&&(Bl(l,1,u),pn(l,u))}function it(l,u,m){if(l.tag===3)X1(l,l,m);else for(;u!==null;){if(u.tag===3){X1(u,l,m);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_i===null||!_i.has(v))){l=Ss(m,l),l=g1(u,l,1),u=Si(u,l,1),l=Qt(),u!==null&&(Bl(u,1,l),pn(u,l));break}}u=u.return}}function wT(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=Qt(),l.pingedLanes|=l.suspendedLanes&m,Lt===l&&(Bt&m)===m&&(Et===4||Et===3&&(Bt&130023424)===Bt&&500>Dt()-cp?To(l,0):up|=m),pn(l,u)}function Z1(l,u){u===0&&(l.mode&1?(u=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):u=1);var m=Qt();l=vr(l,u),l!==null&&(Bl(l,u,m),pn(l,m))}function ET(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Z1(l,m)}function kT(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(s(314))}v!==null&&v.delete(u),Z1(l,m)}var j1;j1=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||cn.current)fn=!0;else{if(!(l.lanes&m)&&!(u.flags&128))return fn=!1,hT(l,u,m);fn=!!(l.flags&131072)}else fn=!1,rt&&u.flags&1048576&&Ry(u,Pu,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Hu(l,u),l=u.pendingProps;var S=ds(u,$t.current);ys(u,m),S=Uh(null,u,v,l,S,m);var P=Gh();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,dn(v)?(P=!0,Su(u)):P=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ah(u),S.updater=Bu,u.stateNode=S,S._reactInternals=u,Wh(u,v,l,m),u=Yh(null,u,v,!0,P,m)):(u.tag=0,rt&&P&&Sh(u),rn(null,u,S,m),u=u.child),u;case 16:v=u.elementType;e:{switch(Hu(l,u),l=u.pendingProps,S=v._init,v=S(v._payload),u.type=v,S=u.tag=MT(v),l=jn(v,l),S){case 0:u=Kh(null,u,v,l,m);break e;case 1:u=E1(null,u,v,l,m);break e;case 11:u=S1(null,u,v,l,m);break e;case 14:u=_1(null,u,v,jn(v.type,l),m);break e}throw Error(s(306,v,""))}return u;case 0:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:jn(v,S),Kh(l,u,v,S,m);case 1:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:jn(v,S),E1(l,u,v,S,m);case 3:e:{if(k1(u),l===null)throw Error(s(387));v=u.pendingProps,P=u.memoizedState,S=P.element,By(l,u),Fu(u,v,null,m);var D=u.memoizedState;if(v=D.element,Xe&&P.isDehydrated)if(P={element:v,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){S=Ss(Error(s(423)),u),u=P1(l,u,v,m,S);break e}else if(v!==S){S=Ss(Error(s(424)),u),u=P1(l,u,v,m,S);break e}else for(Xe&&(Nn=M6(u.stateNode.containerInfo),xn=u,rt=!0,Zn=null,zl=!1),m=Gy(u,null,v,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ps(),v===S){u=Br(l,u,m);break e}rn(l,u,v,m)}u=u.child}return u;case 5:return Wy(u),l===null&&Th(u),v=u.type,S=u.pendingProps,P=l!==null?l.memoizedProps:null,D=S.children,Qe(v,S)?D=null:P!==null&&Qe(v,P)&&(u.flags|=32),w1(l,u),rn(l,u,D,m),u.child;case 6:return l===null&&Th(u),null;case 13:return M1(l,u,m);case 4:return Rh(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=ms(u,null,v,m):rn(l,u,v,m),u.child;case 11:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:jn(v,S),S1(l,u,v,S,m);case 7:return rn(l,u,u.pendingProps,m),u.child;case 8:return rn(l,u,u.pendingProps.children,m),u.child;case 12:return rn(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,S=u.pendingProps,P=u.memoizedProps,D=S.value,Vy(u,v,D),P!==null)if(Xn(P.value,D)){if(P.children===S.children&&!cn.current){u=Br(l,u,m);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var G=P.dependencies;if(G!==null){D=P.child;for(var q=G.firstContext;q!==null;){if(q.context===v){if(P.tag===1){q=Or(-1,m&-m),q.tag=2;var te=P.updateQueue;if(te!==null){te=te.shared;var ae=te.pending;ae===null?q.next=q:(q.next=ae.next,ae.next=q),te.pending=q}}P.lanes|=m,q=P.alternate,q!==null&&(q.lanes|=m),Mh(P.return,m,u),G.lanes|=m;break}q=q.next}}else if(P.tag===10)D=P.type===u.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(s(341));D.lanes|=m,G=D.alternate,G!==null&&(G.lanes|=m),Mh(D,m,u),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===u){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}rn(l,u,S.children,m),u=u.child}return u;case 9:return S=u.type,v=u.pendingProps.children,ys(u,m),S=Dn(S),v=v(S),u.flags|=1,rn(l,u,v,m),u.child;case 14:return v=u.type,S=jn(v,u.pendingProps),S=jn(v.type,S),_1(l,u,v,S,m);case 15:return x1(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:jn(v,S),Hu(l,u),u.tag=1,dn(v)?(l=!0,Su(u)):l=!1,ys(u,m),h1(u,v,S),Wh(u,v,S,m),Yh(null,u,v,!0,l,m);case 19:return A1(l,u,m);case 22:return T1(l,u,m)}throw Error(s(156,u.tag))};function ev(l,u){return gh(l,u)}function PT(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(l,u,m,v){return new PT(l,u,m,v)}function vp(l){return l=l.prototype,!(!l||!l.isReactComponent)}function MT(l){if(typeof l=="function")return vp(l)?1:0;if(l!=null){if(l=l.$$typeof,l===T)return 11;if(l===E)return 14}return 2}function Ei(l,u){var m=l.alternate;return m===null?(m=Un(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function lc(l,u,m,v,S,P){var D=2;if(v=l,typeof l=="function")vp(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case p:return ko(m.children,S,P,u);case g:D=8,S|=8;break;case y:return l=Un(12,m,u,S|2),l.elementType=y,l.lanes=P,l;case M:return l=Un(13,m,u,S),l.elementType=M,l.lanes=P,l;case w:return l=Un(19,m,u,S),l.elementType=w,l.lanes=P,l;case k:return ac(m,S,P,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:D=10;break e;case x:D=9;break e;case T:D=11;break e;case E:D=14;break e;case C:D=16,v=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return u=Un(D,m,u,S),u.elementType=l,u.type=v,u.lanes=P,u}function ko(l,u,m,v){return l=Un(7,l,v,u),l.lanes=m,l}function ac(l,u,m,v){return l=Un(22,l,v,u),l.elementType=k,l.lanes=m,l.stateNode={isHidden:!1},l}function Cp(l,u,m){return l=Un(6,l,null,u),l.lanes=m,l}function Sp(l,u,m){return u=Un(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function IT(l,u,m,v,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=he,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ph(0),this.expirationTimes=ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.identifierPrefix=v,this.onRecoverableError=S,Xe&&(this.mutableSourceEagerHydrationData=null)}function tv(l,u,m,v,S,P,D,G,q){return l=new IT(l,u,m,G,q),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Un(3,null,null,u),l.current=P,P.stateNode=l,P.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(P),l}function nv(l){if(!l)return vi;l=l._reactInternals;e:{if(b(l)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(dn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if(dn(m))return Ey(l,m,u)}return u}function rv(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=W(u),l===null?null:l.stateNode}function iv(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function uc(l,u){iv(l,u),(l=l.alternate)&&iv(l,u)}function AT(l){return l=W(l),l===null?null:l.stateNode}function RT(){return null}return n.attemptContinuousHydration=function(l){if(l.tag===13){var u=vr(l,134217728);if(u!==null){var m=Qt();bn(u,l,134217728,m)}uc(l,134217728)}},n.attemptDiscreteHydration=function(l){if(l.tag===13){var u=vr(l,1);if(u!==null){var m=Qt();bn(u,l,1,m)}uc(l,1)}},n.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Ti(l),m=vr(l,u);if(m!==null){var v=Qt();bn(m,l,u,v)}uc(l,u)}},n.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Ol(u.pendingLanes);m!==0&&(mh(u,m|1),pn(u,Dt()),!(Pe&6)&&(Ts(),yr()))}break;case 13:$1(function(){var v=vr(l,1);if(v!==null){var S=Qt();bn(v,l,1,S)}}),uc(l,1)}},n.batchedUpdates=function(l,u){var m=Pe;Pe|=1;try{return l(u)}finally{Pe=m,Pe===0&&(Ts(),Eu&&yr())}},n.createComponentSelector=function(l){return{$$typeof:Yu,value:l}},n.createContainer=function(l,u,m,v,S,P,D){return tv(l,u,!1,null,m,v,S,P,D)},n.createHasPseudoClassSelector=function(l){return{$$typeof:Ju,value:l}},n.createHydrationContainer=function(l,u,m,v,S,P,D,G,q){return l=tv(m,v,!0,l,S,P,D,G,q),l.context=nv(null),m=l.current,v=Qt(),S=Ti(m),P=Or(v,S),P.callback=u??null,Si(m,P,S),l.current.lanes=S,Bl(l,S,v),pn(l,v),l},n.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},n.createRoleSelector=function(l){return{$$typeof:Qu,value:l}},n.createTestNameSelector=function(l){return{$$typeof:Xu,value:l}},n.createTextSelector=function(l){return{$$typeof:Zu,value:l}},n.deferredUpdates=function(l){var u=Le,m=vt.transition;try{return vt.transition=null,Le=16,l()}finally{Le=u,vt.transition=m}},n.discreteUpdates=function(l,u,m,v,S){var P=Le,D=vt.transition;try{return vt.transition=null,Le=1,l(u,m,v,S)}finally{Le=P,vt.transition=D,Pe===0&&Ts()}},n.findAllNodes=lp,n.findBoundingRects=function(l,u){if(!Ul)throw Error(s(363));u=lp(l,u),l=[];for(var m=0;m<u.length;m++)l.push(t6(u[m]));for(u=l.length-1;0<u;u--){m=l[u];for(var v=m.x,S=v+m.width,P=m.y,D=P+m.height,G=u-1;0<=G;G--)if(u!==G){var q=l[G],te=q.x,ae=te+q.width,Se=q.y,ie=Se+q.height;if(v>=te&&P>=Se&&S<=ae&&D<=ie){l.splice(u,1);break}else if(v!==te||m.width!==q.width||ie<P||Se>D){if(!(P!==Se||m.height!==q.height||ae<v||te>S)){te>v&&(q.width+=te-v,q.x=v),ae<S&&(q.width=S-te),l.splice(u,1);break}}else{Se>P&&(q.height+=Se-P,q.y=P),ie<D&&(q.height=D-Se),l.splice(u,1);break}}}return l},n.findHostInstance=rv,n.findHostInstanceWithNoPortals=function(l){return l=z(l),l=l!==null?Q(l):null,l===null?null:l.stateNode},n.findHostInstanceWithWarning=function(l){return rv(l)},n.flushControlled=function(l){var u=Pe;Pe|=1;var m=vt.transition,v=Le;try{vt.transition=null,Le=1,l()}finally{Le=v,vt.transition=m,Pe=u,Pe===0&&(Ts(),yr())}},n.flushPassiveEffects=Eo,n.flushSync=$1,n.focusWithin=function(l,u){if(!Ul)throw Error(s(363));for(l=ip(l),u=H1(l,u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!Gl(m)){if(m.tag===5&&i6(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Le},n.getFindAllNodesFailureDescription=function(l,u){if(!Ul)throw Error(s(363));var m=0,v=[];l=[ip(l),0];for(var S=0;S<l.length;){var P=l[S++],D=l[S++],G=u[D];if((P.tag!==5||!Gl(P))&&(op(P,G)&&(v.push(sp(G)),D++,D>m&&(m=D)),D<u.length))for(P=P.child;P!==null;)l.push(P,D),P=P.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(sp(u[m]));return`findAllNodes was able to match part of the selector:
  `+(v.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},n.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return fe(l.child.stateNode);default:return l.child.stateNode}},n.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:AT,findFiberByHostInstance:l.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{wu=u.inject(l),gr=u}catch{}l=!!u.checkDCE}}return l},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(l,u,m,v){if(!Ul)throw Error(s(363));l=lp(l,u);var S=o6(l,m,v).disconnect;return{disconnect:function(){S()}}},n.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},n.runWithPriority=function(l,u){var m=Le;try{return Le=l,u()}finally{Le=m}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(l,u,m,v){var S=u.current,P=Qt(),D=Ti(S);return m=nv(m),u.context===null?u.context=m:u.pendingContext=m,u=Or(P,D),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Si(S,u,D),l!==null&&(bn(l,S,D,P),Du(l,S,D)),D},n};qx.exports=aO;var uO=qx.exports;const cO=Wd(uO);var $x={exports:{}},us={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */us.ConcurrentRoot=1;us.ContinuousEventPriority=4;us.DefaultEventPriority=16;us.DiscreteEventPriority=1;us.IdleEventPriority=536870912;us.LegacyRoot=0;$x.exports=us;var Kx=$x.exports;const JS={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let QS=!1,XS=!1;const gy=".react-konva-event",dO=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,fO=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,hO={};function sh(t,e,n=hO){if(!QS&&"zIndex"in e&&(console.warn(fO),QS=!0),!XS&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(dO),XS=!0)}for(var o in n)if(!JS[o]){var s=o.slice(0,2)==="on",a=n[o]!==e[o];if(s&&a){var f=o.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t.off(f,n[o])}var h=!e.hasOwnProperty(o);h&&t.setAttr(o,void 0)}var p=e._useStrictMode,g={},y=!1;const _={};for(var o in e)if(!JS[o]){var s=o.slice(0,2)==="on",x=n[o]!==e[o];if(s&&x){var f=o.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e[o]&&(_[f]=e[o])}!s&&(e[o]!==n[o]||p&&e[o]!==t.getAttr(o))&&(y=!0,g[o]=e[o])}y&&(t.setAttrs(g),go(t));for(var f in _)t.on(f+gy,_[f])}function go(t){if(!Ee.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const Yx={},pO={};nu.Node.prototype._applyProps=sh;function mO(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),go(t)}function gO(t,e,n){let r=nu[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=nu.Group);const i={},o={};for(var s in e){var a=s.slice(0,2)==="on";a?o[s]=e[s]:i[s]=e[s]}const f=new r(i);return sh(f,o),f}function yO(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function vO(t,e,n){return!1}function CO(t){return t}function SO(){return null}function _O(){return null}function xO(t,e,n,r){return pO}function TO(){}function wO(t){}function EO(t,e){return!1}function kO(){return Yx}function PO(){return Yx}const MO=setTimeout,IO=clearTimeout,AO=-1;function RO(t,e){return!1}const NO=!1,DO=!0,FO=!0;function LO(t,e){e.parent===t?e.moveToTop():t.add(e),go(t)}function bO(t,e){e.parent===t?e.moveToTop():t.add(e),go(t)}function Jx(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),go(t)}function UO(t,e,n){Jx(t,e,n)}function GO(t,e){e.destroy(),e.off(gy),go(t)}function VO(t,e){e.destroy(),e.off(gy),go(t)}function OO(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function BO(t,e,n){}function zO(t,e,n,r,i){sh(t,i,r)}function HO(t){t.hide(),go(t)}function WO(t){}function qO(t,e){(e.visible==null||e.visible)&&t.show()}function $O(t,e){}function KO(t){}function YO(){}const JO=()=>Kx.DefaultEventPriority,QO=Object.freeze(Object.defineProperty({__proto__:null,appendChild:LO,appendChildToContainer:bO,appendInitialChild:mO,cancelTimeout:IO,clearContainer:KO,commitMount:BO,commitTextUpdate:OO,commitUpdate:zO,createInstance:gO,createTextInstance:yO,detachDeletedInstance:YO,finalizeInitialChildren:vO,getChildHostContext:PO,getCurrentEventPriority:JO,getPublicInstance:CO,getRootHostContext:kO,hideInstance:HO,hideTextInstance:WO,idlePriority:xa.unstable_IdlePriority,insertBefore:Jx,insertInContainerBefore:UO,isPrimaryRenderer:NO,noTimeout:AO,now:xa.unstable_now,prepareForCommit:SO,preparePortalMount:_O,prepareUpdate:xO,removeChild:GO,removeChildFromContainer:VO,resetAfterCommit:TO,resetTextContent:wO,run:xa.unstable_runWithPriority,scheduleTimeout:MO,shouldDeprioritizeSubtree:EO,shouldSetTextContent:RO,supportsMutation:FO,unhideInstance:qO,unhideTextInstance:$O,warnsIfNotActing:DO},Symbol.toStringTag,{value:"Module"}));var XO=Object.defineProperty,ZO=Object.defineProperties,jO=Object.getOwnPropertyDescriptors,ZS=Object.getOwnPropertySymbols,eB=Object.prototype.hasOwnProperty,tB=Object.prototype.propertyIsEnumerable,jS=(t,e,n)=>e in t?XO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e4=(t,e)=>{for(var n in e||(e={}))eB.call(e,n)&&jS(t,n,e[n]);if(ZS)for(var n of ZS(e))tB.call(e,n)&&jS(t,n,e[n]);return t},nB=(t,e)=>ZO(t,jO(e)),t4,n4;typeof window<"u"&&((t4=window.document)!=null&&t4.createElement||((n4=window.navigator)==null?void 0:n4.product)==="ReactNative")?V.useLayoutEffect:V.useEffect;function Qx(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Qx(r,e,n);if(i)return i;r=r.sibling}}function Xx(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const r4=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=r4;return}return r4.apply(this,arguments)};const yy=Xx(V.createContext(null));class Zx extends V.Component{render(){return V.createElement(yy.Provider,{value:this._reactInternals},this.props.children)}}function rB(){const t=V.useContext(yy);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=V.useId();return V.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Qx(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function iB(){const t=rB(),[e]=V.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==yy&&!e.has(i)&&e.set(i,V.useContext(Xx(i)))}n=n.return}return e}function oB(){const t=iB();return V.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>V.createElement(e,null,V.createElement(n.Provider,nB(e4({},r),{value:t.get(n)}))),e=>V.createElement(Zx,e4({},e))),[t])}function sB(t){const e=$e.useRef({});return $e.useLayoutEffect(()=>{e.current=t}),$e.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const lB=t=>{const e=$e.useRef(),n=$e.useRef(),r=$e.useRef(),i=sB(t),o=oB(),s=a=>{const{forwardedRef:f}=t;f&&(typeof f=="function"?f(a):f.current=a)};return $e.useLayoutEffect(()=>(n.current=new nu.Stage({width:t.width,height:t.height,container:e.current}),s(n.current),r.current=_a.createContainer(n.current,Kx.LegacyRoot,!1,null),_a.updateContainer($e.createElement(o,{},t.children),r.current),()=>{nu.isBrowser&&(s(null),_a.updateContainer(null,r.current,null),n.current.destroy())}),[]),$e.useLayoutEffect(()=>{s(n.current),sh(n.current,t,i),_a.updateContainer($e.createElement(o,{},t.children),r.current,null)}),$e.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},aB="Layer",i4="Line",uB="Image",_a=cO(QO);_a.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:$e.version,rendererPackageName:"react-konva"});const cB=$e.forwardRef((t,e)=>$e.createElement(Zx,{},$e.createElement(lB,{...t,forwardedRef:e}))),dB=()=>{const{t}=du(),{canvasImage:e,canvasZoom:n,setCanvasZoom:r,canvasPan:i,setCanvasPan:o,brushStrokes:s,addBrushStroke:a,clearBrushStrokes:f,showMasks:h,setShowMasks:p,selectedTool:g,isGenerating:y,brushSize:_,setBrushSize:x}=qn(),T=V.useRef(null),[M,w]=V.useState(null),[E,C]=V.useState({width:800,height:600}),[k,I]=V.useState(!1),[N,F]=V.useState([]);V.useEffect(()=>{if(e){const Q=new window.Image;Q.onload=()=>{if(w(Q),n===1&&i.x===0&&i.y===0){const J=window.innerWidth<768,fe=J?.9:.8,pe=E.width*fe/Q.width,B=E.height*fe/Q.height,Y=Math.min(pe,B,J?.3:.8);r(Y),o({x:0,y:0})}},Q.src=e}else w(null)},[e,E,r,o,n,i]),V.useEffect(()=>{const Q=()=>{const J=document.getElementById("canvas-container");J&&C({width:J.offsetWidth,height:J.offsetHeight})};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const R=Q=>{if(g!=="mask"||!M)return;I(!0);const J=Q.target.getStage();J.getPointerPosition();const fe=J.getRelativePointerPosition(),pe=(E.width/n-M.width)/2,B=(E.height/n-M.height)/2,ee=fe.x-pe,Y=fe.y-B;ee>=0&&ee<=M.width&&Y>=0&&Y<=M.height&&F([ee,Y])},b=Q=>{if(!k||g!=="mask"||!M)return;const J=Q.target.getStage();J.getPointerPosition();const fe=J.getRelativePointerPosition(),pe=(E.width/n-M.width)/2,B=(E.height/n-M.height)/2,ee=fe.x-pe,Y=fe.y-B;ee>=0&&ee<=M.width&&Y>=0&&Y<=M.height&&F([...N,ee,Y])},L=()=>{if(!k||N.length<4){I(!1),F([]);return}I(!1),a({id:`stroke-${Date.now()}`,points:N,brushSize:_,color:"#A855F7"}),F([])},z=Q=>{const J=Math.max(.1,Math.min(3,n+Q));r(J)},W=()=>{if(M){const Q=window.innerWidth<768,J=Q?.9:.8,fe=E.width*J/M.width,pe=E.height*J/M.height,ee=Math.min(fe,pe,Q?.3:.8);r(ee),o({x:0,y:0})}},X=()=>{if(e&&e.startsWith("data:")){const Q=document.createElement("a");Q.href=e,Q.download=`nano-banana-${Date.now()}.png`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}};return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(It,{variant:"outline",size:"sm",onClick:()=>z(-.1),children:A.jsx(A9,{className:"h-4 w-4"})}),A.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[60px] text-center",children:[Math.round(n*100),"%"]}),A.jsx(It,{variant:"outline",size:"sm",onClick:()=>z(.1),children:A.jsx(I9,{className:"h-4 w-4"})}),A.jsx(It,{variant:"outline",size:"sm",onClick:W,children:A.jsx(X_,{className:"h-4 w-4"})})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[g==="mask"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex items-center space-x-2 mr-2",children:[A.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t("brush"),":"]}),A.jsx("input",{type:"range",min:"5",max:"50",value:_,onChange:Q=>x(parseInt(Q.target.value)),className:"w-16 h-2 bg-gray-200 dark:bg-gray-800 rounded-lg appearance-none cursor-pointer slider"}),A.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-6",children:_})]}),A.jsx(It,{variant:"outline",size:"sm",onClick:f,disabled:s.length===0,children:A.jsx(C9,{className:"h-4 w-4"})})]}),A.jsxs(It,{variant:"outline",size:"sm",onClick:()=>p(!h),className:io(h&&"bg-yellow-400/10 border-yellow-400/50"),children:[h?A.jsx(_9,{className:"h-4 w-4"}):A.jsx(S9,{className:"h-4 w-4"}),A.jsx("span",{className:"hidden sm:inline ml-2",children:t("masks")})]}),e&&A.jsxs(It,{variant:"secondary",size:"sm",onClick:X,children:[A.jsx(Q_,{className:"h-4 w-4 mr-2"}),A.jsx("span",{className:"hidden sm_inline",children:t("download")})]})]})]})}),A.jsxs("div",{id:"canvas-container",className:"flex-1 relative overflow-hidden bg-gray-100 dark:bg-gray-800",children:[!M&&!y&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"text-6xl mb-4",children:""}),A.jsx("h2",{className:"text-xl font-medium text-gray-800 dark:text-gray-300 mb-2",children:t("welcomeTitle")}),A.jsx("p",{className:"text-gray-600 dark:text-gray-500 max-w-md",children:t(g==="generate"?"welcomeGenerate":"welcomeEdit")})]})}),y&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 dark:bg-gray-900/50",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mb-4"}),A.jsxs("p",{className:"text-gray-800 dark:text-gray-300",children:[t("creatingImage"),"..."]})]})}),A.jsx(cB,{ref:T,width:E.width,height:E.height,scaleX:n,scaleY:n,x:i.x*n,y:i.y*n,draggable:g!=="mask",onDragEnd:Q=>{o({x:Q.target.x()/n,y:Q.target.y()/n})},onMouseDown:R,onMousemove:b,onMouseup:L,style:{cursor:g==="mask"?"crosshair":"default"},children:A.jsxs(aB,{children:[M&&A.jsx(uB,{image:M,x:(E.width/n-M.width)/2,y:(E.height/n-M.height)/2}),h&&s.map(Q=>A.jsx(i4,{points:Q.points,stroke:"#A855F7",strokeWidth:Q.brushSize,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",opacity:.6,x:(E.width/n-((M==null?void 0:M.width)||0))/2,y:(E.height/n-((M==null?void 0:M.height)||0))/2},Q.id)),k&&N.length>2&&A.jsx(i4,{points:N,stroke:"#A855F7",strokeWidth:_,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:"source-over",opacity:.6,x:(E.width/n-((M==null?void 0:M.width)||0))/2,y:(E.height/n-((M==null?void 0:M.height)||0))/2})]})})]}),A.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950",children:A.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-500",children:[A.jsx("div",{className:"flex items-center space-x-4",children:s.length>0&&A.jsxs("span",{className:"text-yellow-500 dark:text-yellow-400",children:[s.length," brush stroke",s.length>1?"s":""]})}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-500",children:t("copyright")}),A.jsx("span",{className:"text-gray-400 dark:text-gray-600 hidden md:inline",children:""}),A.jsx("span",{className:"text-yellow-500 dark:text-yellow-400 hidden md:inline",children:""}),A.jsx("span",{className:"hidden md:inline",children:t("poweredBy")})]})]})})]})},fB=({open:t,onOpenChange:e,imageUrl:n,title:r,description:i})=>A.jsx(W0,{open:t,onOpenChange:e,children:A.jsxs(q0,{children:[A.jsx($0,{className:"fixed inset-0 bg-black/80 z-50"}),A.jsxs(K0,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-900 border border-gray-700 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto z-50",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx(Y0,{className:"text-lg font-semibold text-gray-100",children:r}),A.jsx(J0,{asChild:!0,children:A.jsx(It,{variant:"ghost",size:"icon",className:"h-6 w-6",children:A.jsx(O0,{className:"h-4 w-4"})})})]}),A.jsxs("div",{className:"space-y-4",children:[i&&A.jsx("p",{className:"text-sm text-gray-400",children:i}),A.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:A.jsx("img",{src:n,alt:r,className:"w-full h-auto rounded-lg border border-gray-700"})})]})]})]})}),hB=()=>{const{t}=du(),{currentProject:e,canvasImage:n,selectedGenerationId:r,selectedEditId:i,selectGeneration:o,selectEdit:s,showHistory:a,setShowHistory:f,setCanvasImage:h,selectedTool:p}=qn(),[g,y]=$e.useState({open:!1,imageUrl:"",title:"",description:""}),_=(e==null?void 0:e.generations)||[],x=(e==null?void 0:e.edits)||[],[T,M]=$e.useState(null);return $e.useEffect(()=>{if(n){const w=new Image;w.onload=()=>{M({width:w.width,height:w.height})},w.src=n}else M(null)},[n]),a?A.jsxs("div",{className:"w-80 bg-white dark:bg-gray-950 border-l border-gray-200 dark:border-gray-800 p-6 flex flex-col h-full",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(T9,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),A.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t("historyVariants")})]}),A.jsx(It,{variant:"ghost",size:"icon",onClick:()=>f(!a),className:"h-6 w-6",title:t("hideHistoryPanel"),children:""})]}),A.jsxs("div",{className:"mb-6 flex-shrink-0",children:[A.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-3",children:t("currentVariants")}),_.length===0&&x.length===0?A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"text-4xl mb-2",children:""}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:t("noGenerationsYet")})]}):A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.slice(-2).map((w,E)=>A.jsxs("div",{className:io("relative aspect-square rounded-lg border-2 cursor-pointer transition-all duration-200 overflow-hidden",r===w.id?"border-yellow-400":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"),onClick:()=>{o(w.id),w.outputAssets[0]&&h(w.outputAssets[0].url)},children:[w.outputAssets[0]?A.jsx(A.Fragment,{children:A.jsx("img",{src:w.outputAssets[0].url,alt:"Generated variant",className:"w-full h-full object-cover"})}):A.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:A.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400"})}),A.jsxs("div",{className:"absolute top-2 left-2 bg-white/80 dark:bg-gray-900/80 text-xs px-2 py-1 rounded text-gray-700 dark:text-gray-300",children:["#",E+1]})]},w.id)),x.slice(-2).map((w,E)=>A.jsxs("div",{className:io("relative aspect-square rounded-lg border-2 cursor-pointer transition-all duration-200 overflow-hidden",i===w.id?"border-yellow-400":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"),onClick:()=>{w.outputAssets[0]&&(h(w.outputAssets[0].url),s(w.id),o(null))},children:[w.outputAssets[0]?A.jsx("img",{src:w.outputAssets[0].url,alt:"Edited variant",className:"w-full h-full object-cover"}):A.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:A.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-400"})}),A.jsxs("div",{className:"absolute top-2 left-2 bg-purple-100 dark:bg-purple-900/80 text-purple-700 dark:text-purple-300 text-xs px-2 py-1 rounded",children:[t("edit")," #",E+1]})]},w.id))]})]}),(n||T)&&A.jsxs("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[A.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("currentImage")}),A.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-500",children:[T&&A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("dimensions"),":"]}),A.jsxs("span",{className:"text-gray-800 dark:text-gray-300",children:[T.width,"  ",T.height]})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("mode"),":"]}),A.jsx("span",{className:"text-gray-800 dark:text-gray-300 capitalize",children:p})]})]})]}),A.jsxs("div",{className:"mb-6 p-4 bg-gray-100 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 flex-1 overflow-y-auto min-h-0",children:[A.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("generationDetails")}),(()=>{var C;const w=_.find(k=>k.id===r),E=x.find(k=>k.id===i);if(w)return A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"space-y-2 text-xs text-gray-600 dark:text-gray-500",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[t("prompt"),":"]}),A.jsx("p",{className:"text-gray-800 dark:text-gray-300 mt-1",children:w.prompt})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("model"),":"]}),A.jsx("span",{children:w.modelVersion})]}),w.parameters.seed&&A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("seed"),":"]}),A.jsx("span",{children:w.parameters.seed})]})]}),w.sourceAssets.length>0&&A.jsxs("div",{children:[A.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("referenceImages")}),A.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.sourceAssets.map((k,I)=>A.jsxs("button",{onClick:()=>y({open:!0,imageUrl:k.url,title:`${t("referenceImage")} ${I+1}`,description:t("referenceImageDescription")}),className:"relative aspect-square rounded border border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 transition-colors overflow-hidden group",children:[A.jsx("img",{src:k.url,alt:`${t("referenceImage")} ${I+1}`,className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:A.jsx(Qp,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),A.jsxs("div",{className:"absolute bottom-1 left-1 bg-white/80 dark:bg-gray-900/80 text-xs px-1 py-0.5 rounded text-gray-700 dark:text-gray-300",children:[t("ref")," ",I+1]})]},k.id))})]})]});if(E){const k=_.find(I=>I.id===E.parentGenerationId);return A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"space-y-2 text-xs text-gray-600 dark:text-gray-500",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[t("editInstruction"),":"]}),A.jsx("p",{className:"text-gray-800 dark:text-gray-300 mt-1",children:E.instruction})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("type"),":"]}),A.jsx("span",{children:t("imageEdit")})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("created"),":"]}),A.jsx("span",{children:new Date(E.timestamp).toLocaleTimeString()})]}),E.maskAssetId&&A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("span",{children:[t("mask"),":"]}),A.jsx("span",{className:"text-purple-400",children:t("applied")})]})]}),k&&A.jsxs("div",{children:[A.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("originalImage")}),A.jsxs("button",{onClick:()=>{var I;return y({open:!0,imageUrl:((I=k.outputAssets[0])==null?void 0:I.url)||"",title:t("originalImage"),description:t("originalImageDescription")})},className:"relative aspect-square w-16 rounded border border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 transition-colors overflow-hidden group",children:[A.jsx("img",{src:(C=k.outputAssets[0])==null?void 0:C.url,alt:"Original",className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:A.jsx(Qp,{className:"h-3 w-3 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})]}),E.maskReferenceAsset&&A.jsxs("div",{children:[A.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:t("maskedReference")}),A.jsxs("button",{onClick:()=>y({open:!0,imageUrl:E.maskReferenceAsset.url,title:t("maskedReferenceImage"),description:t("maskedReferenceImageDescription")}),className:"relative aspect-square w-16 rounded border border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 transition-colors overflow-hidden group",children:[A.jsx("img",{src:E.maskReferenceAsset.url,alt:t("maskedReference"),className:"w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:A.jsx(Qp,{className:"h-3 w-3 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),A.jsx("div",{className:"absolute bottom-1 left-1 bg-purple-100 dark:bg-purple-900/80 text-xs px-1 py-0.5 rounded text-purple-700 dark:text-purple-300",children:t("mask")})]})]})]})}else return A.jsx("div",{className:"space-y-2 text-xs text-gray-600 dark:text-gray-500",children:A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t("selectGenerationEdit")})})})()]}),A.jsx("div",{className:"space-y-3 flex-shrink-0",children:A.jsxs(It,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{var E;let w=null;if(r){const C=_.find(k=>k.id===r);w=((E=C==null?void 0:C.outputAssets[0])==null?void 0:E.url)||null}else{const{canvasImage:C}=qn.getState();w=C}if(w)if(w.startsWith("data:")){const C=document.createElement("a");C.href=w,C.download=`nano-banana-${Date.now()}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C)}else fetch(w).then(C=>C.blob()).then(C=>{const k=URL.createObjectURL(C),I=document.createElement("a");I.href=k,I.download=`nano-banana-${Date.now()}.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(k)})},disabled:!r&&!qn.getState().canvasImage,children:[A.jsx(Q_,{className:"h-4 w-4 mr-2"}),t("download")]})}),A.jsx(fB,{open:g.open,onOpenChange:w=>y(E=>({...E,open:w})),imageUrl:g.imageUrl,title:g.title,description:g.description})]}):A.jsx("div",{className:"w-8 bg-gray-100 dark:bg-gray-950 border-l border-gray-200 dark:border-gray-800 flex flex-col items-center justify-center",children:A.jsx("button",{onClick:()=>f(!0),className:"w-6 h-16 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-l-lg border border-r-0 border-gray-300 dark:border-gray-700 flex items-center justify-center transition-colors group",title:t("showHistoryPanel"),children:A.jsxs("div",{className:"flex flex-col space-y-1",children:[A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"}),A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"}),A.jsx("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 group-hover:bg-gray-500 dark:group-hover:bg-gray-400 rounded-full"})]})})})},pB=()=>{const{setSelectedTool:t,setShowHistory:e,showHistory:n,setShowPromptPanel:r,showPromptPanel:i,currentPrompt:o,isGenerating:s}=qn();V.useEffect(()=>{const a=f=>{if(f.target instanceof HTMLInputElement||f.target instanceof HTMLTextAreaElement){(f.metaKey||f.ctrlKey)&&f.key==="Enter"&&(f.preventDefault(),!s&&o.trim()&&console.log("Generate via keyboard shortcut"));return}switch(f.key.toLowerCase()){case"e":f.preventDefault(),t("edit");break;case"g":f.preventDefault(),t("generate");break;case"m":f.preventDefault(),t("mask");break;case"h":f.preventDefault(),e(!n);break;case"p":f.preventDefault(),r(!i);break;case"r":f.shiftKey&&(f.preventDefault(),console.log("Re-roll variants"));break}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t,e,n,r,i,o,s])},mB=new ME({defaultOptions:{queries:{staleTime:5*60*1e3,retry:2}}});function gB(){pB();const{showPromptPanel:t,setShowPromptPanel:e,showHistory:n,setShowHistory:r,theme:i}=qn();return $e.useEffect(()=>{const o=()=>{window.innerWidth<768&&(e(!1),r(!1))};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e,r]),$e.useEffect(()=>{i.mode==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i.mode]),A.jsxs("div",{className:"h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col font-sans",children:[A.jsx(ZL,{}),A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsx("div",{className:io("flex-shrink-0 transition-all duration-300",!t&&"w-8"),children:A.jsx(ob,{})}),A.jsx("div",{className:"flex-1 min-w-0",children:A.jsx(dB,{})}),A.jsx("div",{className:"flex-shrink-0",children:A.jsx(hB,{})})]})]})}function yB(){return A.jsx(RE,{client:mB,children:A.jsx(gB,{})})}P_(document.getElementById("root")).render(A.jsx(V.StrictMode,{children:A.jsx(yB,{})}));
